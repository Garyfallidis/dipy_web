{"parents": [{"link": "../../documentation/", "title": "Documentation"}, {"link": "../", "title": "API Reference"}], "prev": null, "next": null, "title": "<code class=\"docutils literal notranslate\"><span class=\"pre\">segment</span></code>", "meta": {}, "body": "<div class=\"section\" id=\"module-dipy.segment\">\n<span id=\"segment\"></span><h1><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">segment</span></code><a class=\"headerlink\" href=\"#module-dipy.segment\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n</tbody>\n</table>\n<div class=\"section\" id=\"module-dipy.segment.benchmarks\">\n<span id=\"module-segment-benchmarks\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">segment.benchmarks</span></code><a class=\"headerlink\" href=\"#module-dipy.segment.benchmarks\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.segment.benchmarks.bench_quickbundles\">\n<span id=\"module-segment-benchmarks-bench-quickbundles\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">segment.benchmarks.bench_quickbundles</span></code><a class=\"headerlink\" href=\"#module-dipy.segment.benchmarks.bench_quickbundles\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Benchmarks for QuickBundles</p>\n<p>Run all benchmarks with:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">dipy.segment</span> <span class=\"k\">as</span> <span class=\"nn\">dipysegment</span>\n<span class=\"n\">dipysegment</span><span class=\"o\">.</span><span class=\"n\">bench</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>If you have doctests enabled by default in nose (with a noserc file or\nenvironment variable), and you have a numpy version &lt;= 1.6.1, this will\nalso run the doctests, let\u2019s hope they pass.</p>\n<p>Run this benchmark with:</p>\n<blockquote>\n<div>nosetests -s \u2013match \u2018(?:^|[b_.//-])[Bb]ench\u2019 bench_quickbundles.py</div></blockquote>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.MDFpy\" title=\"dipy.segment.benchmarks.bench_quickbundles.MDFpy\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">MDFpy</span></code></a></td>\n<td><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"></td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.Metric\" title=\"dipy.segment.benchmarks.bench_quickbundles.Metric\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Metric</span></code></a></td>\n<td>Computes a distance between two sequential data.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.QB_New\" title=\"dipy.segment.benchmarks.bench_quickbundles.QB_New\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">QB_New</span></code></a></td>\n<td>alias of <a class=\"reference internal\" href=\"#dipy.segment.clustering.QuickBundles\" title=\"dipy.segment.clustering.QuickBundles\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.clustering.QuickBundles</span></code></a></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.QB_Old\" title=\"dipy.segment.benchmarks.bench_quickbundles.QB_Old\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">QB_Old</span></code></a></td>\n<td>alias of <a class=\"reference internal\" href=\"#dipy.segment.quickbundles.QuickBundles\" title=\"dipy.segment.quickbundles.QuickBundles\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.quickbundles.QuickBundles</span></code></a></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.assert_array_equal\" title=\"dipy.segment.benchmarks.bench_quickbundles.assert_array_equal\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_array_equal</span></code></a>(x,&nbsp;y[,&nbsp;err_msg,&nbsp;verbose])</td>\n<td>Raises an AssertionError if two array_like objects are not equal.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.assert_arrays_equal\" title=\"dipy.segment.benchmarks.bench_quickbundles.assert_arrays_equal\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_arrays_equal</span></code></a>(arrays1,&nbsp;arrays2)</td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.assert_equal\" title=\"dipy.segment.benchmarks.bench_quickbundles.assert_equal\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_equal</span></code></a></td>\n<td>Fail if the two objects are unequal as determined by the \u2018==\u2019 operator.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.bench_quickbundles\" title=\"dipy.segment.benchmarks.bench_quickbundles.bench_quickbundles\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">bench_quickbundles</span></code></a>()</td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.get_fnames\" title=\"dipy.segment.benchmarks.bench_quickbundles.get_fnames\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">get_fnames</span></code></a>([name])</td>\n<td>provides filenames of some test datasets or other useful parametrisations</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.measure\" title=\"dipy.segment.benchmarks.bench_quickbundles.measure\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">measure</span></code></a>(code_str[,&nbsp;times,&nbsp;label])</td>\n<td>Return elapsed time for executing code in the namespace of the caller.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.segment.bundles\">\n<span id=\"module-segment-bundles\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">segment.bundles</span></code><a class=\"headerlink\" href=\"#module-dipy.segment.bundles\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.BundleMinDistanceAsymmetricMetric\" title=\"dipy.segment.bundles.BundleMinDistanceAsymmetricMetric\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">BundleMinDistanceAsymmetricMetric</span></code></a>([num_threads])</td>\n<td>Asymmetric Bundle-based Minimum distance</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.BundleMinDistanceMetric\" title=\"dipy.segment.bundles.BundleMinDistanceMetric\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">BundleMinDistanceMetric</span></code></a>([num_threads])</td>\n<td>Bundle-based Minimum Distance aka BMD</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.BundleSumDistanceMatrixMetric\" title=\"dipy.segment.bundles.BundleSumDistanceMatrixMetric\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">BundleSumDistanceMatrixMetric</span></code></a>([num_threads])</td>\n<td>Bundle-based Sum Distance aka BMD</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.RecoBundles\" title=\"dipy.segment.bundles.RecoBundles\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">RecoBundles</span></code></a>(streamlines[,&nbsp;greater_than,&nbsp;\u2026])</td>\n<td><p class=\"rubric\">Methods</p>\n</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.StreamlineLinearRegistration\" title=\"dipy.segment.bundles.StreamlineLinearRegistration\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">StreamlineLinearRegistration</span></code></a>([metric,&nbsp;x0,&nbsp;\u2026])</td>\n<td><p class=\"rubric\">Methods</p>\n</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.Streamlines\" title=\"dipy.segment.bundles.Streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Streamlines</span></code></a></td>\n<td>alias of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">nibabel.streamlines.array_sequence.ArraySequence</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.chain\" title=\"dipy.segment.bundles.chain\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">chain</span></code></a></td>\n<td>chain(<a href=\"#id1\"><span class=\"problematic\" id=\"id2\">*</span></a>iterables) \u2013&gt; chain object</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.apply_affine\" title=\"dipy.segment.bundles.apply_affine\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">apply_affine</span></code></a>(aff,&nbsp;pts)</td>\n<td>Apply affine matrix <cite>aff</cite> to points <cite>pts</cite></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.ba_analysis\" title=\"dipy.segment.bundles.ba_analysis\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ba_analysis</span></code></a>(recognized_bundle,&nbsp;expert_bundle)</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.bundle_adjacency\" title=\"dipy.segment.bundles.bundle_adjacency\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">bundle_adjacency</span></code></a>(dtracks0,&nbsp;dtracks1,&nbsp;threshold)</td>\n<td>Find bundle adjacency between two given tracks/bundles</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.bundles_distances_mam\" title=\"dipy.segment.bundles.bundles_distances_mam\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">bundles_distances_mam</span></code></a></td>\n<td>Calculate distances between list of tracks A and list of tracks B</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.bundles_distances_mdf\" title=\"dipy.segment.bundles.bundles_distances_mdf\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">bundles_distances_mdf</span></code></a></td>\n<td>Calculate distances between list of tracks A and list of tracks B</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.check_range\" title=\"dipy.segment.bundles.check_range\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">check_range</span></code></a>(streamline,&nbsp;gt,&nbsp;lt)</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.length\" title=\"dipy.segment.bundles.length\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">length</span></code></a></td>\n<td>Euclidean length of streamlines</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.nbytes\" title=\"dipy.segment.bundles.nbytes\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">nbytes</span></code></a>(streamlines)</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.qbx_and_merge\" title=\"dipy.segment.bundles.qbx_and_merge\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">qbx_and_merge</span></code></a>(streamlines,&nbsp;thresholds[,&nbsp;\u2026])</td>\n<td>Run QuickBundlesX and then run again on the centroids of the last layer</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.select_random_set_of_streamlines\" title=\"dipy.segment.bundles.select_random_set_of_streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">select_random_set_of_streamlines</span></code></a>(\u2026[,&nbsp;rng])</td>\n<td>Select a random set of streamlines</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.set_number_of_points\" title=\"dipy.segment.bundles.set_number_of_points\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">set_number_of_points</span></code></a></td>\n<td>Change the number of points of streamlines</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.time\" title=\"dipy.segment.bundles.time\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">time</span></code></a>()</td>\n<td>Return the current time in seconds since the Epoch.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.segment.clustering\">\n<span id=\"module-segment-clustering\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">segment.clustering</span></code><a class=\"headerlink\" href=\"#module-dipy.segment.clustering\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.ABCMeta\" title=\"dipy.segment.clustering.ABCMeta\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ABCMeta</span></code></a></td>\n<td>Metaclass for defining Abstract Base Classes (ABCs).</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.AveragePointwiseEuclideanMetric\" title=\"dipy.segment.clustering.AveragePointwiseEuclideanMetric\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">AveragePointwiseEuclideanMetric</span></code></a></td>\n<td>Computes the average of pointwise Euclidean distances between two sequential data.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.Cluster\" title=\"dipy.segment.clustering.Cluster\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Cluster</span></code></a>([id,&nbsp;indices,&nbsp;refdata])</td>\n<td>Provides functionalities for interacting with a cluster.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterCentroid\" title=\"dipy.segment.clustering.ClusterCentroid\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ClusterCentroid</span></code></a>(centroid[,&nbsp;id,&nbsp;indices,&nbsp;refdata])</td>\n<td>Provides functionalities for interacting with a cluster.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterMap\" title=\"dipy.segment.clustering.ClusterMap\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ClusterMap</span></code></a>([refdata])</td>\n<td>Provides functionalities for interacting with clustering outputs.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterMapCentroid\" title=\"dipy.segment.clustering.ClusterMapCentroid\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ClusterMapCentroid</span></code></a>([refdata])</td>\n<td>Provides functionalities for interacting with clustering outputs that have centroids.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.Clustering\" title=\"dipy.segment.clustering.Clustering\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Clustering</span></code></a></td>\n<td><p class=\"rubric\">Methods</p>\n</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.Identity\" title=\"dipy.segment.clustering.Identity\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Identity</span></code></a></td>\n<td>Provides identity indexing functionality.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.Metric\" title=\"dipy.segment.clustering.Metric\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Metric</span></code></a></td>\n<td>Computes a distance between two sequential data.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.MinimumAverageDirectFlipMetric\" title=\"dipy.segment.clustering.MinimumAverageDirectFlipMetric\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">MinimumAverageDirectFlipMetric</span></code></a></td>\n<td>Computes the MDF distance (minimum average direct-flip) between two sequential data.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.QuickBundles\" title=\"dipy.segment.clustering.QuickBundles\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">QuickBundles</span></code></a>(threshold[,&nbsp;metric,&nbsp;\u2026])</td>\n<td>Clusters streamlines using QuickBundles <a class=\"reference internal\" href=\"#r2491d57df3a8-garyfallidis12\" id=\"id3\">[Garyfallidis12]</a>.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.QuickBundlesX\" title=\"dipy.segment.clustering.QuickBundlesX\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">QuickBundlesX</span></code></a>(thresholds[,&nbsp;metric])</td>\n<td>Clusters streamlines using QuickBundlesX.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.ResampleFeature\" title=\"dipy.segment.clustering.ResampleFeature\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ResampleFeature</span></code></a></td>\n<td>Extracts features from a sequential datum.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.TreeCluster\" title=\"dipy.segment.clustering.TreeCluster\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">TreeCluster</span></code></a>(threshold,&nbsp;centroid[,&nbsp;indices])</td>\n<td><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"></td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.TreeClusterMap\" title=\"dipy.segment.clustering.TreeClusterMap\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">TreeClusterMap</span></code></a>(root)</td>\n<td><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"></td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.abstractmethod\" title=\"dipy.segment.clustering.abstractmethod\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">abstractmethod</span></code></a>(funcobj)</td>\n<td>A decorator indicating abstract methods.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.nbytes\" title=\"dipy.segment.clustering.nbytes\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">nbytes</span></code></a>(streamlines)</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.qbx_and_merge\" title=\"dipy.segment.clustering.qbx_and_merge\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">qbx_and_merge</span></code></a>(streamlines,&nbsp;thresholds[,&nbsp;\u2026])</td>\n<td>Run QuickBundlesX and then run again on the centroids of the last layer</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.set_number_of_points\" title=\"dipy.segment.clustering.set_number_of_points\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">set_number_of_points</span></code></a></td>\n<td>Change the number of points of streamlines</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.time\" title=\"dipy.segment.clustering.time\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">time</span></code></a>()</td>\n<td>Return the current time in seconds since the Epoch.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.segment.mask\">\n<span id=\"module-segment-mask\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">segment.mask</span></code><a class=\"headerlink\" href=\"#module-dipy.segment.mask\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.mask.applymask\" title=\"dipy.segment.mask.applymask\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">applymask</span></code></a>(vol,&nbsp;mask)</td>\n<td>Mask vol with mask.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.mask.binary_dilation\" title=\"dipy.segment.mask.binary_dilation\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">binary_dilation</span></code></a>(input[,&nbsp;structure,&nbsp;\u2026])</td>\n<td>Multi-dimensional binary dilation with the given structuring element.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.mask.bounding_box\" title=\"dipy.segment.mask.bounding_box\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">bounding_box</span></code></a>(vol)</td>\n<td>Compute the bounding box of nonzero intensity voxels in the volume.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.mask.clean_cc_mask\" title=\"dipy.segment.mask.clean_cc_mask\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">clean_cc_mask</span></code></a>(mask)</td>\n<td>Cleans a segmentation of the corpus callosum so no random pixels are included.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.mask.color_fa\" title=\"dipy.segment.mask.color_fa\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">color_fa</span></code></a>(fa,&nbsp;evecs)</td>\n<td>Color fractional anisotropy of diffusion tensor</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.mask.crop\" title=\"dipy.segment.mask.crop\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">crop</span></code></a>(vol,&nbsp;mins,&nbsp;maxs)</td>\n<td>Crops the input volume.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.mask.fractional_anisotropy\" title=\"dipy.segment.mask.fractional_anisotropy\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">fractional_anisotropy</span></code></a>(evals[,&nbsp;axis])</td>\n<td>Fractional anisotropy (FA) of a diffusion tensor.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.mask.generate_binary_structure\" title=\"dipy.segment.mask.generate_binary_structure\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">generate_binary_structure</span></code></a>(rank,&nbsp;connectivity)</td>\n<td>Generate a binary structure for binary morphological operations.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.mask.median_filter\" title=\"dipy.segment.mask.median_filter\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">median_filter</span></code></a>(input[,&nbsp;size,&nbsp;footprint,&nbsp;\u2026])</td>\n<td>Calculate a multidimensional median filter.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.mask.median_otsu\" title=\"dipy.segment.mask.median_otsu\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">median_otsu</span></code></a>(input_volume[,&nbsp;median_radius,&nbsp;\u2026])</td>\n<td>Simple brain extraction tool method for images from DWI data.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.mask.multi_median\" title=\"dipy.segment.mask.multi_median\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">multi_median</span></code></a>(input,&nbsp;median_radius,&nbsp;numpass)</td>\n<td>Applies median filter multiple times on input data.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.mask.otsu\" title=\"dipy.segment.mask.otsu\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">otsu</span></code></a>(image[,&nbsp;nbins])</td>\n<td>Return threshold value based on Otsu\u2019s method.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.mask.segment_from_cfa\" title=\"dipy.segment.mask.segment_from_cfa\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">segment_from_cfa</span></code></a>(tensor_fit,&nbsp;roi,&nbsp;threshold)</td>\n<td>Segment the cfa inside roi using the values from threshold as bounds.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.mask.warn\" title=\"dipy.segment.mask.warn\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">warn</span></code></a></td>\n<td>Issue a warning, or maybe ignore it or raise an exception.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.segment.metric\">\n<span id=\"module-segment-metric\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">segment.metric</span></code><a class=\"headerlink\" href=\"#module-dipy.segment.metric\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.ArcLengthFeature\" title=\"dipy.segment.metric.ArcLengthFeature\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ArcLengthFeature</span></code></a></td>\n<td>Extracts features from a sequential datum.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.AveragePointwiseEuclideanMetric\" title=\"dipy.segment.metric.AveragePointwiseEuclideanMetric\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">AveragePointwiseEuclideanMetric</span></code></a></td>\n<td>Computes the average of pointwise Euclidean distances between two sequential data.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.CenterOfMassFeature\" title=\"dipy.segment.metric.CenterOfMassFeature\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">CenterOfMassFeature</span></code></a></td>\n<td>Extracts features from a sequential datum.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.CosineMetric\" title=\"dipy.segment.metric.CosineMetric\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">CosineMetric</span></code></a></td>\n<td>Computes the cosine distance between two vectors.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.EuclideanMetric\" title=\"dipy.segment.metric.EuclideanMetric\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">EuclideanMetric</span></code></a></td>\n<td>alias of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.metricspeed.SumPointwiseEuclideanMetric</span></code></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.Feature\" title=\"dipy.segment.metric.Feature\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Feature</span></code></a></td>\n<td>Extracts features from a sequential datum.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.IdentityFeature\" title=\"dipy.segment.metric.IdentityFeature\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">IdentityFeature</span></code></a></td>\n<td>Extracts features from a sequential datum.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.Metric\" title=\"dipy.segment.metric.Metric\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Metric</span></code></a></td>\n<td>Computes a distance between two sequential data.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.MidpointFeature\" title=\"dipy.segment.metric.MidpointFeature\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">MidpointFeature</span></code></a></td>\n<td>Extracts features from a sequential datum.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.MinimumAverageDirectFlipMetric\" title=\"dipy.segment.metric.MinimumAverageDirectFlipMetric\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">MinimumAverageDirectFlipMetric</span></code></a></td>\n<td>Computes the MDF distance (minimum average direct-flip) between two sequential data.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.ResampleFeature\" title=\"dipy.segment.metric.ResampleFeature\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ResampleFeature</span></code></a></td>\n<td>Extracts features from a sequential datum.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.SumPointwiseEuclideanMetric\" title=\"dipy.segment.metric.SumPointwiseEuclideanMetric\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">SumPointwiseEuclideanMetric</span></code></a></td>\n<td>Computes the sum of pointwise Euclidean distances between two sequential data.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.VectorOfEndpointsFeature\" title=\"dipy.segment.metric.VectorOfEndpointsFeature\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">VectorOfEndpointsFeature</span></code></a></td>\n<td>Extracts features from a sequential datum.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.dist\" title=\"dipy.segment.metric.dist\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dist</span></code></a></td>\n<td>Computes a distance between <cite>datum1</cite> and <cite>datum2</cite>.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.distance_matrix\" title=\"dipy.segment.metric.distance_matrix\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">distance_matrix</span></code></a></td>\n<td>Computes the distance matrix between two lists of sequential data.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.mdf\" title=\"dipy.segment.metric.mdf\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">mdf</span></code></a>(s1,&nbsp;s2)</td>\n<td>Computes the MDF (Minimum average Direct-Flip) distance <a class=\"reference internal\" href=\"#r9ec92ef08bd1-garyfallidis12\" id=\"id4\">[Garyfallidis12]</a> between two streamlines.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.segment.quickbundles\">\n<span id=\"module-segment-quickbundles\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">segment.quickbundles</span></code><a class=\"headerlink\" href=\"#module-dipy.segment.quickbundles\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.quickbundles.QuickBundles\" title=\"dipy.segment.quickbundles.QuickBundles\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">QuickBundles</span></code></a>(tracks[,&nbsp;dist_thr,&nbsp;pts])</td>\n<td><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"></td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.quickbundles.bundles_distances_mdf\" title=\"dipy.segment.quickbundles.bundles_distances_mdf\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">bundles_distances_mdf</span></code></a></td>\n<td>Calculate distances between list of tracks A and list of tracks B</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.quickbundles.downsample\" title=\"dipy.segment.quickbundles.downsample\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">downsample</span></code></a>(xyz[,&nbsp;n_pols])</td>\n<td>downsample for a specific number of points along the curve/track</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.quickbundles.local_skeleton_clustering\" title=\"dipy.segment.quickbundles.local_skeleton_clustering\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">local_skeleton_clustering</span></code></a></td>\n<td>Efficient tractography clustering</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.quickbundles.warn\" title=\"dipy.segment.quickbundles.warn\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">warn</span></code></a></td>\n<td>Issue a warning, or maybe ignore it or raise an exception.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.segment.threshold\">\n<span id=\"module-segment-threshold\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">segment.threshold</span></code><a class=\"headerlink\" href=\"#module-dipy.segment.threshold\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.threshold.otsu\" title=\"dipy.segment.threshold.otsu\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">otsu</span></code></a>(image[,&nbsp;nbins])</td>\n<td>Return threshold value based on Otsu\u2019s method.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.threshold.upper_bound_by_percent\" title=\"dipy.segment.threshold.upper_bound_by_percent\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">upper_bound_by_percent</span></code></a>(data[,&nbsp;percent])</td>\n<td>Find the upper bound for visualization of medical images</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.threshold.upper_bound_by_rate\" title=\"dipy.segment.threshold.upper_bound_by_rate\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">upper_bound_by_rate</span></code></a>(data[,&nbsp;rate])</td>\n<td>Adjusts upper intensity boundary using rates</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.segment.tissue\">\n<span id=\"module-segment-tissue\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">segment.tissue</span></code><a class=\"headerlink\" href=\"#module-dipy.segment.tissue\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.tissue.ConstantObservationModel\" title=\"dipy.segment.tissue.ConstantObservationModel\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ConstantObservationModel</span></code></a></td>\n<td>Observation model assuming that the intensity of each class is constant.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.tissue.IteratedConditionalModes\" title=\"dipy.segment.tissue.IteratedConditionalModes\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">IteratedConditionalModes</span></code></a></td>\n<td><p class=\"rubric\">Methods</p>\n</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.tissue.TissueClassifierHMRF\" title=\"dipy.segment.tissue.TissueClassifierHMRF\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">TissueClassifierHMRF</span></code></a>([save_history,&nbsp;verbose])</td>\n<td>This class contains the methods for tissue classification using the Markov Random Fields modeling approach</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.tissue.add_noise\" title=\"dipy.segment.tissue.add_noise\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">add_noise</span></code></a>(signal,&nbsp;snr,&nbsp;S0[,&nbsp;noise_type])</td>\n<td>Add noise of specified distribution to the signal from a single voxel.</td>\n</tr>\n</tbody>\n</table>\n<div class=\"section\" id=\"mdfpy\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.MDFpy\" title=\"dipy.segment.benchmarks.bench_quickbundles.MDFpy\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MDFpy</span></code></a><a class=\"headerlink\" href=\"#mdfpy\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.MDFpy\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.benchmarks.bench_quickbundles.</code><code class=\"descname\">MDFpy</code><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.MDFpy\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.metricspeed.Metric</span></code></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">feature</span></code></dt>\n<dd><p class=\"first last\"><cite>Feature</cite> object used to extract features from sequential data</p>\n</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></dt>\n<dd><p class=\"first last\">Is this metric invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.MDFpy.are_compatible\" title=\"dipy.segment.benchmarks.bench_quickbundles.MDFpy.are_compatible\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">are_compatible</span></code></a>(shape1,&nbsp;shape2)</td>\n<td>Checks if features can be used by <cite>metric.dist</cite> based on their shape.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.MDFpy.dist\" title=\"dipy.segment.benchmarks.bench_quickbundles.MDFpy.dist\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dist</span></code></a>(features1,&nbsp;features2)</td>\n<td>Computes a distance between two data points based on their features.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.MDFpy.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.MDFpy.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.MDFpy.are_compatible\">\n<code class=\"descname\">are_compatible</code><span class=\"sig-paren\">(</span><em>shape1</em>, <em>shape2</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.MDFpy.are_compatible\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Checks if features can be used by <cite>metric.dist</cite> based on their shape.</p>\n<p>Basically this method exists so we don\u2019t have to do this check\ninside the <cite>metric.dist</cite> function (speedup).</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>shape1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, 1-tuple or 2-tuple</span></dt>\n<dd><p class=\"first last\">shape of the first data point\u2019s features</p>\n</dd>\n<dt><strong>shape2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, 1-tuple or 2-tuple</span></dt>\n<dd><p class=\"first last\">shape of the second data point\u2019s features</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>are_compatible</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">whether or not shapes are compatible</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.MDFpy.dist\">\n<code class=\"descname\">dist</code><span class=\"sig-paren\">(</span><em>features1</em>, <em>features2</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.MDFpy.dist\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Computes a distance between two data points based on their features.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>features1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D array</span></dt>\n<dd><p class=\"first last\">Features of the first data point.</p>\n</dd>\n<dt><strong>features2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D array</span></dt>\n<dd><p class=\"first last\">Features of the second data point.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>double</strong></dt>\n<dd><p class=\"first last\">Distance between two data points.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"metric\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.Metric\" title=\"dipy.segment.benchmarks.bench_quickbundles.Metric\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Metric</span></code></a><a class=\"headerlink\" href=\"#metric\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.Metric\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.benchmarks.bench_quickbundles.</code><code class=\"descname\">Metric</code><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.Metric\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>Computes a distance between two sequential data.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions). A <cite>feature</cite> object can be specified\nin order to calculate the distance between extracted features, rather\nthan directly between the sequential data.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>feature</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\"><cite>Feature</cite> object, optional</span></dt>\n<dd><p class=\"first last\">It is used to extract features before computing the distance.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>When subclassing <cite>Metric</cite>, one only needs to override the <cite>dist</cite> and\n<cite>are_compatible</cite> methods.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.Metric.feature\" title=\"dipy.segment.benchmarks.bench_quickbundles.Metric.feature\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">feature</span></code></a></dt>\n<dd><p class=\"first last\"><cite>Feature</cite> object used to extract features from sequential data</p>\n</dd>\n<dt><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.Metric.is_order_invariant\" title=\"dipy.segment.benchmarks.bench_quickbundles.Metric.is_order_invariant\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></a></dt>\n<dd><p class=\"first last\">Is this metric invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.Metric.are_compatible\" title=\"dipy.segment.benchmarks.bench_quickbundles.Metric.are_compatible\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">are_compatible</span></code></a></td>\n<td>Checks if features can be used by <cite>metric.dist</cite> based on their shape.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.Metric.dist\" title=\"dipy.segment.benchmarks.bench_quickbundles.Metric.dist\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dist</span></code></a></td>\n<td>Computes a distance between two data points based on their features.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.Metric.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.Metric.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.Metric.are_compatible\">\n<code class=\"descname\">are_compatible</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.Metric.are_compatible\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Checks if features can be used by <cite>metric.dist</cite> based on their shape.</p>\n<p>Basically this method exists so we don\u2019t have to do this check\ninside the <cite>metric.dist</cite> function (speedup).</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>shape1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, 1-tuple or 2-tuple</span></dt>\n<dd><p class=\"first last\">shape of the first data point\u2019s features</p>\n</dd>\n<dt><strong>shape2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, 1-tuple or 2-tuple</span></dt>\n<dd><p class=\"first last\">shape of the second data point\u2019s features</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>are_compatible</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">whether or not shapes are compatible</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.Metric.dist\">\n<code class=\"descname\">dist</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.Metric.dist\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Computes a distance between two data points based on their features.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>features1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D array</span></dt>\n<dd><p class=\"first last\">Features of the first data point.</p>\n</dd>\n<dt><strong>features2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D array</span></dt>\n<dd><p class=\"first last\">Features of the second data point.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>double</strong></dt>\n<dd><p class=\"first last\">Distance between two data points.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.Metric.feature\">\n<code class=\"descname\">feature</code><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.Metric.feature\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p><cite>Feature</cite> object used to extract features from sequential data</p>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.Metric.is_order_invariant\">\n<code class=\"descname\">is_order_invariant</code><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.Metric.is_order_invariant\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Is this metric invariant to the sequence\u2019s ordering</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"qb-new\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.QB_New\" title=\"dipy.segment.benchmarks.bench_quickbundles.QB_New\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">QB_New</span></code></a><a class=\"headerlink\" href=\"#qb-new\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.QB_New\">\n<code class=\"descclassname\">dipy.segment.benchmarks.bench_quickbundles.</code><code class=\"descname\">QB_New</code><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.QB_New\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>alias of <a class=\"reference internal\" href=\"#dipy.segment.clustering.QuickBundles\" title=\"dipy.segment.clustering.QuickBundles\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.clustering.QuickBundles</span></code></a></p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"qb-old\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.QB_Old\" title=\"dipy.segment.benchmarks.bench_quickbundles.QB_Old\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">QB_Old</span></code></a><a class=\"headerlink\" href=\"#qb-old\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.QB_Old\">\n<code class=\"descclassname\">dipy.segment.benchmarks.bench_quickbundles.</code><code class=\"descname\">QB_Old</code><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.QB_Old\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>alias of <a class=\"reference internal\" href=\"#dipy.segment.quickbundles.QuickBundles\" title=\"dipy.segment.quickbundles.QuickBundles\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.quickbundles.QuickBundles</span></code></a></p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"assert-array-equal\">\n<h3>assert_array_equal<a class=\"headerlink\" href=\"#assert-array-equal\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.assert_array_equal\">\n<code class=\"descclassname\">dipy.segment.benchmarks.bench_quickbundles.</code><code class=\"descname\">assert_array_equal</code><span class=\"sig-paren\">(</span><em>x</em>, <em>y</em>, <em>err_msg=''</em>, <em>verbose=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.assert_array_equal\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Raises an AssertionError if two array_like objects are not equal.</p>\n<p>Given two array_like objects, check that the shape is equal and all\nelements of these objects are equal. An exception is raised at\nshape mismatch or conflicting values. In contrast to the standard usage\nin numpy, NaNs are compared like numbers, no assertion is raised if\nboth objects have NaNs in the same positions.</p>\n<p>The usual caution for verifying equality with floating point numbers is\nadvised.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>x</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">The actual object to check.</p>\n</dd>\n<dt><strong>y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">The desired, expected object.</p>\n</dd>\n<dt><strong>err_msg</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str, optional</span></dt>\n<dd><p class=\"first last\">The error message to be printed in case of failure.</p>\n</dd>\n<dt><strong>verbose</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><p class=\"first last\">If True, the conflicting values are appended to the error message.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Raises:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>AssertionError</strong></dt>\n<dd><p class=\"first last\">If actual and desired objects are not equal.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<dl class=\"docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_allclose</span></code></dt>\n<dd>Compare two array_like objects for equality with desired relative and/or absolute precision.</dd>\n</dl>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_array_almost_equal_nulp</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_array_max_ulp</span></code>, <a class=\"reference internal\" href=\"#dipy.segment.benchmarks.bench_quickbundles.assert_equal\" title=\"dipy.segment.benchmarks.bench_quickbundles.assert_equal\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_equal</span></code></a></p>\n</div>\n<p class=\"rubric\">Examples</p>\n<p>The first assert does not raise an exception:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">testing</span><span class=\"o\">.</span><span class=\"n\">assert_array_equal</span><span class=\"p\">([</span><span class=\"mf\">1.0</span><span class=\"p\">,</span><span class=\"mf\">2.33333</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">nan</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                              <span class=\"p\">[</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">exp</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">),</span><span class=\"mf\">2.33333</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">nan</span><span class=\"p\">])</span>\n</pre></div>\n</div>\n<p>Assert fails with numerical inprecision with floats:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">testing</span><span class=\"o\">.</span><span class=\"n\">assert_array_equal</span><span class=\"p\">([</span><span class=\"mf\">1.0</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">nan</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                              <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">)</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">nan</span><span class=\"p\">])</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">&lt;type &#39;exceptions.ValueError&#39;&gt;:</span>\n<span class=\"go\">AssertionError:</span>\n<span class=\"go\">Arrays are not equal</span>\n\n<span class=\"go\">(mismatch 50.0%)</span>\n<span class=\"go\"> x: array([ 1.        ,  3.14159265,         NaN])</span>\n<span class=\"go\"> y: array([ 1.        ,  3.14159265,         NaN])</span>\n</pre></div>\n</div>\n<p>Use <cite>assert_allclose</cite> or one of the nulp (number of floating point values)\nfunctions for these cases instead:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">testing</span><span class=\"o\">.</span><span class=\"n\">assert_allclose</span><span class=\"p\">([</span><span class=\"mf\">1.0</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">nan</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">)</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">nan</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">rtol</span><span class=\"o\">=</span><span class=\"mf\">1e-10</span><span class=\"p\">,</span> <span class=\"n\">atol</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"assert-arrays-equal\">\n<h3>assert_arrays_equal<a class=\"headerlink\" href=\"#assert-arrays-equal\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.assert_arrays_equal\">\n<code class=\"descclassname\">dipy.segment.benchmarks.bench_quickbundles.</code><code class=\"descname\">assert_arrays_equal</code><span class=\"sig-paren\">(</span><em>arrays1</em>, <em>arrays2</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.assert_arrays_equal\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"assert-equal\">\n<h3>assert_equal<a class=\"headerlink\" href=\"#assert-equal\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.assert_equal\">\n<code class=\"descclassname\">dipy.segment.benchmarks.bench_quickbundles.</code><code class=\"descname\">assert_equal</code><span class=\"sig-paren\">(</span><em>first</em>, <em>second</em>, <em>msg=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.assert_equal\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Fail if the two objects are unequal as determined by the \u2018==\u2019\noperator.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"bench-quickbundles\">\n<h3>bench_quickbundles<a class=\"headerlink\" href=\"#bench-quickbundles\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.bench_quickbundles\">\n<code class=\"descclassname\">dipy.segment.benchmarks.bench_quickbundles.</code><code class=\"descname\">bench_quickbundles</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.bench_quickbundles\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"get-fnames\">\n<h3>get_fnames<a class=\"headerlink\" href=\"#get-fnames\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.get_fnames\">\n<code class=\"descclassname\">dipy.segment.benchmarks.bench_quickbundles.</code><code class=\"descname\">get_fnames</code><span class=\"sig-paren\">(</span><em>name='small_64D'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.get_fnames\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>provides filenames of some test datasets or other useful parametrisations</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>name</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str</span></dt>\n<dd><p class=\"first\">the filename/s of which dataset to return, one of:\n\u2018small_64D\u2019 small region of interest nifti,bvecs,bvals 64 directions\n\u2018small_101D\u2019 small region of interest nifti,bvecs,bvals 101 directions\n\u2018aniso_vox\u2019 volume with anisotropic voxel size as Nifti\n\u2018fornix\u2019 300 tracks in Trackvis format (from Pittsburgh</p>\n<blockquote>\n<div><p>Brain Competition)</p>\n</div></blockquote>\n<dl class=\"docutils\">\n<dt>\u2018gqi_vectors\u2019 the scanner wave vectors needed for a GQI acquisitions</dt>\n<dd><p class=\"first last\">of 101 directions tested on Siemens 3T Trio</p>\n</dd>\n</dl>\n<p class=\"last\">\u2018small_25\u2019 small ROI (10x8x2) DTI data (b value 2000, 25 directions)\n\u2018test_piesno\u2019 slice of N=8, K=14 diffusion data\n\u2018reg_c\u2019 small 2D image used for validating registration\n\u2018reg_o\u2019 small 2D image used for validation registration\n\u2018cb_2\u2019 two vectorized cingulum bundles</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>fnames</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">tuple</span></dt>\n<dd><p class=\"first last\">filenames for dataset</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.data</span> <span class=\"k\">import</span> <span class=\"n\">get_fnames</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">fimg</span><span class=\"p\">,</span><span class=\"n\">fbvals</span><span class=\"p\">,</span><span class=\"n\">fbvecs</span><span class=\"o\">=</span><span class=\"n\">get_fnames</span><span class=\"p\">(</span><span class=\"s1\">&#39;small_101D&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvals</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">loadtxt</span><span class=\"p\">(</span><span class=\"n\">fbvals</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvecs</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">loadtxt</span><span class=\"p\">(</span><span class=\"n\">fbvecs</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">nibabel</span> <span class=\"k\">as</span> <span class=\"nn\">nib</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">img</span><span class=\"o\">=</span><span class=\"n\">nib</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"n\">fimg</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span><span class=\"o\">=</span><span class=\"n\">img</span><span class=\"o\">.</span><span class=\"n\">get_data</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">102</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvals</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">102</span><span class=\"p\">,)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvecs</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">102</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"measure\">\n<h3>measure<a class=\"headerlink\" href=\"#measure\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.benchmarks.bench_quickbundles.measure\">\n<code class=\"descclassname\">dipy.segment.benchmarks.bench_quickbundles.</code><code class=\"descname\">measure</code><span class=\"sig-paren\">(</span><em>code_str</em>, <em>times=1</em>, <em>label=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.benchmarks.bench_quickbundles.measure\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return elapsed time for executing code in the namespace of the caller.</p>\n<p>The supplied code string is compiled with the Python builtin <code class=\"docutils literal notranslate\"><span class=\"pre\">compile</span></code>.\nThe precision of the timing is 10 milli-seconds. If the code will execute\nfast on this timescale, it can be executed many times to get reasonable\ntiming accuracy.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>code_str</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str</span></dt>\n<dd><p class=\"first last\">The code to be timed.</p>\n</dd>\n<dt><strong>times</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">The number of times the code is executed. Default is 1. The code is\nonly compiled once.</p>\n</dd>\n<dt><strong>label</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str, optional</span></dt>\n<dd><p class=\"first last\">A label to identify <cite>code_str</cite> with. This is passed into <code class=\"docutils literal notranslate\"><span class=\"pre\">compile</span></code>\nas the second argument (for run-time error messages).</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>elapsed</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Total elapsed time in seconds for executing <cite>code_str</cite> <cite>times</cite> times.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">etime</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">testing</span><span class=\"o\">.</span><span class=\"n\">measure</span><span class=\"p\">(</span><span class=\"s1\">&#39;for i in range(1000): np.sqrt(i**2)&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">times</span><span class=\"o\">=</span><span class=\"n\">times</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;Time for a single execution : &quot;</span><span class=\"p\">,</span> <span class=\"n\">etime</span> <span class=\"o\">/</span> <span class=\"n\">times</span><span class=\"p\">,</span> <span class=\"s2\">&quot;s&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">Time for a single execution :  0.005 s</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"bundlemindistanceasymmetricmetric\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.bundles.BundleMinDistanceAsymmetricMetric\" title=\"dipy.segment.bundles.BundleMinDistanceAsymmetricMetric\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BundleMinDistanceAsymmetricMetric</span></code></a><a class=\"headerlink\" href=\"#bundlemindistanceasymmetricmetric\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.bundles.BundleMinDistanceAsymmetricMetric\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">BundleMinDistanceAsymmetricMetric</code><span class=\"sig-paren\">(</span><em>num_threads=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.BundleMinDistanceAsymmetricMetric\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"../dipy.align/#dipy.align.streamlinear.BundleMinDistanceMetric\" title=\"dipy.align.streamlinear.BundleMinDistanceMetric\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.align.streamlinear.BundleMinDistanceMetric</span></code></a></p>\n<p>Asymmetric Bundle-based Minimum distance</p>\n<p>This is a cost function that can be used by the\nStreamlineLinearRegistration class.</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.BundleMinDistanceAsymmetricMetric.distance\" title=\"dipy.segment.bundles.BundleMinDistanceAsymmetricMetric.distance\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">distance</span></code></a>(xopt)</td>\n<td>Distance calculated from this Metric</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">setup</span></code>(static,&nbsp;moving)</td>\n<td>Setup static and moving sets of streamlines</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.bundles.BundleMinDistanceAsymmetricMetric.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>num_threads=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.BundleMinDistanceAsymmetricMetric.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>An abstract class for the metric used for streamline registration</p>\n<p>If the two sets of streamlines match exactly then method <code class=\"docutils literal notranslate\"><span class=\"pre\">distance</span></code>\nof this object should be minimum.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>num_threads</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of threads. If None (default) then all available threads\nwill be used. Only metrics using OpenMP will use this variable.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.bundles.BundleMinDistanceAsymmetricMetric.distance\">\n<code class=\"descname\">distance</code><span class=\"sig-paren\">(</span><em>xopt</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.BundleMinDistanceAsymmetricMetric.distance\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Distance calculated from this Metric</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>xopt</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">List of affine parameters as an 1D vector</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"bundlemindistancemetric\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.bundles.BundleMinDistanceMetric\" title=\"dipy.segment.bundles.BundleMinDistanceMetric\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BundleMinDistanceMetric</span></code></a><a class=\"headerlink\" href=\"#bundlemindistancemetric\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.bundles.BundleMinDistanceMetric\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">BundleMinDistanceMetric</code><span class=\"sig-paren\">(</span><em>num_threads=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.BundleMinDistanceMetric\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"../dipy.align/#dipy.align.streamlinear.StreamlineDistanceMetric\" title=\"dipy.align.streamlinear.StreamlineDistanceMetric\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.align.streamlinear.StreamlineDistanceMetric</span></code></a></p>\n<p>Bundle-based Minimum Distance aka BMD</p>\n<p>This is the cost function used by the StreamlineLinearRegistration</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"rd1b9b2d12117-garyfallidis14\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id5\">[Garyfallidis14]</a></td><td>Garyfallidis et al., \u201cDirect native-space fiber\nbundle alignment for group comparisons\u201d, ISMRM,\n2014.</td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"71%\" />\n<col width=\"29%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>setup(static, moving)</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>distance(xopt)</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.bundles.BundleMinDistanceMetric.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>num_threads=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.BundleMinDistanceMetric.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>An abstract class for the metric used for streamline registration</p>\n<p>If the two sets of streamlines match exactly then method <code class=\"docutils literal notranslate\"><span class=\"pre\">distance</span></code>\nof this object should be minimum.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>num_threads</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of threads. If None (default) then all available threads\nwill be used. Only metrics using OpenMP will use this variable.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.bundles.BundleMinDistanceMetric.distance\">\n<code class=\"descname\">distance</code><span class=\"sig-paren\">(</span><em>xopt</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.BundleMinDistanceMetric.distance\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Distance calculated from this Metric</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>xopt</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">List of affine parameters as an 1D vector,</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.bundles.BundleMinDistanceMetric.setup\">\n<code class=\"descname\">setup</code><span class=\"sig-paren\">(</span><em>static</em>, <em>moving</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.BundleMinDistanceMetric.setup\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Setup static and moving sets of streamlines</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>static</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">streamlines</span></dt>\n<dd><p class=\"first last\">Fixed or reference set of streamlines.</p>\n</dd>\n<dt><strong>moving</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">streamlines</span></dt>\n<dd><p class=\"first last\">Moving streamlines.</p>\n</dd>\n<dt><strong>num_threads</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of threads. If None (default) then all available threads\nwill be used.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>Call this after the object is initiated and before distance.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"bundlesumdistancematrixmetric\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.bundles.BundleSumDistanceMatrixMetric\" title=\"dipy.segment.bundles.BundleSumDistanceMatrixMetric\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BundleSumDistanceMatrixMetric</span></code></a><a class=\"headerlink\" href=\"#bundlesumdistancematrixmetric\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.bundles.BundleSumDistanceMatrixMetric\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">BundleSumDistanceMatrixMetric</code><span class=\"sig-paren\">(</span><em>num_threads=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.BundleSumDistanceMatrixMetric\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"../dipy.align/#dipy.align.streamlinear.BundleMinDistanceMatrixMetric\" title=\"dipy.align.streamlinear.BundleMinDistanceMatrixMetric\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.align.streamlinear.BundleMinDistanceMatrixMetric</span></code></a></p>\n<p>Bundle-based Sum Distance aka BMD</p>\n<p>This is a cost function that can be used by the\nStreamlineLinearRegistration class.</p>\n<p class=\"rubric\">Notes</p>\n<p>The difference with BundleMinDistanceMatrixMetric is that it uses\nuses the sum of the distance matrix and not the sum of mins.</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"71%\" />\n<col width=\"29%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>setup(static, moving)</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>distance(xopt)</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.bundles.BundleSumDistanceMatrixMetric.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>num_threads=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.BundleSumDistanceMatrixMetric.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>An abstract class for the metric used for streamline registration</p>\n<p>If the two sets of streamlines match exactly then method <code class=\"docutils literal notranslate\"><span class=\"pre\">distance</span></code>\nof this object should be minimum.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>num_threads</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of threads. If None (default) then all available threads\nwill be used. Only metrics using OpenMP will use this variable.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.bundles.BundleSumDistanceMatrixMetric.distance\">\n<code class=\"descname\">distance</code><span class=\"sig-paren\">(</span><em>xopt</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.BundleSumDistanceMatrixMetric.distance\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Distance calculated from this Metric</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>xopt</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">List of affine parameters as an 1D vector</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"recobundles\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.bundles.RecoBundles\" title=\"dipy.segment.bundles.RecoBundles\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RecoBundles</span></code></a><a class=\"headerlink\" href=\"#recobundles\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.bundles.RecoBundles\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">RecoBundles</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>greater_than=50</em>, <em>less_than=1000000</em>, <em>cluster_map=None</em>, <em>clust_thr=15</em>, <em>nb_pts=20</em>, <em>rng=None</em>, <em>verbose=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.RecoBundles\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.RecoBundles.evaluate_results\" title=\"dipy.segment.bundles.RecoBundles.evaluate_results\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">evaluate_results</span></code></a>(model_bundle,&nbsp;\u2026)</td>\n<td>Comapare the similiarity between two given bundles, model bundle, and extracted bundle.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.RecoBundles.recognize\" title=\"dipy.segment.bundles.RecoBundles.recognize\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">recognize</span></code></a>(model_bundle,&nbsp;model_clust_thr[,&nbsp;\u2026])</td>\n<td>Recognize the model_bundle in self.streamlines</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.RecoBundles.refine\" title=\"dipy.segment.bundles.RecoBundles.refine\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">refine</span></code></a>(model_bundle,&nbsp;pruned_streamlines,&nbsp;\u2026)</td>\n<td>Refine and recognize the model_bundle in self.streamlines This method expects once pruned streamlines as input.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.bundles.RecoBundles.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>greater_than=50</em>, <em>less_than=1000000</em>, <em>cluster_map=None</em>, <em>clust_thr=15</em>, <em>nb_pts=20</em>, <em>rng=None</em>, <em>verbose=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.RecoBundles.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Recognition of bundles</p>\n<p>Extract bundles from a participants\u2019 tractograms using model bundles\nsegmented from a different subject or an atlas of bundles.\nSee <a class=\"reference internal\" href=\"#r5023d436ddc1-garyfallidis17\" id=\"id6\">[Garyfallidis17]</a> for the details.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines</span></dt>\n<dd><p class=\"first last\">The tractogram in which you want to recognize bundles.</p>\n</dd>\n<dt><strong>greater_than</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">Keep streamlines that have length greater than\nthis value (default 50)</p>\n</dd>\n<dt><strong>less_than</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">Keep streamlines have length less than this value (default 1000000)</p>\n</dd>\n<dt><strong>cluster_map</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">QB map</span></dt>\n<dd><p class=\"first last\">Provide existing clustering to start RB faster (default None).</p>\n</dd>\n<dt><strong>clust_thr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Distance threshold in mm for clustering <cite>streamlines</cite></p>\n</dd>\n<dt><strong>rng</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">RandomState</span></dt>\n<dd><p class=\"first last\">If None define RandomState in initialization function.</p>\n</dd>\n<dt><strong>nb_pts</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of points per streamline (default 20)</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>Make sure that before creating this class that the streamlines and\nthe model bundles are roughly in the same space.\nAlso default thresholds are assumed in RAS 1mm^3 space. You may\nwant to adjust those if your streamlines are not in world coordinates.</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r5023d436ddc1-garyfallidis17\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Garyfallidis17]</td><td><em>(<a class=\"fn-backref\" href=\"#id6\">1</a>, <a class=\"fn-backref\" href=\"#id7\">2</a>)</em> Garyfallidis et al. Recognition of white matter\nbundles using local and global streamline-based registration and\nclustering, Neuroimage, 2017.</td></tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.bundles.RecoBundles.evaluate_results\">\n<code class=\"descname\">evaluate_results</code><span class=\"sig-paren\">(</span><em>model_bundle</em>, <em>pruned_streamlines</em>, <em>slr_select</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.RecoBundles.evaluate_results\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Comapare the similiarity between two given bundles, model bundle,\nand extracted bundle.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>model_bundle</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines</span></dt>\n<dd></dd>\n<dt><strong>pruned_streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines</span></dt>\n<dd></dd>\n<dt><strong>slr_select</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">tuple</span></dt>\n<dd><p class=\"first last\">Select the number of streamlines from model to neirborhood of\nmodel to perform the local SLR.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>ba_value</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">bundle analytics value between model bundle and pruned bundle</p>\n</dd>\n<dt><strong>bmd_value</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">bundle minimum distance value between model bundle and\npruned bundle</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.bundles.RecoBundles.recognize\">\n<code class=\"descname\">recognize</code><span class=\"sig-paren\">(</span><em>model_bundle</em>, <em>model_clust_thr</em>, <em>reduction_thr=10</em>, <em>reduction_distance='mdf'</em>, <em>slr=True</em>, <em>slr_metric=None</em>, <em>slr_x0=None</em>, <em>slr_bounds=None</em>, <em>slr_select=(400</em>, <em>600)</em>, <em>slr_method='L-BFGS-B'</em>, <em>pruning_thr=5</em>, <em>pruning_distance='mdf'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.RecoBundles.recognize\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Recognize the model_bundle in self.streamlines</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>model_bundle</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines</span></dt>\n<dd></dd>\n<dt><strong>model_clust_thr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd></dd>\n<dt><strong>reduction_thr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd></dd>\n<dt><strong>reduction_distance</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">string</span></dt>\n<dd><p class=\"first last\">mdf or mam (default mam)</p>\n</dd>\n<dt><strong>slr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">Use Streamline-based Linear Registration (SLR) locally\n(default True)</p>\n</dd>\n<dt><strong>slr_metric</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">BundleMinDistanceMetric</span></dt>\n<dd></dd>\n<dt><strong>slr_x0</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">(default None)</p>\n</dd>\n<dt><strong>slr_bounds</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">(default None)</p>\n</dd>\n<dt><strong>slr_select</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">tuple</span></dt>\n<dd><p class=\"first last\">Select the number of streamlines from model to neirborhood of\nmodel to perform the local SLR.</p>\n</dd>\n<dt><strong>slr_method</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">string</span></dt>\n<dd><p class=\"first last\">Optimization method (default \u2018L-BFGS-B\u2019)</p>\n</dd>\n<dt><strong>pruning_thr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd></dd>\n<dt><strong>pruning_distance</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">string</span></dt>\n<dd><p class=\"first last\">MDF (\u2018mdf\u2019) and MAM (\u2018mam\u2019)</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>recognized_transf</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines</span></dt>\n<dd><p class=\"first last\">Recognized bundle in the space of the model tractogram</p>\n</dd>\n<dt><strong>recognized_labels</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">Indices of recognized bundle in the original tractogram</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r7eb0071af658-garyfallidis17\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id8\">[Garyfallidis17]</a></td><td>Garyfallidis et al. Recognition of white matter\nbundles using local and global streamline-based registration and\nclustering, Neuroimage, 2017.</td></tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.bundles.RecoBundles.refine\">\n<code class=\"descname\">refine</code><span class=\"sig-paren\">(</span><em>model_bundle</em>, <em>pruned_streamlines</em>, <em>model_clust_thr</em>, <em>reduction_thr=14</em>, <em>reduction_distance='mdf'</em>, <em>slr=True</em>, <em>slr_metric=None</em>, <em>slr_x0=None</em>, <em>slr_bounds=None</em>, <em>slr_select=(400</em>, <em>600)</em>, <em>slr_method='L-BFGS-B'</em>, <em>pruning_thr=6</em>, <em>pruning_distance='mdf'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.RecoBundles.refine\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Refine and recognize the model_bundle in self.streamlines\nThis method expects once pruned streamlines as input. It refines the\nfirst ouput of recobundle by applying second local slr (optional),\nand second pruning. This method is useful when we are dealing with\nnoisy data or when we want to extract small tracks from tractograms.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>model_bundle</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines</span></dt>\n<dd></dd>\n<dt><strong>pruned_streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines</span></dt>\n<dd></dd>\n<dt><strong>model_clust_thr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd></dd>\n<dt><strong>reduction_thr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd></dd>\n<dt><strong>reduction_distance</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">string</span></dt>\n<dd><p class=\"first last\">mdf or mam (default mam)</p>\n</dd>\n<dt><strong>slr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">Use Streamline-based Linear Registration (SLR) locally\n(default True)</p>\n</dd>\n<dt><strong>slr_metric</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">BundleMinDistanceMetric</span></dt>\n<dd></dd>\n<dt><strong>slr_x0</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">(default None)</p>\n</dd>\n<dt><strong>slr_bounds</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">(default None)</p>\n</dd>\n<dt><strong>slr_select</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">tuple</span></dt>\n<dd><p class=\"first last\">Select the number of streamlines from model to neirborhood of\nmodel to perform the local SLR.</p>\n</dd>\n<dt><strong>slr_method</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">string</span></dt>\n<dd><p class=\"first last\">Optimization method (default \u2018L-BFGS-B\u2019)</p>\n</dd>\n<dt><strong>pruning_thr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd></dd>\n<dt><strong>pruning_distance</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">string</span></dt>\n<dd><p class=\"first last\">MDF (\u2018mdf\u2019) and MAM (\u2018mam\u2019)</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>recognized_transf</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines</span></dt>\n<dd><p class=\"first last\">Recognized bundle in the space of the model tractogram</p>\n</dd>\n<dt><strong>recognized_labels</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">Indices of recognized bundle in the original tractogram</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r455259b8a2fd-garyfallidis17\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id9\">[Garyfallidis17]</a></td><td>Garyfallidis et al. Recognition of white matter\nbundles using local and global streamline-based registration and\nclustering, Neuroimage, 2017.</td></tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"streamlinelinearregistration\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.bundles.StreamlineLinearRegistration\" title=\"dipy.segment.bundles.StreamlineLinearRegistration\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">StreamlineLinearRegistration</span></code></a><a class=\"headerlink\" href=\"#streamlinelinearregistration\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.bundles.StreamlineLinearRegistration\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">StreamlineLinearRegistration</code><span class=\"sig-paren\">(</span><em>metric=None</em>, <em>x0='rigid'</em>, <em>method='L-BFGS-B'</em>, <em>bounds=None</em>, <em>verbose=False</em>, <em>options=None</em>, <em>evolution=False</em>, <em>num_threads=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.StreamlineLinearRegistration\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.StreamlineLinearRegistration.optimize\" title=\"dipy.segment.bundles.StreamlineLinearRegistration.optimize\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">optimize</span></code></a>(static,&nbsp;moving[,&nbsp;mat])</td>\n<td>Find the minimum of the provided metric.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.bundles.StreamlineLinearRegistration.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>metric=None</em>, <em>x0='rigid'</em>, <em>method='L-BFGS-B'</em>, <em>bounds=None</em>, <em>verbose=False</em>, <em>options=None</em>, <em>evolution=False</em>, <em>num_threads=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.StreamlineLinearRegistration.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Linear registration of 2 sets of streamlines <a class=\"reference internal\" href=\"#r9cc75057ef44-garyfallidis15\" id=\"id10\">[Garyfallidis15]</a>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>metric</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">StreamlineDistanceMetric,</span></dt>\n<dd><p class=\"first last\">If None and fast is False then the BMD distance is used. If fast\nis True then a faster implementation of BMD is used. Otherwise,\nuse the given distance metric.</p>\n</dd>\n<dt><strong>x0</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array or int or str</span></dt>\n<dd><p class=\"first\">Initial parametrization for the optimization.</p>\n<dl class=\"last docutils\">\n<dt>If 1D array with:</dt>\n<dd><p class=\"first\">a) 6 elements then only rigid registration is performed with\nthe 3 first elements for translation and 3 for rotation.\nb) 7 elements also isotropic scaling is performed (similarity).\nc) 12 elements then translation, rotation (in degrees),\nscaling and shearing is performed (affine).</p>\n<p>Here is an example of x0 with 12 elements:\n<code class=\"docutils literal notranslate\"><span class=\"pre\">x0=np.array([0,</span> <span class=\"pre\">10,</span> <span class=\"pre\">0,</span> <span class=\"pre\">40,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">2.,</span> <span class=\"pre\">1.5,</span> <span class=\"pre\">1,</span> <span class=\"pre\">0.1,</span> <span class=\"pre\">-0.5,</span> <span class=\"pre\">0])</span></code></p>\n<p class=\"last\">This has translation (0, 10, 0), rotation (40, 0, 0) in\ndegrees, scaling (2., 1.5, 1) and shearing (0.1, -0.5, 0).</p>\n</dd>\n<dt>If int:</dt>\n<dd><ol class=\"first last loweralpha simple\">\n<li><dl class=\"first docutils\">\n<dt>6</dt>\n<dd><code class=\"docutils literal notranslate\"><span class=\"pre\">x0</span> <span class=\"pre\">=</span> <span class=\"pre\">np.array([0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0])</span></code></dd>\n</dl>\n</li>\n<li><dl class=\"first docutils\">\n<dt>7</dt>\n<dd><code class=\"docutils literal notranslate\"><span class=\"pre\">x0</span> <span class=\"pre\">=</span> <span class=\"pre\">np.array([0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">1.])</span></code></dd>\n</dl>\n</li>\n<li><dl class=\"first docutils\">\n<dt>12</dt>\n<dd><code class=\"docutils literal notranslate\"><span class=\"pre\">x0</span> <span class=\"pre\">=</span> <span class=\"pre\">np.array([0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">1.,</span> <span class=\"pre\">1.,</span> <span class=\"pre\">1,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0])</span></code></dd>\n</dl>\n</li>\n</ol>\n</dd>\n<dt>If str:</dt>\n<dd><ol class=\"first last loweralpha simple\">\n<li><dl class=\"first docutils\">\n<dt>\u201crigid\u201d</dt>\n<dd><code class=\"docutils literal notranslate\"><span class=\"pre\">x0</span> <span class=\"pre\">=</span> <span class=\"pre\">np.array([0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0])</span></code></dd>\n</dl>\n</li>\n<li><dl class=\"first docutils\">\n<dt>\u201csimilarity\u201d</dt>\n<dd><code class=\"docutils literal notranslate\"><span class=\"pre\">x0</span> <span class=\"pre\">=</span> <span class=\"pre\">np.array([0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">1.])</span></code></dd>\n</dl>\n</li>\n<li><dl class=\"first docutils\">\n<dt>\u201caffine\u201d</dt>\n<dd><code class=\"docutils literal notranslate\"><span class=\"pre\">x0</span> <span class=\"pre\">=</span> <span class=\"pre\">np.array([0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">1.,</span> <span class=\"pre\">1.,</span> <span class=\"pre\">1,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0])</span></code></dd>\n</dl>\n</li>\n</ol>\n</dd>\n</dl>\n</dd>\n<dt><strong>method</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str,</span></dt>\n<dd><p class=\"first last\">\u2018L_BFGS_B\u2019 or \u2018Powell\u2019 optimizers can be used. Default is\n\u2018L_BFGS_B\u2019.</p>\n</dd>\n<dt><strong>bounds</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list of tuples or None,</span></dt>\n<dd><p class=\"first\">If method == \u2018L_BFGS_B\u2019 then we can use bounded optimization.\nFor example for the six parameters of rigid rotation we can set\nthe bounds = [(-30, 30), (-30, 30), (-30, 30),</p>\n<blockquote>\n<div><p>(-45, 45), (-45, 45), (-45, 45)]</p>\n</div></blockquote>\n<p class=\"last\">That means that we have set the bounds for the three translations\nand three rotation axes (in degrees).</p>\n</dd>\n<dt><strong>verbose</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool,</span></dt>\n<dd><p class=\"first last\">If True then information about the optimization is shown.</p>\n</dd>\n<dt><strong>options</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">None or dict,</span></dt>\n<dd><p class=\"first last\">Extra options to be used with the selected method.</p>\n</dd>\n<dt><strong>evolution</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">boolean</span></dt>\n<dd><p class=\"first last\">If True save the transformation for each iteration of the\noptimizer. Default is False. Supported only with Scipy &gt;= 0.11.</p>\n</dd>\n<dt><strong>num_threads</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of threads. If None (default) then all available threads\nwill be used. Only metrics using OpenMP will use this variable.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r9cc75057ef44-garyfallidis15\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Garyfallidis15]</td><td><em>(<a class=\"fn-backref\" href=\"#id10\">1</a>, <a class=\"fn-backref\" href=\"#id11\">2</a>)</em> Garyfallidis et al. \u201cRobust and efficient linear\nregistration of white-matter fascicles in the space of\nstreamlines\u201d, NeuroImage, 117, 124\u2013140, 2015</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r9cc75057ef44-garyfallidis14\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id12\">[Garyfallidis14]</a></td><td>Garyfallidis et al., \u201cDirect native-space fiber\nbundle alignment for group comparisons\u201d, ISMRM,\n2014.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r9cc75057ef44-garyfallidis17\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id13\">[Garyfallidis17]</a></td><td>Garyfallidis et al. Recognition of white matter\nbundles using local and global streamline-based registration and\nclustering, Neuroimage, 2017.</td></tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.bundles.StreamlineLinearRegistration.optimize\">\n<code class=\"descname\">optimize</code><span class=\"sig-paren\">(</span><em>static</em>, <em>moving</em>, <em>mat=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.StreamlineLinearRegistration.optimize\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Find the minimum of the provided metric.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>static</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">streamlines</span></dt>\n<dd><p class=\"first last\">Reference or fixed set of streamlines.</p>\n</dd>\n<dt><strong>moving</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">streamlines</span></dt>\n<dd><p class=\"first last\">Moving set of streamlines.</p>\n</dd>\n<dt><strong>mat</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">Transformation (4, 4) matrix to start the registration. <code class=\"docutils literal notranslate\"><span class=\"pre\">mat</span></code>\nis applied to moving. Default value None which means that initial\ntransformation will be generated by shifting the centers of moving\nand static sets of streamlines to the origin.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>map</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">StreamlineRegistrationMap</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"streamlines\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.bundles.Streamlines\" title=\"dipy.segment.bundles.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Streamlines</span></code></a><a class=\"headerlink\" href=\"#streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.bundles.Streamlines\">\n<code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">Streamlines</code><a class=\"headerlink\" href=\"#dipy.segment.bundles.Streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>alias of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">nibabel.streamlines.array_sequence.ArraySequence</span></code></p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"chain\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.bundles.chain\" title=\"dipy.segment.bundles.chain\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">chain</span></code></a><a class=\"headerlink\" href=\"#chain\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.bundles.chain\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">chain</code><a class=\"headerlink\" href=\"#dipy.segment.bundles.chain\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>chain(<a href=\"#id14\"><span class=\"problematic\" id=\"id15\">*</span></a>iterables) \u2013&gt; chain object</p>\n<p>Return a chain object whose .__next__() method returns elements from the\nfirst iterable until it is exhausted, then elements from the next\niterable, until all of the iterables are exhausted.</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.bundles.chain.from_iterable\" title=\"dipy.segment.bundles.chain.from_iterable\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">from_iterable</span></code></a></td>\n<td>chain.from_iterable(iterable) \u2013&gt; chain object</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.bundles.chain.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.chain.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.bundles.chain.from_iterable\">\n<code class=\"descname\">from_iterable</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.chain.from_iterable\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>chain.from_iterable(iterable) \u2013&gt; chain object</p>\n<p>Alternate chain() constructor taking a single iterable argument\nthat evaluates lazily.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"apply-affine\">\n<h3>apply_affine<a class=\"headerlink\" href=\"#apply-affine\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.bundles.apply_affine\">\n<code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">apply_affine</code><span class=\"sig-paren\">(</span><em>aff</em>, <em>pts</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.apply_affine\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Apply affine matrix <cite>aff</cite> to points <cite>pts</cite></p>\n<p>Returns result of application of <cite>aff</cite> to the <em>right</em> of <cite>pts</cite>.  The\ncoordinate dimension of <cite>pts</cite> should be the last.</p>\n<p>For the 3D case, <cite>aff</cite> will be shape (4,4) and <cite>pts</cite> will have final axis\nlength 3 - maybe it will just be N by 3. The return value is the\ntransformed points, in this case:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">aff</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,:</span><span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"n\">pts</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"n\">aff</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">:</span><span class=\"mi\">4</span><span class=\"p\">]</span>\n<span class=\"n\">transformed_pts</span> <span class=\"o\">=</span> <span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">T</span>\n</pre></div>\n</div>\n<p>This routine is more general than 3D, in that <cite>aff</cite> can have any shape\n(N,N), and <cite>pts</cite> can have any shape, as long as the last dimension is for\nthe coordinates, and is therefore length N-1.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>aff</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, N) array-like</span></dt>\n<dd><p class=\"first last\">Homogenous affine, for 3D points, will be 4 by 4. Contrary to first\nappearance, the affine will be applied on the left of <cite>pts</cite>.</p>\n</dd>\n<dt><strong>pts</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(\u2026, N-1) array-like</span></dt>\n<dd><p class=\"first last\">Points, where the last dimension contains the coordinates of each\npoint.  For 3D, the last dimension will be length 3.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>transformed_pts</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(\u2026, N-1) array</span></dt>\n<dd><p class=\"first last\">transformed points</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">aff</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">10</span><span class=\"p\">],[</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">11</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">12</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pts</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">],[</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">],[</span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"mi\">7</span><span class=\"p\">,</span><span class=\"mi\">8</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">apply_affine</span><span class=\"p\">(</span><span class=\"n\">aff</span><span class=\"p\">,</span> <span class=\"n\">pts</span><span class=\"p\">)</span> \n<span class=\"go\">array([[14, 14, 24],</span>\n<span class=\"go\">       [16, 17, 28],</span>\n<span class=\"go\">       [20, 23, 36],</span>\n<span class=\"go\">       [24, 29, 44]]...)</span>\n</pre></div>\n</div>\n<p>Just to show that in the simple 3D case, it is equivalent to:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">aff</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,:</span><span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"n\">pts</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"n\">aff</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">:</span><span class=\"mi\">4</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">T</span> \n<span class=\"go\">array([[14, 14, 24],</span>\n<span class=\"go\">       [16, 17, 28],</span>\n<span class=\"go\">       [20, 23, 36],</span>\n<span class=\"go\">       [24, 29, 44]]...)</span>\n</pre></div>\n</div>\n<p>But <cite>pts</cite> can be a more complicated shape:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pts</span> <span class=\"o\">=</span> <span class=\"n\">pts</span><span class=\"o\">.</span><span class=\"n\">reshape</span><span class=\"p\">((</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">apply_affine</span><span class=\"p\">(</span><span class=\"n\">aff</span><span class=\"p\">,</span> <span class=\"n\">pts</span><span class=\"p\">)</span> \n<span class=\"go\">array([[[14, 14, 24],</span>\n<span class=\"go\">        [16, 17, 28]],</span>\n\n<span class=\"go\">       [[20, 23, 36],</span>\n<span class=\"go\">        [24, 29, 44]]]...)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"ba-analysis\">\n<h3>ba_analysis<a class=\"headerlink\" href=\"#ba-analysis\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.bundles.ba_analysis\">\n<code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">ba_analysis</code><span class=\"sig-paren\">(</span><em>recognized_bundle</em>, <em>expert_bundle</em>, <em>threshold=2.0</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.ba_analysis\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"bundle-adjacency\">\n<h3>bundle_adjacency<a class=\"headerlink\" href=\"#bundle-adjacency\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.bundles.bundle_adjacency\">\n<code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">bundle_adjacency</code><span class=\"sig-paren\">(</span><em>dtracks0</em>, <em>dtracks1</em>, <em>threshold</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.bundle_adjacency\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Find bundle adjacency between two given tracks/bundles</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>dtracks0</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines</span></dt>\n<dd><p class=\"first last\">dtracks1 : Streamlines\nthreshold: float</p>\n</dd>\n<dt><strong>References</strong></dt>\n<dd></dd>\n<dt><strong>\u2014\u2014\u2014-</strong></dt>\n<dd></dd>\n<dt><strong>.. [Garyfallidis12] Garyfallidis E. et al., QuickBundles a method for</strong></dt>\n<dd><p class=\"first last\">tractography simplification, Frontiers in Neuroscience,\nvol 6, no 175, 2012.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"bundles-distances-mam\">\n<h3>bundles_distances_mam<a class=\"headerlink\" href=\"#bundles-distances-mam\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.bundles.bundles_distances_mam\">\n<code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">bundles_distances_mam</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.bundles_distances_mam\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculate distances between list of tracks A and list of tracks B</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>tracksA</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of tracks as arrays, shape (N1,3) .. (Nm,3)</p>\n</dd>\n<dt><strong>tracksB</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of tracks as arrays, shape (N1,3) .. (Nm,3)</p>\n</dd>\n<dt><strong>metric</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str</span></dt>\n<dd><p class=\"first last\">\u2018avg\u2019, \u2018min\u2019, \u2018max\u2019</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>DM</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (len(tracksA), len(tracksB))</span></dt>\n<dd><p class=\"first last\">distances between tracksA and tracksB according to metric</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"bundles-distances-mdf\">\n<h3>bundles_distances_mdf<a class=\"headerlink\" href=\"#bundles-distances-mdf\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.bundles.bundles_distances_mdf\">\n<code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">bundles_distances_mdf</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.bundles_distances_mdf\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculate distances between list of tracks A and list of tracks B</p>\n<p>All tracks need to have the same number of points</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>tracksA</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of tracks as arrays, [(N,3) .. (N,3)]</p>\n</dd>\n<dt><strong>tracksB</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of tracks as arrays, [(N,3) .. (N,3)]</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>DM</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (len(tracksA), len(tracksB))</span></dt>\n<dd><p class=\"first last\">distances between tracksA and tracksB according to metric</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dipy.metrics.downsample</span></code></p>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"check-range\">\n<h3>check_range<a class=\"headerlink\" href=\"#check-range\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.bundles.check_range\">\n<code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">check_range</code><span class=\"sig-paren\">(</span><em>streamline</em>, <em>gt</em>, <em>lt</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.check_range\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"length\">\n<h3>length<a class=\"headerlink\" href=\"#length\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.bundles.length\">\n<code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">length</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.length\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Euclidean length of streamlines</p>\n<p>Length is in mm only if streamlines are expressed in world coordinates.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray or a list or <a class=\"reference internal\" href=\"../dipy.tracking/#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a></span></dt>\n<dd><p class=\"first last\">If ndarray, must have shape (N,3) where N is the number of points\nof the streamline.\nIf list, each item must be ndarray shape (Ni,3) where Ni is the number\nof points of streamline i.\nIf <a class=\"reference internal\" href=\"../dipy.tracking/#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a>, its <cite>common_shape</cite> must be 3.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>lengths</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">scalar or ndarray shape (N,)</span></dt>\n<dd><p class=\"first last\">If there is only one streamline, a scalar representing the length of the\nstreamline.\nIf there are several streamlines, ndarray containing the length of every\nstreamline.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.streamline</span> <span class=\"k\">import</span> <span class=\"n\">length</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">expected_length</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"o\">+</span><span class=\"mi\">2</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">3</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">3</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">4</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"n\">expected_length</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">([</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">streamline</span><span class=\"p\">[::</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">expected_lengths</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">expected_length</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"o\">*</span><span class=\"n\">expected_length</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">lengths</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]),</span> <span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">allclose</span><span class=\"p\">(</span><span class=\"n\">lengths</span><span class=\"p\">,</span> <span class=\"n\">expected_lengths</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">([])</span>\n<span class=\"go\">0.0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]]))</span>\n<span class=\"go\">0.0</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"nbytes\">\n<h3>nbytes<a class=\"headerlink\" href=\"#nbytes\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.bundles.nbytes\">\n<code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">nbytes</code><span class=\"sig-paren\">(</span><em>streamlines</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.nbytes\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"qbx-and-merge\">\n<h3>qbx_and_merge<a class=\"headerlink\" href=\"#qbx-and-merge\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.bundles.qbx_and_merge\">\n<code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">qbx_and_merge</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>thresholds</em>, <em>nb_pts=20</em>, <em>select_randomly=None</em>, <em>rng=None</em>, <em>verbose=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.qbx_and_merge\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Run QuickBundlesX and then run again on the centroids of the last layer</p>\n<p>Running again QuickBundles at a layer has the effect of merging\nsome of the clusters that maybe originally devided because of branching.\nThis function help obtain a result at a QuickBundles quality but with\nQuickBundlesX speed. The merging phase has low cost because it is applied\nonly on the centroids rather than the entire dataset.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines</span></dt>\n<dd></dd>\n<dt><strong>thresholds</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">List of distance thresholds for QuickBundlesX.</p>\n</dd>\n<dt><strong>nb_pts</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of points for discretizing each streamline</p>\n</dd>\n<dt><strong>select_randomly</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Randomly select a specific number of streamlines. If None all the\nstreamlines are used.</p>\n</dd>\n<dt><strong>rng</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">RandomState</span></dt>\n<dd><p class=\"first last\">If None then RandomState is initialized internally.</p>\n</dd>\n<dt><strong>verbose</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">If True print information in stdout.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>clusters</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">obj</span></dt>\n<dd><p class=\"first last\">Contains the clusters of the last layer of QuickBundlesX after merging.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r5dc5efa199c0-garyfallidis12\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id16\">[Garyfallidis12]</a></td><td>Garyfallidis E. et al., QuickBundles a method for\ntractography simplification, Frontiers in Neuroscience,\nvol 6, no 175, 2012.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r5dc5efa199c0-garyfallidis16\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id17\">[Garyfallidis16]</a></td><td>Garyfallidis E. et al. QuickBundlesX: Sequential\nclustering of millions of streamlines in multiple\nlevels of detail at record execution time. Proceedings\nof the, International Society of Magnetic Resonance\nin Medicine (ISMRM). Singapore, 4187, 2016.</td></tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"select-random-set-of-streamlines\">\n<h3>select_random_set_of_streamlines<a class=\"headerlink\" href=\"#select-random-set-of-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.bundles.select_random_set_of_streamlines\">\n<code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">select_random_set_of_streamlines</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>select</em>, <em>rng=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.select_random_set_of_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Select a random set of streamlines</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Steamlines</span></dt>\n<dd><p class=\"first last\">Object of 2D ndarrays of shape[-1]==3</p>\n</dd>\n<dt><strong>select</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of streamlines to select. If there are less streamlines\nthan <code class=\"docutils literal notranslate\"><span class=\"pre\">select</span></code> then <code class=\"docutils literal notranslate\"><span class=\"pre\">select=len(streamlines)</span></code>.</p>\n</dd>\n<dt><strong>rng</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">RandomState</span></dt>\n<dd><p class=\"first last\">Default None.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>selected_streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>The same streamline will not be selected twice.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"set-number-of-points\">\n<h3>set_number_of_points<a class=\"headerlink\" href=\"#set-number-of-points\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.bundles.set_number_of_points\">\n<code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">set_number_of_points</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.bundles.set_number_of_points\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><dl class=\"docutils\">\n<dt>Change the number of points of streamlines</dt>\n<dd>(either by downsampling or upsampling)</dd>\n</dl>\n<p>Change the number of points of streamlines in order to obtain\n<cite>nb_points</cite>-1 segments of equal length. Points of streamlines will be\nmodified along the curve.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray or a list or <a class=\"reference internal\" href=\"../dipy.tracking/#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a></span></dt>\n<dd><p class=\"first last\">If ndarray, must have shape (N,3) where N is the number of points\nof the streamline.\nIf list, each item must be ndarray shape (Ni,3) where Ni is the number\nof points of streamline i.\nIf <a class=\"reference internal\" href=\"../dipy.tracking/#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a>, its <cite>common_shape</cite> must be 3.</p>\n</dd>\n<dt><strong>nb_points</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">integer representing number of points wanted along the curve.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>new_streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray or a list or <a class=\"reference internal\" href=\"../dipy.tracking/#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a></span></dt>\n<dd><p class=\"first last\">Results of the downsampling or upsampling process.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.streamline</span> <span class=\"k\">import</span> <span class=\"n\">set_number_of_points</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n</pre></div>\n</div>\n<p>One streamline, a semi-circle:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span> <span class=\"o\">=</span> <span class=\"mi\">0</span> <span class=\"o\">*</span> <span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">modified_streamline</span> <span class=\"o\">=</span> <span class=\"n\">set_number_of_points</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">modified_streamline</span><span class=\"p\">)</span>\n<span class=\"go\">3</span>\n</pre></div>\n</div>\n<p>Multiple streamlines:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">streamline</span><span class=\"p\">[::</span><span class=\"mi\">2</span><span class=\"p\">]]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">new_streamlines</span> <span class=\"o\">=</span> <span class=\"n\">set_number_of_points</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[100, 50]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">new_streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[10, 10]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"time\">\n<h3>time<a class=\"headerlink\" href=\"#time\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.bundles.time\">\n<code class=\"descclassname\">dipy.segment.bundles.</code><code class=\"descname\">time</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span> &#x2192; floating point number<a class=\"headerlink\" href=\"#dipy.segment.bundles.time\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return the current time in seconds since the Epoch.\nFractions of a second may be present if the system clock provides them.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"abcmeta\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.clustering.ABCMeta\" title=\"dipy.segment.clustering.ABCMeta\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ABCMeta</span></code></a><a class=\"headerlink\" href=\"#abcmeta\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.clustering.ABCMeta\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">ABCMeta</code><a class=\"headerlink\" href=\"#dipy.segment.clustering.ABCMeta\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#type\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">type</span></code></a></p>\n<p>Metaclass for defining Abstract Base Classes (ABCs).</p>\n<p>Use this metaclass to create an ABC.  An ABC can be subclassed\ndirectly, and then acts as a mix-in class.  You can also register\nunrelated concrete classes (even built-in classes) and unrelated\nABCs as \u2018virtual subclasses\u2019 \u2013 these and their descendants will\nbe considered subclasses of the registering ABC by the built-in\nissubclass() function, but the registering ABC won\u2019t show up in\ntheir MRO (Method Resolution Order) nor will method\nimplementations defined by the registering ABC be callable (not\neven via super()).</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">__call__</span></code>($self,&nbsp;/,&nbsp;*args,&nbsp;**kwargs)</td>\n<td>Call self as a function.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">mro</span></code>()</td>\n<td>return a type\u2019s method resolution order</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.ABCMeta.register\" title=\"dipy.segment.clustering.ABCMeta.register\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">register</span></code></a>(subclass)</td>\n<td>Register a virtual subclass of an ABC.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.ABCMeta.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ABCMeta.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.ABCMeta.register\">\n<code class=\"descname\">register</code><span class=\"sig-paren\">(</span><em>subclass</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ABCMeta.register\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Register a virtual subclass of an ABC.</p>\n<p>Returns the subclass, to allow usage as a class decorator.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"averagepointwiseeuclideanmetric\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.clustering.AveragePointwiseEuclideanMetric\" title=\"dipy.segment.clustering.AveragePointwiseEuclideanMetric\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AveragePointwiseEuclideanMetric</span></code></a><a class=\"headerlink\" href=\"#averagepointwiseeuclideanmetric\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.clustering.AveragePointwiseEuclideanMetric\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">AveragePointwiseEuclideanMetric</code><a class=\"headerlink\" href=\"#dipy.segment.clustering.AveragePointwiseEuclideanMetric\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.metricspeed.SumPointwiseEuclideanMetric</span></code></p>\n<p>Computes the average of pointwise Euclidean distances between two\nsequential data.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions). A <cite>feature</cite> object can be specified\nin order to calculate the distance between the features, rather than\ndirectly between the sequential data.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>feature</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\"><cite>Feature</cite> object, optional</span></dt>\n<dd><p class=\"first last\">It is used to extract features before computing the distance.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>The distance between two 2D sequential data:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">s1</span>       <span class=\"n\">s2</span>\n\n<span class=\"mi\">0</span><span class=\"o\">*</span>   <span class=\"n\">a</span>    <span class=\"o\">*</span><span class=\"mi\">0</span>\n  \\       <span class=\"o\">|</span>\n   \\      <span class=\"o\">|</span>\n   <span class=\"mi\">1</span><span class=\"o\">*</span>     <span class=\"o\">|</span>\n    <span class=\"o\">|</span>  <span class=\"n\">b</span>  <span class=\"o\">*</span><span class=\"mi\">1</span>\n    <span class=\"o\">|</span>      \\\n    <span class=\"mi\">2</span><span class=\"o\">*</span>      \\\n        <span class=\"n\">c</span>    <span class=\"o\">*</span><span class=\"mi\">2</span>\n</pre></div>\n</div>\n<p>is equal to <span class=\"math notranslate nohighlight\">\\((a+b+c)/3\\)</span> where <span class=\"math notranslate nohighlight\">\\(a\\)</span> is the Euclidean distance between s1[0] and\ns2[0], <span class=\"math notranslate nohighlight\">\\(b\\)</span> between s1[1] and s2[1] and <span class=\"math notranslate nohighlight\">\\(c\\)</span> between s1[2] and s2[2].</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">feature</span></code></dt>\n<dd><p class=\"first last\"><cite>Feature</cite> object used to extract features from sequential data</p>\n</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></dt>\n<dd><p class=\"first last\">Is this metric invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">are_compatible</span></code></td>\n<td>Checks if features can be used by <cite>metric.dist</cite> based on their shape.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dist</span></code></td>\n<td>Computes a distance between two data points based on their features.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.AveragePointwiseEuclideanMetric.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.AveragePointwiseEuclideanMetric.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"cluster\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.clustering.Cluster\" title=\"dipy.segment.clustering.Cluster\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Cluster</span></code></a><a class=\"headerlink\" href=\"#cluster\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.clustering.Cluster\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">Cluster</code><span class=\"sig-paren\">(</span><em>id=0</em>, <em>indices=None</em>, <em>refdata=&lt;dipy.segment.clustering.Identity object&gt;</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.Cluster\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>Provides functionalities for interacting with a cluster.</p>\n<p>Useful container to retrieve index of elements grouped together. If\na reference to the data is provided to <cite>cluster_map</cite>, elements will\nbe returned instead of their index when possible.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>cluster_map</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\"><cite>ClusterMap</cite> object</span></dt>\n<dd><p class=\"first last\">Reference to the set of clusters this cluster is being part of.</p>\n</dd>\n<dt><strong>id</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Id of this cluster in its associated <cite>cluster_map</cite> object.</p>\n</dd>\n<dt><strong>refdata</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list (optional)</span></dt>\n<dd><p class=\"first last\">Actual elements that clustered indices refer to.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>A cluster does not contain actual data but instead knows how to\nretrieve them using its <cite>ClusterMap</cite> object.</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.Cluster.assign\" title=\"dipy.segment.clustering.Cluster.assign\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assign</span></code></a>(*indices)</td>\n<td>Assigns indices to this cluster.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.Cluster.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>id=0</em>, <em>indices=None</em>, <em>refdata=&lt;dipy.segment.clustering.Identity object&gt;</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.Cluster.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.Cluster.assign\">\n<code class=\"descname\">assign</code><span class=\"sig-paren\">(</span><em>*indices</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.Cluster.assign\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Assigns indices to this cluster.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>*indices</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list of indices</span></dt>\n<dd><p class=\"first last\">Indices to add to this cluster.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"clustercentroid\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterCentroid\" title=\"dipy.segment.clustering.ClusterCentroid\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ClusterCentroid</span></code></a><a class=\"headerlink\" href=\"#clustercentroid\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.clustering.ClusterCentroid\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">ClusterCentroid</code><span class=\"sig-paren\">(</span><em>centroid</em>, <em>id=0</em>, <em>indices=None</em>, <em>refdata=&lt;dipy.segment.clustering.Identity object&gt;</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterCentroid\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.segment.clustering.Cluster\" title=\"dipy.segment.clustering.Cluster\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.clustering.Cluster</span></code></a></p>\n<p>Provides functionalities for interacting with a cluster.</p>\n<p>Useful container to retrieve the indices of elements grouped together and\nthe cluster\u2019s centroid. If a reference to the data is provided to\n<cite>cluster_map</cite>, elements will be returned instead of their index when\npossible.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>cluster_map</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\"><cite>ClusterMapCentroid</cite> object</span></dt>\n<dd><p class=\"first last\">Reference to the set of clusters this cluster is being part of.</p>\n</dd>\n<dt><strong>id</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Id of this cluster in its associated <cite>cluster_map</cite> object.</p>\n</dd>\n<dt><strong>refdata</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list (optional)</span></dt>\n<dd><p class=\"first last\">Actual elements that clustered indices refer to.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>A cluster does not contain actual data but instead knows how to\nretrieve them using its <cite>ClusterMapCentroid</cite> object.</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterCentroid.assign\" title=\"dipy.segment.clustering.ClusterCentroid.assign\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assign</span></code></a>(id_datum,&nbsp;features)</td>\n<td>Assigns a data point to this cluster.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterCentroid.update\" title=\"dipy.segment.clustering.ClusterCentroid.update\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">update</span></code></a>()</td>\n<td>Update centroid of this cluster.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.ClusterCentroid.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>centroid</em>, <em>id=0</em>, <em>indices=None</em>, <em>refdata=&lt;dipy.segment.clustering.Identity object&gt;</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterCentroid.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.ClusterCentroid.assign\">\n<code class=\"descname\">assign</code><span class=\"sig-paren\">(</span><em>id_datum</em>, <em>features</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterCentroid.assign\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Assigns a data point to this cluster.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>id_datum</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Index of the data point to add to this cluster.</p>\n</dd>\n<dt><strong>features</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D array</span></dt>\n<dd><p class=\"first last\">Data point\u2019s features to modify this cluster\u2019s centroid.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.ClusterCentroid.update\">\n<code class=\"descname\">update</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterCentroid.update\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Update centroid of this cluster.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>converged</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">Tells if the centroid has moved.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"clustermap\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterMap\" title=\"dipy.segment.clustering.ClusterMap\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ClusterMap</span></code></a><a class=\"headerlink\" href=\"#clustermap\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.clustering.ClusterMap\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">ClusterMap</code><span class=\"sig-paren\">(</span><em>refdata=&lt;dipy.segment.clustering.Identity object&gt;</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterMap\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>Provides functionalities for interacting with clustering outputs.</p>\n<p>Useful container to create, remove, retrieve and filter clusters.\nIf <cite>refdata</cite> is given, elements will be returned instead of their\nindex when using <cite>Cluster</cite> objects.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>refdata</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list</span></dt>\n<dd><p class=\"first last\">Actual elements that clustered indices refer to.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>clusters</strong></dt>\n<dd></dd>\n<dt><strong>refdata</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterMap.add_cluster\" title=\"dipy.segment.clustering.ClusterMap.add_cluster\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">add_cluster</span></code></a>(*clusters)</td>\n<td>Adds one or multiple clusters to this cluster map.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterMap.clear\" title=\"dipy.segment.clustering.ClusterMap.clear\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">clear</span></code></a>()</td>\n<td>Remove all clusters from this cluster map.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterMap.clusters_sizes\" title=\"dipy.segment.clustering.ClusterMap.clusters_sizes\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">clusters_sizes</span></code></a>()</td>\n<td>Gets the size of every cluster contained in this cluster map.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterMap.get_large_clusters\" title=\"dipy.segment.clustering.ClusterMap.get_large_clusters\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">get_large_clusters</span></code></a>(min_size)</td>\n<td>Gets clusters which contains at least <cite>min_size</cite> elements.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterMap.get_small_clusters\" title=\"dipy.segment.clustering.ClusterMap.get_small_clusters\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">get_small_clusters</span></code></a>(max_size)</td>\n<td>Gets clusters which contains at most <cite>max_size</cite> elements.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterMap.remove_cluster\" title=\"dipy.segment.clustering.ClusterMap.remove_cluster\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">remove_cluster</span></code></a>(*clusters)</td>\n<td>Remove one or multiple clusters from this cluster map.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterMap.size\" title=\"dipy.segment.clustering.ClusterMap.size\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">size</span></code></a>()</td>\n<td>Gets number of clusters contained in this cluster map.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.ClusterMap.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>refdata=&lt;dipy.segment.clustering.Identity object&gt;</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterMap.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.ClusterMap.add_cluster\">\n<code class=\"descname\">add_cluster</code><span class=\"sig-paren\">(</span><em>*clusters</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterMap.add_cluster\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Adds one or multiple clusters to this cluster map.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>*clusters</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\"><cite>Cluster</cite> object, \u2026</span></dt>\n<dd><p class=\"first last\">Cluster(s) to be added in this cluster map.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.ClusterMap.clear\">\n<code class=\"descname\">clear</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterMap.clear\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Remove all clusters from this cluster map.</p>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.clustering.ClusterMap.clusters\">\n<code class=\"descname\">clusters</code><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterMap.clusters\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.ClusterMap.clusters_sizes\">\n<code class=\"descname\">clusters_sizes</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterMap.clusters_sizes\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Gets the size of every cluster contained in this cluster map.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>list of int</strong></dt>\n<dd><p class=\"first last\">Sizes of every cluster in this cluster map.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.ClusterMap.get_large_clusters\">\n<code class=\"descname\">get_large_clusters</code><span class=\"sig-paren\">(</span><em>min_size</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterMap.get_large_clusters\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Gets clusters which contains at least <cite>min_size</cite> elements.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>min_size</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Minimum number of elements a cluster needs to have to be selected.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>list of `Cluster` objects</strong></dt>\n<dd><p class=\"first last\">Clusters having at least <cite>min_size</cite> elements.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.ClusterMap.get_small_clusters\">\n<code class=\"descname\">get_small_clusters</code><span class=\"sig-paren\">(</span><em>max_size</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterMap.get_small_clusters\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Gets clusters which contains at most <cite>max_size</cite> elements.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>max_size</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Maximum number of elements a cluster can have to be selected.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>list of `Cluster` objects</strong></dt>\n<dd><p class=\"first last\">Clusters having at most <cite>max_size</cite> elements.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.clustering.ClusterMap.refdata\">\n<code class=\"descname\">refdata</code><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterMap.refdata\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.ClusterMap.remove_cluster\">\n<code class=\"descname\">remove_cluster</code><span class=\"sig-paren\">(</span><em>*clusters</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterMap.remove_cluster\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Remove one or multiple clusters from this cluster map.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>*clusters</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\"><cite>Cluster</cite> object, \u2026</span></dt>\n<dd><p class=\"first last\">Cluster(s) to be removed from this cluster map.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.ClusterMap.size\">\n<code class=\"descname\">size</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterMap.size\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Gets number of clusters contained in this cluster map.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"clustermapcentroid\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterMapCentroid\" title=\"dipy.segment.clustering.ClusterMapCentroid\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ClusterMapCentroid</span></code></a><a class=\"headerlink\" href=\"#clustermapcentroid\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.clustering.ClusterMapCentroid\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">ClusterMapCentroid</code><span class=\"sig-paren\">(</span><em>refdata=&lt;dipy.segment.clustering.Identity object&gt;</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterMapCentroid\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterMap\" title=\"dipy.segment.clustering.ClusterMap\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.clustering.ClusterMap</span></code></a></p>\n<p>Provides functionalities for interacting with clustering outputs\nthat have centroids.</p>\n<p>Allows to retrieve easely the centroid of every cluster. Also, it is\na useful container to create, remove, retrieve and filter clusters.\nIf <cite>refdata</cite> is given, elements will be returned instead of their\nindex when using <cite>ClusterCentroid</cite> objects.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>refdata</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list</span></dt>\n<dd><p class=\"first last\">Actual elements that clustered indices refer to.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>centroids</strong></dt>\n<dd></dd>\n<dt><strong>clusters</strong></dt>\n<dd></dd>\n<dt><strong>refdata</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">add_cluster</span></code>(*clusters)</td>\n<td>Adds one or multiple clusters to this cluster map.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">clear</span></code>()</td>\n<td>Remove all clusters from this cluster map.</td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">clusters_sizes</span></code>()</td>\n<td>Gets the size of every cluster contained in this cluster map.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">get_large_clusters</span></code>(min_size)</td>\n<td>Gets clusters which contains at least <cite>min_size</cite> elements.</td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">get_small_clusters</span></code>(max_size)</td>\n<td>Gets clusters which contains at most <cite>max_size</cite> elements.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">remove_cluster</span></code>(*clusters)</td>\n<td>Remove one or multiple clusters from this cluster map.</td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">size</span></code>()</td>\n<td>Gets number of clusters contained in this cluster map.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.ClusterMapCentroid.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>refdata=&lt;dipy.segment.clustering.Identity object&gt;</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterMapCentroid.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.clustering.ClusterMapCentroid.centroids\">\n<code class=\"descname\">centroids</code><a class=\"headerlink\" href=\"#dipy.segment.clustering.ClusterMapCentroid.centroids\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"clustering\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.clustering.Clustering\" title=\"dipy.segment.clustering.Clustering\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Clustering</span></code></a><a class=\"headerlink\" href=\"#clustering\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.clustering.Clustering\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">Clustering</code><a class=\"headerlink\" href=\"#dipy.segment.clustering.Clustering\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.Clustering.cluster\" title=\"dipy.segment.clustering.Clustering.cluster\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">cluster</span></code></a>(data[,&nbsp;ordering])</td>\n<td>Clusters <cite>data</cite>.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.Clustering.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.Clustering.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.Clustering.cluster\">\n<code class=\"descname\">cluster</code><span class=\"sig-paren\">(</span><em>data</em>, <em>ordering=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.Clustering.cluster\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Clusters <cite>data</cite>.</p>\n<p>Subclasses will perform their clustering algorithm here.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>data</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list of N-dimensional arrays</span></dt>\n<dd><p class=\"first last\">Each array represents a data point.</p>\n</dd>\n<dt><strong>ordering</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">iterable of indices, optional</span></dt>\n<dd><p class=\"first last\">Specifies the order in which data points will be clustered.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>`ClusterMap` object</strong></dt>\n<dd><p class=\"first last\">Result of the clustering.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"identity\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.clustering.Identity\" title=\"dipy.segment.clustering.Identity\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Identity</span></code></a><a class=\"headerlink\" href=\"#identity\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.clustering.Identity\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">Identity</code><a class=\"headerlink\" href=\"#dipy.segment.clustering.Identity\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>Provides identity indexing functionality.</p>\n<p>This can replace any class supporting indexing used for referencing\n(e.g. list, tuple). Indexing an instance of this class will return the\nindex provided instead of the element. It does not support slicing.</p>\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.Identity.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.Identity.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id18\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.clustering.Metric\" title=\"dipy.segment.clustering.Metric\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Metric</span></code></a><a class=\"headerlink\" href=\"#id18\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.clustering.Metric\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">Metric</code><a class=\"headerlink\" href=\"#dipy.segment.clustering.Metric\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>Computes a distance between two sequential data.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions). A <cite>feature</cite> object can be specified\nin order to calculate the distance between extracted features, rather\nthan directly between the sequential data.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>feature</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\"><cite>Feature</cite> object, optional</span></dt>\n<dd><p class=\"first last\">It is used to extract features before computing the distance.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>When subclassing <cite>Metric</cite>, one only needs to override the <cite>dist</cite> and\n<cite>are_compatible</cite> methods.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><a class=\"reference internal\" href=\"#dipy.segment.clustering.Metric.feature\" title=\"dipy.segment.clustering.Metric.feature\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">feature</span></code></a></dt>\n<dd><p class=\"first last\"><cite>Feature</cite> object used to extract features from sequential data</p>\n</dd>\n<dt><a class=\"reference internal\" href=\"#dipy.segment.clustering.Metric.is_order_invariant\" title=\"dipy.segment.clustering.Metric.is_order_invariant\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></a></dt>\n<dd><p class=\"first last\">Is this metric invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.Metric.are_compatible\" title=\"dipy.segment.clustering.Metric.are_compatible\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">are_compatible</span></code></a></td>\n<td>Checks if features can be used by <cite>metric.dist</cite> based on their shape.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.Metric.dist\" title=\"dipy.segment.clustering.Metric.dist\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dist</span></code></a></td>\n<td>Computes a distance between two data points based on their features.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.Metric.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.Metric.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.Metric.are_compatible\">\n<code class=\"descname\">are_compatible</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.Metric.are_compatible\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Checks if features can be used by <cite>metric.dist</cite> based on their shape.</p>\n<p>Basically this method exists so we don\u2019t have to do this check\ninside the <cite>metric.dist</cite> function (speedup).</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>shape1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, 1-tuple or 2-tuple</span></dt>\n<dd><p class=\"first last\">shape of the first data point\u2019s features</p>\n</dd>\n<dt><strong>shape2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, 1-tuple or 2-tuple</span></dt>\n<dd><p class=\"first last\">shape of the second data point\u2019s features</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>are_compatible</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">whether or not shapes are compatible</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.Metric.dist\">\n<code class=\"descname\">dist</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.Metric.dist\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Computes a distance between two data points based on their features.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>features1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D array</span></dt>\n<dd><p class=\"first last\">Features of the first data point.</p>\n</dd>\n<dt><strong>features2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D array</span></dt>\n<dd><p class=\"first last\">Features of the second data point.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>double</strong></dt>\n<dd><p class=\"first last\">Distance between two data points.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.clustering.Metric.feature\">\n<code class=\"descname\">feature</code><a class=\"headerlink\" href=\"#dipy.segment.clustering.Metric.feature\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p><cite>Feature</cite> object used to extract features from sequential data</p>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.clustering.Metric.is_order_invariant\">\n<code class=\"descname\">is_order_invariant</code><a class=\"headerlink\" href=\"#dipy.segment.clustering.Metric.is_order_invariant\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Is this metric invariant to the sequence\u2019s ordering</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"minimumaveragedirectflipmetric\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.clustering.MinimumAverageDirectFlipMetric\" title=\"dipy.segment.clustering.MinimumAverageDirectFlipMetric\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MinimumAverageDirectFlipMetric</span></code></a><a class=\"headerlink\" href=\"#minimumaveragedirectflipmetric\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.clustering.MinimumAverageDirectFlipMetric\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">MinimumAverageDirectFlipMetric</code><a class=\"headerlink\" href=\"#dipy.segment.clustering.MinimumAverageDirectFlipMetric\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.metricspeed.AveragePointwiseEuclideanMetric</span></code></p>\n<p>Computes the MDF distance (minimum average direct-flip) between two\nsequential data.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions).</p>\n<p class=\"rubric\">Notes</p>\n<p>The distance between two 2D sequential data:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">s1</span>       <span class=\"n\">s2</span>\n\n<span class=\"mi\">0</span><span class=\"o\">*</span>   <span class=\"n\">a</span>    <span class=\"o\">*</span><span class=\"mi\">0</span>\n  \\       <span class=\"o\">|</span>\n   \\      <span class=\"o\">|</span>\n   <span class=\"mi\">1</span><span class=\"o\">*</span>     <span class=\"o\">|</span>\n    <span class=\"o\">|</span>  <span class=\"n\">b</span>  <span class=\"o\">*</span><span class=\"mi\">1</span>\n    <span class=\"o\">|</span>      \\\n    <span class=\"mi\">2</span><span class=\"o\">*</span>      \\\n        <span class=\"n\">c</span>    <span class=\"o\">*</span><span class=\"mi\">2</span>\n</pre></div>\n</div>\n<p>is equal to <span class=\"math notranslate nohighlight\">\\(\\min((a+b+c)/3, (a'+b'+c')/3)\\)</span> where <span class=\"math notranslate nohighlight\">\\(a\\)</span> is the Euclidean distance\nbetween s1[0] and s2[0], <span class=\"math notranslate nohighlight\">\\(b\\)</span> between s1[1] and s2[1], <span class=\"math notranslate nohighlight\">\\(c\\)</span> between s1[2]\nand s2[2], <span class=\"math notranslate nohighlight\">\\(a'\\)</span> between s1[0] and s2[2], <span class=\"math notranslate nohighlight\">\\(b'\\)</span> between s1[1] and s2[1]\nand <span class=\"math notranslate nohighlight\">\\(c'\\)</span> between s1[2] and s2[0].</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">feature</span></code></dt>\n<dd><p class=\"first last\"><cite>Feature</cite> object used to extract features from sequential data</p>\n</dd>\n<dt><a class=\"reference internal\" href=\"#dipy.segment.clustering.MinimumAverageDirectFlipMetric.is_order_invariant\" title=\"dipy.segment.clustering.MinimumAverageDirectFlipMetric.is_order_invariant\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></a></dt>\n<dd><p class=\"first last\">Is this metric invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">are_compatible</span></code></td>\n<td>Checks if features can be used by <cite>metric.dist</cite> based on their shape.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dist</span></code></td>\n<td>Computes a distance between two data points based on their features.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.MinimumAverageDirectFlipMetric.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.MinimumAverageDirectFlipMetric.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.clustering.MinimumAverageDirectFlipMetric.is_order_invariant\">\n<code class=\"descname\">is_order_invariant</code><a class=\"headerlink\" href=\"#dipy.segment.clustering.MinimumAverageDirectFlipMetric.is_order_invariant\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Is this metric invariant to the sequence\u2019s ordering</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"quickbundles\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.clustering.QuickBundles\" title=\"dipy.segment.clustering.QuickBundles\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">QuickBundles</span></code></a><a class=\"headerlink\" href=\"#quickbundles\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.clustering.QuickBundles\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">QuickBundles</code><span class=\"sig-paren\">(</span><em>threshold</em>, <em>metric='MDF_12points'</em>, <em>max_nb_clusters=2147483647</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.QuickBundles\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.segment.clustering.Clustering\" title=\"dipy.segment.clustering.Clustering\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.clustering.Clustering</span></code></a></p>\n<p>Clusters streamlines using QuickBundles <a class=\"reference internal\" href=\"#r2491d57df3a8-garyfallidis12\" id=\"id19\">[Garyfallidis12]</a>.</p>\n<p>Given a list of streamlines, the QuickBundles algorithm sequentially\nassigns each streamline to its closest bundle in <span class=\"math notranslate nohighlight\">\\(\\mathcal{O}(Nk)\\)</span> where\n<span class=\"math notranslate nohighlight\">\\(N\\)</span> is the number of streamlines and <span class=\"math notranslate nohighlight\">\\(k\\)</span> is the final number of bundles.\nIf for a given streamline its closest bundle is farther than <cite>threshold</cite>,\na new bundle is created and the streamline is assigned to it except if the\nnumber of bundles has already exceeded <cite>max_nb_clusters</cite>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>threshold</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">The maximum distance from a bundle for a streamline to be still\nconsidered as part of it.</p>\n</dd>\n<dt><strong>metric</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str or <cite>Metric</cite> object (optional)</span></dt>\n<dd><p class=\"first last\">The distance metric to use when comparing two streamlines. By default,\nthe Minimum average Direct-Flip (MDF) distance <a class=\"reference internal\" href=\"#r2491d57df3a8-garyfallidis12\" id=\"id20\">[Garyfallidis12]</a> is\nused and streamlines are automatically resampled so they have\n12 points.</p>\n</dd>\n<dt><strong>max_nb_clusters</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Limits the creation of bundles.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r2491d57df3a8-garyfallidis12\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Garyfallidis12]</td><td><em>(<a class=\"fn-backref\" href=\"#id3\">1</a>, <a class=\"fn-backref\" href=\"#id19\">2</a>, <a class=\"fn-backref\" href=\"#id20\">3</a>, <a class=\"fn-backref\" href=\"#id21\">4</a>)</em> Garyfallidis E. et al., QuickBundles a method for\ntractography simplification, Frontiers in Neuroscience,\nvol 6, no 175, 2012.</td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.segment.clustering</span> <span class=\"k\">import</span> <span class=\"n\">QuickBundles</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.data</span> <span class=\"k\">import</span> <span class=\"n\">get_fnames</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">nibabel</span> <span class=\"k\">import</span> <span class=\"n\">trackvis</span> <span class=\"k\">as</span> <span class=\"n\">tv</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streams</span><span class=\"p\">,</span> <span class=\"n\">hdr</span> <span class=\"o\">=</span> <span class=\"n\">tv</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">(</span><span class=\"n\">get_fnames</span><span class=\"p\">(</span><span class=\"s1\">&#39;fornix&#39;</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">streams</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Segment fornix with a treshold of 10mm and streamlines resampled</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># to 12 points.</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qb</span> <span class=\"o\">=</span> <span class=\"n\">QuickBundles</span><span class=\"p\">(</span><span class=\"n\">threshold</span><span class=\"o\">=</span><span class=\"mf\">10.</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">clusters</span> <span class=\"o\">=</span> <span class=\"n\">qb</span><span class=\"o\">.</span><span class=\"n\">cluster</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">clusters</span><span class=\"p\">)</span>\n<span class=\"go\">4</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">map</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">,</span> <span class=\"n\">clusters</span><span class=\"p\">))</span>\n<span class=\"go\">[61, 191, 47, 1]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Resampling streamlines differently is done explicitly as follows.</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Note this has an impact on the speed and the accuracy (tradeoff).</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.segment.metric</span> <span class=\"k\">import</span> <span class=\"n\">ResampleFeature</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.segment.metric</span> <span class=\"k\">import</span> <span class=\"n\">AveragePointwiseEuclideanMetric</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">feature</span> <span class=\"o\">=</span> <span class=\"n\">ResampleFeature</span><span class=\"p\">(</span><span class=\"n\">nb_points</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">metric</span> <span class=\"o\">=</span> <span class=\"n\">AveragePointwiseEuclideanMetric</span><span class=\"p\">(</span><span class=\"n\">feature</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qb</span> <span class=\"o\">=</span> <span class=\"n\">QuickBundles</span><span class=\"p\">(</span><span class=\"n\">threshold</span><span class=\"o\">=</span><span class=\"mf\">10.</span><span class=\"p\">,</span> <span class=\"n\">metric</span><span class=\"o\">=</span><span class=\"n\">metric</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">clusters</span> <span class=\"o\">=</span> <span class=\"n\">qb</span><span class=\"o\">.</span><span class=\"n\">cluster</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">clusters</span><span class=\"p\">)</span>\n<span class=\"go\">4</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"nb\">map</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">,</span> <span class=\"n\">clusters</span><span class=\"p\">))</span>\n<span class=\"go\">[58, 142, 72, 28]</span>\n</pre></div>\n</div>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.QuickBundles.cluster\" title=\"dipy.segment.clustering.QuickBundles.cluster\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">cluster</span></code></a>(streamlines[,&nbsp;ordering])</td>\n<td>Clusters <cite>streamlines</cite> into bundles.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.QuickBundles.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>threshold</em>, <em>metric='MDF_12points'</em>, <em>max_nb_clusters=2147483647</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.QuickBundles.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.QuickBundles.cluster\">\n<code class=\"descname\">cluster</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>ordering=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.QuickBundles.cluster\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Clusters <cite>streamlines</cite> into bundles.</p>\n<p>Performs quickbundles algorithm using predefined metric and threshold.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list of 2D arrays</span></dt>\n<dd><p class=\"first last\">Each 2D array represents a sequence of 3D points (points, 3).</p>\n</dd>\n<dt><strong>ordering</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">iterable of indices</span></dt>\n<dd><p class=\"first last\">Specifies the order in which data points will be clustered.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>`ClusterMapCentroid` object</strong></dt>\n<dd><p class=\"first last\">Result of the clustering.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"quickbundlesx\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.clustering.QuickBundlesX\" title=\"dipy.segment.clustering.QuickBundlesX\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">QuickBundlesX</span></code></a><a class=\"headerlink\" href=\"#quickbundlesx\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.clustering.QuickBundlesX\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">QuickBundlesX</code><span class=\"sig-paren\">(</span><em>thresholds</em>, <em>metric='MDF_12points'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.QuickBundlesX\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.segment.clustering.Clustering\" title=\"dipy.segment.clustering.Clustering\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.clustering.Clustering</span></code></a></p>\n<p>Clusters streamlines using QuickBundlesX.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>thresholds</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list of float</span></dt>\n<dd><p class=\"first last\">Thresholds to use for each clustering layer. A threshold represents the\nmaximum distance from a cluster for a streamline to be still considered\nas part of it.</p>\n</dd>\n<dt><strong>metric</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str or <cite>Metric</cite> object (optional)</span></dt>\n<dd><p class=\"first last\">The distance metric to use when comparing two streamlines. By default,\nthe Minimum average Direct-Flip (MDF) distance <a class=\"reference internal\" href=\"#r88276b257c2b-garyfallidis12\" id=\"id22\">[Garyfallidis12]</a> is\nused and streamlines are automatically resampled so they have 12\npoints.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r88276b257c2b-garyfallidis12\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Garyfallidis12]</td><td><em>(<a class=\"fn-backref\" href=\"#id22\">1</a>, <a class=\"fn-backref\" href=\"#id23\">2</a>)</em> Garyfallidis E. et al., QuickBundles a method for\ntractography simplification, Frontiers in Neuroscience,\nvol 6, no 175, 2012.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r88276b257c2b-garyfallidis16\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id24\">[Garyfallidis16]</a></td><td>Garyfallidis E. et al. QuickBundlesX: Sequential\nclustering of millions of streamlines in multiple\nlevels of detail at record execution time. Proceedings\nof the, International Society of Magnetic Resonance\nin Medicine (ISMRM). Singapore, 4187, 2016.</td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.clustering.QuickBundlesX.cluster\" title=\"dipy.segment.clustering.QuickBundlesX.cluster\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">cluster</span></code></a>(streamlines[,&nbsp;ordering])</td>\n<td>Clusters <cite>streamlines</cite> into bundles.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.QuickBundlesX.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>thresholds</em>, <em>metric='MDF_12points'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.QuickBundlesX.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.QuickBundlesX.cluster\">\n<code class=\"descname\">cluster</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>ordering=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.QuickBundlesX.cluster\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Clusters <cite>streamlines</cite> into bundles.</p>\n<p>Performs QuickbundleX using a predefined metric and thresholds.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list of 2D arrays</span></dt>\n<dd><p class=\"first last\">Each 2D array represents a sequence of 3D points (points, 3).</p>\n</dd>\n<dt><strong>ordering</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">iterable of indices</span></dt>\n<dd><p class=\"first last\">Specifies the order in which data points will be clustered.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>`TreeClusterMap` object</strong></dt>\n<dd><p class=\"first last\">Result of the clustering.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"resamplefeature\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.clustering.ResampleFeature\" title=\"dipy.segment.clustering.ResampleFeature\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ResampleFeature</span></code></a><a class=\"headerlink\" href=\"#resamplefeature\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.clustering.ResampleFeature\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">ResampleFeature</code><a class=\"headerlink\" href=\"#dipy.segment.clustering.ResampleFeature\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.featurespeed.CythonFeature</span></code></p>\n<p>Extracts features from a sequential datum.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions).</p>\n<p>The features being extracted are the points of the sequence once resampled.\nThis is useful for metrics requiring a constant number of points for all</p>\n<blockquote>\n<div>streamlines.</div></blockquote>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></dt>\n<dd><p class=\"first last\">Is this feature invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">extract</span></code></td>\n<td>Extracts features from a sequential datum.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">infer_shape</span></code></td>\n<td>Infers the shape of features extracted from a sequential datum.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.ResampleFeature.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.ResampleFeature.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"treecluster\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.clustering.TreeCluster\" title=\"dipy.segment.clustering.TreeCluster\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">TreeCluster</span></code></a><a class=\"headerlink\" href=\"#treecluster\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.clustering.TreeCluster\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">TreeCluster</code><span class=\"sig-paren\">(</span><em>threshold</em>, <em>centroid</em>, <em>indices=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.TreeCluster\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterCentroid\" title=\"dipy.segment.clustering.ClusterCentroid\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.clustering.ClusterCentroid</span></code></a></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>is_leaf</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assign</span></code>(id_datum,&nbsp;features)</td>\n<td>Assigns a data point to this cluster.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">update</span></code>()</td>\n<td>Update centroid of this cluster.</td>\n</tr>\n</tbody>\n</table>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"41%\" />\n<col width=\"59%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>add</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.TreeCluster.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>threshold</em>, <em>centroid</em>, <em>indices=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.TreeCluster.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.TreeCluster.add\">\n<code class=\"descname\">add</code><span class=\"sig-paren\">(</span><em>child</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.TreeCluster.add\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.clustering.TreeCluster.is_leaf\">\n<code class=\"descname\">is_leaf</code><a class=\"headerlink\" href=\"#dipy.segment.clustering.TreeCluster.is_leaf\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"treeclustermap\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.clustering.TreeClusterMap\" title=\"dipy.segment.clustering.TreeClusterMap\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">TreeClusterMap</span></code></a><a class=\"headerlink\" href=\"#treeclustermap\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.clustering.TreeClusterMap\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">TreeClusterMap</code><span class=\"sig-paren\">(</span><em>root</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.TreeClusterMap\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.segment.clustering.ClusterMap\" title=\"dipy.segment.clustering.ClusterMap\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.clustering.ClusterMap</span></code></a></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>clusters</strong></dt>\n<dd></dd>\n<dt><strong>refdata</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">add_cluster</span></code>(*clusters)</td>\n<td>Adds one or multiple clusters to this cluster map.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">clear</span></code>()</td>\n<td>Remove all clusters from this cluster map.</td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">clusters_sizes</span></code>()</td>\n<td>Gets the size of every cluster contained in this cluster map.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">get_large_clusters</span></code>(min_size)</td>\n<td>Gets clusters which contains at least <cite>min_size</cite> elements.</td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">get_small_clusters</span></code>(max_size)</td>\n<td>Gets clusters which contains at most <cite>max_size</cite> elements.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">remove_cluster</span></code>(*clusters)</td>\n<td>Remove one or multiple clusters from this cluster map.</td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">size</span></code>()</td>\n<td>Gets number of clusters contained in this cluster map.</td>\n</tr>\n</tbody>\n</table>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"69%\" />\n<col width=\"31%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>get_clusters</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>iter_preorder</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>traverse_postorder</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.TreeClusterMap.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>root</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.TreeClusterMap.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.TreeClusterMap.get_clusters\">\n<code class=\"descname\">get_clusters</code><span class=\"sig-paren\">(</span><em>wanted_level</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.TreeClusterMap.get_clusters\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.TreeClusterMap.iter_preorder\">\n<code class=\"descname\">iter_preorder</code><span class=\"sig-paren\">(</span><em>node</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.TreeClusterMap.iter_preorder\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.clustering.TreeClusterMap.refdata\">\n<code class=\"descname\">refdata</code><a class=\"headerlink\" href=\"#dipy.segment.clustering.TreeClusterMap.refdata\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.clustering.TreeClusterMap.traverse_postorder\">\n<code class=\"descname\">traverse_postorder</code><span class=\"sig-paren\">(</span><em>node</em>, <em>visit</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.TreeClusterMap.traverse_postorder\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"abstractmethod\">\n<h3>abstractmethod<a class=\"headerlink\" href=\"#abstractmethod\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.clustering.abstractmethod\">\n<code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">abstractmethod</code><span class=\"sig-paren\">(</span><em>funcobj</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.abstractmethod\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>A decorator indicating abstract methods.</p>\n<p>Requires that the metaclass is ABCMeta or derived from it.  A\nclass that has a metaclass derived from ABCMeta cannot be\ninstantiated unless all of its abstract methods are overridden.\nThe abstract methods can be called using any of the normal\n\u2018super\u2019 call mechanisms.</p>\n<p>Usage:</p>\n<blockquote>\n<div><dl class=\"docutils\">\n<dt>class C(metaclass=ABCMeta):</dt>\n<dd><p class=\"first\">&#64;abstractmethod\ndef my_abstract_method(self, \u2026):</p>\n<blockquote class=\"last\">\n<div>\u2026</div></blockquote>\n</dd>\n</dl>\n</div></blockquote>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id25\">\n<h3>nbytes<a class=\"headerlink\" href=\"#id25\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.clustering.nbytes\">\n<code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">nbytes</code><span class=\"sig-paren\">(</span><em>streamlines</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.nbytes\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"id26\">\n<h3>qbx_and_merge<a class=\"headerlink\" href=\"#id26\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.clustering.qbx_and_merge\">\n<code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">qbx_and_merge</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>thresholds</em>, <em>nb_pts=20</em>, <em>select_randomly=None</em>, <em>rng=None</em>, <em>verbose=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.qbx_and_merge\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Run QuickBundlesX and then run again on the centroids of the last layer</p>\n<p>Running again QuickBundles at a layer has the effect of merging\nsome of the clusters that maybe originally devided because of branching.\nThis function help obtain a result at a QuickBundles quality but with\nQuickBundlesX speed. The merging phase has low cost because it is applied\nonly on the centroids rather than the entire dataset.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines</span></dt>\n<dd></dd>\n<dt><strong>thresholds</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">List of distance thresholds for QuickBundlesX.</p>\n</dd>\n<dt><strong>nb_pts</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of points for discretizing each streamline</p>\n</dd>\n<dt><strong>select_randomly</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Randomly select a specific number of streamlines. If None all the\nstreamlines are used.</p>\n</dd>\n<dt><strong>rng</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">RandomState</span></dt>\n<dd><p class=\"first last\">If None then RandomState is initialized internally.</p>\n</dd>\n<dt><strong>verbose</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">If True print information in stdout.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>clusters</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">obj</span></dt>\n<dd><p class=\"first last\">Contains the clusters of the last layer of QuickBundlesX after merging.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"rf4116ddc3cb6-garyfallidis12\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id27\">[Garyfallidis12]</a></td><td>Garyfallidis E. et al., QuickBundles a method for\ntractography simplification, Frontiers in Neuroscience,\nvol 6, no 175, 2012.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"rf4116ddc3cb6-garyfallidis16\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id28\">[Garyfallidis16]</a></td><td>Garyfallidis E. et al. QuickBundlesX: Sequential\nclustering of millions of streamlines in multiple\nlevels of detail at record execution time. Proceedings\nof the, International Society of Magnetic Resonance\nin Medicine (ISMRM). Singapore, 4187, 2016.</td></tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id29\">\n<h3>set_number_of_points<a class=\"headerlink\" href=\"#id29\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.clustering.set_number_of_points\">\n<code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">set_number_of_points</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.clustering.set_number_of_points\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><dl class=\"docutils\">\n<dt>Change the number of points of streamlines</dt>\n<dd>(either by downsampling or upsampling)</dd>\n</dl>\n<p>Change the number of points of streamlines in order to obtain\n<cite>nb_points</cite>-1 segments of equal length. Points of streamlines will be\nmodified along the curve.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray or a list or <a class=\"reference internal\" href=\"../dipy.tracking/#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a></span></dt>\n<dd><p class=\"first last\">If ndarray, must have shape (N,3) where N is the number of points\nof the streamline.\nIf list, each item must be ndarray shape (Ni,3) where Ni is the number\nof points of streamline i.\nIf <a class=\"reference internal\" href=\"../dipy.tracking/#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a>, its <cite>common_shape</cite> must be 3.</p>\n</dd>\n<dt><strong>nb_points</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">integer representing number of points wanted along the curve.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>new_streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray or a list or <a class=\"reference internal\" href=\"../dipy.tracking/#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a></span></dt>\n<dd><p class=\"first last\">Results of the downsampling or upsampling process.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.streamline</span> <span class=\"k\">import</span> <span class=\"n\">set_number_of_points</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n</pre></div>\n</div>\n<p>One streamline, a semi-circle:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span> <span class=\"o\">=</span> <span class=\"mi\">0</span> <span class=\"o\">*</span> <span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">modified_streamline</span> <span class=\"o\">=</span> <span class=\"n\">set_number_of_points</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">modified_streamline</span><span class=\"p\">)</span>\n<span class=\"go\">3</span>\n</pre></div>\n</div>\n<p>Multiple streamlines:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">streamline</span><span class=\"p\">[::</span><span class=\"mi\">2</span><span class=\"p\">]]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">new_streamlines</span> <span class=\"o\">=</span> <span class=\"n\">set_number_of_points</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[100, 50]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">new_streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[10, 10]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id30\">\n<h3>time<a class=\"headerlink\" href=\"#id30\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.clustering.time\">\n<code class=\"descclassname\">dipy.segment.clustering.</code><code class=\"descname\">time</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span> &#x2192; floating point number<a class=\"headerlink\" href=\"#dipy.segment.clustering.time\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return the current time in seconds since the Epoch.\nFractions of a second may be present if the system clock provides them.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"applymask\">\n<h3>applymask<a class=\"headerlink\" href=\"#applymask\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.mask.applymask\">\n<code class=\"descclassname\">dipy.segment.mask.</code><code class=\"descname\">applymask</code><span class=\"sig-paren\">(</span><em>vol</em>, <em>mask</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.mask.applymask\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Mask vol with mask.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>vol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Array with <span class=\"math notranslate nohighlight\">\\(V\\)</span> dimensions</p>\n</dd>\n<dt><strong>mask</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Binary mask.  Has <span class=\"math notranslate nohighlight\">\\(M\\)</span> dimensions where <span class=\"math notranslate nohighlight\">\\(M &lt;= V\\)</span>. When <span class=\"math notranslate nohighlight\">\\(M &lt; V\\)</span>, we\nappend <span class=\"math notranslate nohighlight\">\\(V - M\\)</span> dimensions with axis length 1 to <cite>mask</cite> so that <cite>mask</cite>\nwill broadcast against <cite>vol</cite>.  In the typical case <cite>vol</cite> can be 4D,\n<cite>mask</cite> can be 3D, and we append a 1 to the mask shape which (via numpy\nbroadcasting) has the effect of appling the 3D mask to each 3D slice in\n<cite>vol</cite> (<code class=\"docutils literal notranslate\"><span class=\"pre\">vol[...,</span> <span class=\"pre\">0]</span></code> to <code class=\"docutils literal notranslate\"><span class=\"pre\">vol[...,</span> <span class=\"pre\">-1</span></code>).</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>masked_vol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\"><cite>vol</cite> multiplied by <cite>mask</cite> where <cite>mask</cite> may have been extended to match\nextra dimensions in <cite>vol</cite></p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"binary-dilation\">\n<h3>binary_dilation<a class=\"headerlink\" href=\"#binary-dilation\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.mask.binary_dilation\">\n<code class=\"descclassname\">dipy.segment.mask.</code><code class=\"descname\">binary_dilation</code><span class=\"sig-paren\">(</span><em>input</em>, <em>structure=None</em>, <em>iterations=1</em>, <em>mask=None</em>, <em>output=None</em>, <em>border_value=0</em>, <em>origin=0</em>, <em>brute_force=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.mask.binary_dilation\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Multi-dimensional binary dilation with the given structuring element.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>input</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">Binary array_like to be dilated. Non-zero (True) elements form\nthe subset to be dilated.</p>\n</dd>\n<dt><strong>structure</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like, optional</span></dt>\n<dd><p class=\"first last\">Structuring element used for the dilation. Non-zero elements are\nconsidered True. If no structuring element is provided an element\nis generated with a square connectivity equal to one.</p>\n</dd>\n<dt><strong>iterations</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{int, float}, optional</span></dt>\n<dd><p class=\"first last\">The dilation is repeated <cite>iterations</cite> times (one, by default).\nIf iterations is less than 1, the dilation is repeated until the\nresult does not change anymore.</p>\n</dd>\n<dt><strong>mask</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like, optional</span></dt>\n<dd><p class=\"first last\">If a mask is given, only those elements with a True value at\nthe corresponding mask element are modified at each iteration.</p>\n</dd>\n<dt><strong>output</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray, optional</span></dt>\n<dd><p class=\"first last\">Array of the same shape as input, into which the output is placed.\nBy default, a new array is created.</p>\n</dd>\n<dt><strong>border_value</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int (cast to 0 or 1), optional</span></dt>\n<dd><p class=\"first last\">Value at the border in the output array.</p>\n</dd>\n<dt><strong>origin</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int or tuple of ints, optional</span></dt>\n<dd><p class=\"first last\">Placement of the filter, by default 0.</p>\n</dd>\n<dt><strong>brute_force</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">boolean, optional</span></dt>\n<dd><p class=\"first last\">Memory condition: if False, only the pixels whose value was changed in\nthe last iteration are tracked as candidates to be updated (dilated)\nin the current iteration; if True all pixels are considered as\ncandidates for dilation, regardless of what happened in the previous\niteration. False by default.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>binary_dilation</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray of bools</span></dt>\n<dd><p class=\"first last\">Dilation of the input by the structuring element.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">grey_dilation</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">binary_erosion</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">binary_closing</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">binary_opening</span></code>, <a class=\"reference internal\" href=\"#dipy.segment.mask.generate_binary_structure\" title=\"dipy.segment.mask.generate_binary_structure\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">generate_binary_structure</span></code></a></p>\n</div>\n<p class=\"rubric\">Notes</p>\n<p>Dilation <a class=\"reference internal\" href=\"#rb16be6b34ad7-1\" id=\"id31\">[1]</a> is a mathematical morphology operation <a class=\"reference internal\" href=\"#rb16be6b34ad7-2\" id=\"id32\">[2]</a> that uses a\nstructuring element for expanding the shapes in an image. The binary\ndilation of an image by a structuring element is the locus of the points\ncovered by the structuring element, when its center lies within the\nnon-zero points of the image.</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"rb16be6b34ad7-1\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[1]</td><td><em>(<a class=\"fn-backref\" href=\"#id31\">1</a>, <a class=\"fn-backref\" href=\"#id33\">2</a>)</em> <a class=\"reference external\" href=\"http://en.wikipedia.org/wiki/Dilation_%28morphology%29\">http://en.wikipedia.org/wiki/Dilation_%28morphology%29</a></td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"rb16be6b34ad7-2\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[2]</td><td><em>(<a class=\"fn-backref\" href=\"#id32\">1</a>, <a class=\"fn-backref\" href=\"#id34\">2</a>)</em> <a class=\"reference external\" href=\"http://en.wikipedia.org/wiki/Mathematical_morphology\">http://en.wikipedia.org/wiki/Mathematical_morphology</a></td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">scipy</span> <span class=\"k\">import</span> <span class=\"n\">ndimage</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">zeros</span><span class=\"p\">((</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span>\n<span class=\"go\">array([[ 0.,  0.,  0.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  0.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  1.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  0.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  0.,  0.,  0.]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ndimage</span><span class=\"o\">.</span><span class=\"n\">binary_dilation</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span>\n<span class=\"go\">array([[False, False, False, False, False],</span>\n<span class=\"go\">       [False, False,  True, False, False],</span>\n<span class=\"go\">       [False,  True,  True,  True, False],</span>\n<span class=\"go\">       [False, False,  True, False, False],</span>\n<span class=\"go\">       [False, False, False, False, False]], dtype=bool)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ndimage</span><span class=\"o\">.</span><span class=\"n\">binary_dilation</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">astype</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">dtype</span><span class=\"p\">)</span>\n<span class=\"go\">array([[ 0.,  0.,  0.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  1.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  1.,  1.,  1.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  1.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  0.,  0.,  0.]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># 3x3 structuring element with connectivity 1, used by default</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">struct1</span> <span class=\"o\">=</span> <span class=\"n\">ndimage</span><span class=\"o\">.</span><span class=\"n\">generate_binary_structure</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">struct1</span>\n<span class=\"go\">array([[False,  True, False],</span>\n<span class=\"go\">       [ True,  True,  True],</span>\n<span class=\"go\">       [False,  True, False]], dtype=bool)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># 3x3 structuring element with connectivity 2</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">struct2</span> <span class=\"o\">=</span> <span class=\"n\">ndimage</span><span class=\"o\">.</span><span class=\"n\">generate_binary_structure</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">struct2</span>\n<span class=\"go\">array([[ True,  True,  True],</span>\n<span class=\"go\">       [ True,  True,  True],</span>\n<span class=\"go\">       [ True,  True,  True]], dtype=bool)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ndimage</span><span class=\"o\">.</span><span class=\"n\">binary_dilation</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">structure</span><span class=\"o\">=</span><span class=\"n\">struct1</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">astype</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">dtype</span><span class=\"p\">)</span>\n<span class=\"go\">array([[ 0.,  0.,  0.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  1.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  1.,  1.,  1.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  1.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  0.,  0.,  0.]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ndimage</span><span class=\"o\">.</span><span class=\"n\">binary_dilation</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">structure</span><span class=\"o\">=</span><span class=\"n\">struct2</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">astype</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">dtype</span><span class=\"p\">)</span>\n<span class=\"go\">array([[ 0.,  0.,  0.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  1.,  1.,  1.,  0.],</span>\n<span class=\"go\">       [ 0.,  1.,  1.,  1.,  0.],</span>\n<span class=\"go\">       [ 0.,  1.,  1.,  1.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  0.,  0.,  0.]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ndimage</span><span class=\"o\">.</span><span class=\"n\">binary_dilation</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">structure</span><span class=\"o\">=</span><span class=\"n\">struct1</span><span class=\"p\">,</span>\\\n<span class=\"gp\">... </span><span class=\"n\">iterations</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">astype</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">dtype</span><span class=\"p\">)</span>\n<span class=\"go\">array([[ 0.,  0.,  1.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  1.,  1.,  1.,  0.],</span>\n<span class=\"go\">       [ 1.,  1.,  1.,  1.,  1.],</span>\n<span class=\"go\">       [ 0.,  1.,  1.,  1.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  1.,  0.,  0.]])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"bounding-box\">\n<h3>bounding_box<a class=\"headerlink\" href=\"#bounding-box\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.mask.bounding_box\">\n<code class=\"descclassname\">dipy.segment.mask.</code><code class=\"descname\">bounding_box</code><span class=\"sig-paren\">(</span><em>vol</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.mask.bounding_box\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Compute the bounding box of nonzero intensity voxels in the volume.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>vol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Volume to compute bounding box on.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>npmins</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list</span></dt>\n<dd><p class=\"first last\">Array containg minimum index of each dimension</p>\n</dd>\n<dt><strong>npmaxs</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list</span></dt>\n<dd><p class=\"first last\">Array containg maximum index of each dimension</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"clean-cc-mask\">\n<h3>clean_cc_mask<a class=\"headerlink\" href=\"#clean-cc-mask\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.mask.clean_cc_mask\">\n<code class=\"descclassname\">dipy.segment.mask.</code><code class=\"descname\">clean_cc_mask</code><span class=\"sig-paren\">(</span><em>mask</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.mask.clean_cc_mask\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Cleans a segmentation of the corpus callosum so no random pixels\nare included.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>mask</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Binary mask of the coarse segmentation.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>new_cc_mask</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Binary mask of the cleaned segmentation.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"color-fa\">\n<h3>color_fa<a class=\"headerlink\" href=\"#color-fa\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.mask.color_fa\">\n<code class=\"descclassname\">dipy.segment.mask.</code><code class=\"descname\">color_fa</code><span class=\"sig-paren\">(</span><em>fa</em>, <em>evecs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.mask.color_fa\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Color fractional anisotropy of diffusion tensor</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>fa</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like</span></dt>\n<dd><blockquote class=\"first\">\n<div><p>Array of the fractional anisotropy (can be 1D, 2D or 3D)</p>\n</div></blockquote>\n<dl class=\"last docutils\">\n<dt>evecs <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like</span></dt>\n<dd><p class=\"first last\">eigen vectors from the tensor model</p>\n</dd>\n</dl>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>rgb</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Array with 3 channels for each color as the last dimension.</span></dt>\n<dd><p class=\"first last\">Colormap of the FA with red for the x value, y for the green\nvalue and z for the blue value.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p>ec{e}))  imes fa</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"crop\">\n<h3>crop<a class=\"headerlink\" href=\"#crop\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.mask.crop\">\n<code class=\"descclassname\">dipy.segment.mask.</code><code class=\"descname\">crop</code><span class=\"sig-paren\">(</span><em>vol</em>, <em>mins</em>, <em>maxs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.mask.crop\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Crops the input volume.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>vol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Volume to crop.</p>\n</dd>\n<dt><strong>mins</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">Array containg minimum index of each dimension.</p>\n</dd>\n<dt><strong>maxs</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">Array containg maximum index of each dimension.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>vol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">The cropped volume.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"fractional-anisotropy\">\n<h3>fractional_anisotropy<a class=\"headerlink\" href=\"#fractional-anisotropy\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.mask.fractional_anisotropy\">\n<code class=\"descclassname\">dipy.segment.mask.</code><code class=\"descname\">fractional_anisotropy</code><span class=\"sig-paren\">(</span><em>evals</em>, <em>axis=-1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.mask.fractional_anisotropy\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><blockquote>\n<div>Fractional anisotropy (FA) of a diffusion tensor.</div></blockquote>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>evals</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like</span></dt>\n<dd><blockquote class=\"first\">\n<div><p>Eigenvalues of a diffusion tensor.</p>\n</div></blockquote>\n<dl class=\"last docutils\">\n<dt>axis <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Axis of <cite>evals</cite> which contains 3 eigenvalues.</p>\n</dd>\n</dl>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>fa</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">Calculated FA. Range is 0 &lt;= FA &lt;= 1.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p>rac{1}{2}\nrac{(lambda_1-lambda_2)^2+(lambda_1-</p>\n<blockquote>\n<div>lambda_3)^2+(lambda_2-lambda_3)^2}{lambda_1^2+\nlambda_2^2+lambda_3^2}}</div></blockquote>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"generate-binary-structure\">\n<h3>generate_binary_structure<a class=\"headerlink\" href=\"#generate-binary-structure\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.mask.generate_binary_structure\">\n<code class=\"descclassname\">dipy.segment.mask.</code><code class=\"descname\">generate_binary_structure</code><span class=\"sig-paren\">(</span><em>rank</em>, <em>connectivity</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.mask.generate_binary_structure\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Generate a binary structure for binary morphological operations.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>rank</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of dimensions of the array to which the structuring element\nwill be applied, as returned by <cite>np.ndim</cite>.</p>\n</dd>\n<dt><strong>connectivity</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\"><cite>connectivity</cite> determines which elements of the output array belong\nto the structure, i.e. are considered as neighbors of the central\nelement. Elements up to a squared distance of <cite>connectivity</cite> from\nthe center are considered neighbors. <cite>connectivity</cite> may range from 1\n(no diagonal elements are neighbors) to <cite>rank</cite> (all elements are\nneighbors).</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>output</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray of bools</span></dt>\n<dd><p class=\"first last\">Structuring element which may be used for binary morphological\noperations, with <cite>rank</cite> dimensions and all dimensions equal to 3.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">iterate_structure</span></code>, <a class=\"reference internal\" href=\"#dipy.segment.mask.binary_dilation\" title=\"dipy.segment.mask.binary_dilation\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">binary_dilation</span></code></a>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">binary_erosion</span></code></p>\n</div>\n<p class=\"rubric\">Notes</p>\n<p><cite>generate_binary_structure</cite> can only create structuring elements with\ndimensions equal to 3, i.e. minimal dimensions. For larger structuring\nelements, that are useful e.g. for eroding large objects, one may either\nuse   <cite>iterate_structure</cite>, or create directly custom arrays with\nnumpy functions such as <cite>numpy.ones</cite>.</p>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">scipy</span> <span class=\"k\">import</span> <span class=\"n\">ndimage</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">struct</span> <span class=\"o\">=</span> <span class=\"n\">ndimage</span><span class=\"o\">.</span><span class=\"n\">generate_binary_structure</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">struct</span>\n<span class=\"go\">array([[False,  True, False],</span>\n<span class=\"go\">       [ True,  True,  True],</span>\n<span class=\"go\">       [False,  True, False]], dtype=bool)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">zeros</span><span class=\"p\">((</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span>\n<span class=\"go\">array([[ 0.,  0.,  0.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  0.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  1.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  0.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  0.,  0.,  0.]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">ndimage</span><span class=\"o\">.</span><span class=\"n\">binary_dilation</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">structure</span><span class=\"o\">=</span><span class=\"n\">struct</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">astype</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">dtype</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span>\n<span class=\"go\">array([[ 0.,  0.,  0.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  1.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  1.,  1.,  1.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  1.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  0.,  0.,  0.]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ndimage</span><span class=\"o\">.</span><span class=\"n\">binary_dilation</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"p\">,</span> <span class=\"n\">structure</span><span class=\"o\">=</span><span class=\"n\">struct</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">astype</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">.</span><span class=\"n\">dtype</span><span class=\"p\">)</span>\n<span class=\"go\">array([[ 0.,  0.,  1.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  1.,  1.,  1.,  0.],</span>\n<span class=\"go\">       [ 1.,  1.,  1.,  1.,  1.],</span>\n<span class=\"go\">       [ 0.,  1.,  1.,  1.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  1.,  0.,  0.]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">struct</span> <span class=\"o\">=</span> <span class=\"n\">ndimage</span><span class=\"o\">.</span><span class=\"n\">generate_binary_structure</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">struct</span>\n<span class=\"go\">array([[ True,  True,  True],</span>\n<span class=\"go\">       [ True,  True,  True],</span>\n<span class=\"go\">       [ True,  True,  True]], dtype=bool)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">struct</span> <span class=\"o\">=</span> <span class=\"n\">ndimage</span><span class=\"o\">.</span><span class=\"n\">generate_binary_structure</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">struct</span> <span class=\"c1\"># no diagonal elements</span>\n<span class=\"go\">array([[[False, False, False],</span>\n<span class=\"go\">        [False,  True, False],</span>\n<span class=\"go\">        [False, False, False]],</span>\n<span class=\"go\">       [[False,  True, False],</span>\n<span class=\"go\">        [ True,  True,  True],</span>\n<span class=\"go\">        [False,  True, False]],</span>\n<span class=\"go\">       [[False, False, False],</span>\n<span class=\"go\">        [False,  True, False],</span>\n<span class=\"go\">        [False, False, False]]], dtype=bool)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"median-filter\">\n<h3>median_filter<a class=\"headerlink\" href=\"#median-filter\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.mask.median_filter\">\n<code class=\"descclassname\">dipy.segment.mask.</code><code class=\"descname\">median_filter</code><span class=\"sig-paren\">(</span><em>input</em>, <em>size=None</em>, <em>footprint=None</em>, <em>output=None</em>, <em>mode='reflect'</em>, <em>cval=0.0</em>, <em>origin=0</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.mask.median_filter\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculate a multidimensional median filter.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>input</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">The input array.</p>\n</dd>\n<dt><strong>size</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">scalar or tuple, optional</span></dt>\n<dd><p class=\"first last\">See footprint, below. Ignored if footprint is given.</p>\n</dd>\n<dt><strong>footprint</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, optional</span></dt>\n<dd><p class=\"first last\">Either <cite>size</cite> or <cite>footprint</cite> must be defined.  <cite>size</cite> gives\nthe shape that is taken from the input array, at every element\nposition, to define the input to the filter function.\n<cite>footprint</cite> is a boolean array that specifies (implicitly) a\nshape, but also which of the elements within this shape will get\npassed to the filter function.  Thus <code class=\"docutils literal notranslate\"><span class=\"pre\">size=(n,m)</span></code> is equivalent\nto <code class=\"docutils literal notranslate\"><span class=\"pre\">footprint=np.ones((n,m))</span></code>.  We adjust <cite>size</cite> to the number\nof dimensions of the input array, so that, if the input array is\nshape (10,10,10), and <cite>size</cite> is 2, then the actual size used is\n(2,2,2). When <cite>footprint</cite> is given, <cite>size</cite> is ignored.</p>\n</dd>\n<dt><strong>output</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array or dtype, optional</span></dt>\n<dd><p class=\"first last\">The array in which to place the output, or the dtype of the\nreturned array. By default an array of the same dtype as input\nwill be created.</p>\n</dd>\n<dt><strong>mode</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str or sequence, optional</span></dt>\n<dd><p class=\"first\">The <cite>mode</cite> parameter determines how the input array is extended\nwhen the filter overlaps a border. By passing a sequence of modes\nwith length equal to the number of dimensions of the input array,\ndifferent modes can be specified along each axis. Default value is\n\u2018reflect\u2019. The valid values and their behavior is as follows:</p>\n<dl class=\"last docutils\">\n<dt>\u2018reflect\u2019 (<cite>d c b a | a b c d | d c b a</cite>)</dt>\n<dd><p class=\"first last\">The input is extended by reflecting about the edge of the last\npixel.</p>\n</dd>\n<dt>\u2018constant\u2019 (<cite>k k k k | a b c d | k k k k</cite>)</dt>\n<dd><p class=\"first last\">The input is extended by filling all values beyond the edge with\nthe same constant value, defined by the <cite>cval</cite> parameter.</p>\n</dd>\n<dt>\u2018nearest\u2019 (<cite>a a a a | a b c d | d d d d</cite>)</dt>\n<dd><p class=\"first last\">The input is extended by replicating the last pixel.</p>\n</dd>\n<dt>\u2018mirror\u2019 (<cite>d c b | a b c d | c b a</cite>)</dt>\n<dd><p class=\"first last\">The input is extended by reflecting about the center of the last\npixel.</p>\n</dd>\n<dt>\u2018wrap\u2019 (<cite>a b c d | a b c d | a b c d</cite>)</dt>\n<dd><p class=\"first last\">The input is extended by wrapping around to the opposite edge.</p>\n</dd>\n</dl>\n</dd>\n<dt><strong>cval</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">scalar, optional</span></dt>\n<dd><p class=\"first last\">Value to fill past edges of input if <cite>mode</cite> is \u2018constant\u2019. Default\nis 0.0.</p>\n</dd>\n<dt><strong>origin</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int or sequence, optional</span></dt>\n<dd><p class=\"first last\">Controls the placement of the filter on the input array\u2019s pixels.\nA value of 0 (the default) centers the filter over the pixel, with\npositive values shifting the filter to the left, and negative ones\nto the right. By passing a sequence of origins with length equal to\nthe number of dimensions of the input array, different shifts can\nbe specified along each axis.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>median_filter</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Filtered array. Has the same shape as <cite>input</cite>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">scipy</span> <span class=\"k\">import</span> <span class=\"n\">ndimage</span><span class=\"p\">,</span> <span class=\"n\">misc</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">matplotlib.pyplot</span> <span class=\"k\">as</span> <span class=\"nn\">plt</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">fig</span> <span class=\"o\">=</span> <span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">figure</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">gray</span><span class=\"p\">()</span>  <span class=\"c1\"># show the filtered result in grayscale</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ax1</span> <span class=\"o\">=</span> <span class=\"n\">fig</span><span class=\"o\">.</span><span class=\"n\">add_subplot</span><span class=\"p\">(</span><span class=\"mi\">121</span><span class=\"p\">)</span>  <span class=\"c1\"># left side</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ax2</span> <span class=\"o\">=</span> <span class=\"n\">fig</span><span class=\"o\">.</span><span class=\"n\">add_subplot</span><span class=\"p\">(</span><span class=\"mi\">122</span><span class=\"p\">)</span>  <span class=\"c1\"># right side</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ascent</span> <span class=\"o\">=</span> <span class=\"n\">misc</span><span class=\"o\">.</span><span class=\"n\">ascent</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">ndimage</span><span class=\"o\">.</span><span class=\"n\">median_filter</span><span class=\"p\">(</span><span class=\"n\">ascent</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"mi\">20</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ax1</span><span class=\"o\">.</span><span class=\"n\">imshow</span><span class=\"p\">(</span><span class=\"n\">ascent</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ax2</span><span class=\"o\">.</span><span class=\"n\">imshow</span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">show</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"median-otsu\">\n<h3>median_otsu<a class=\"headerlink\" href=\"#median-otsu\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.mask.median_otsu\">\n<code class=\"descclassname\">dipy.segment.mask.</code><code class=\"descname\">median_otsu</code><span class=\"sig-paren\">(</span><em>input_volume</em>, <em>median_radius=4</em>, <em>numpass=4</em>, <em>autocrop=False</em>, <em>vol_idx=None</em>, <em>dilate=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.mask.median_otsu\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Simple brain extraction tool method for images from DWI data.</p>\n<p>It uses a median filter smoothing of the input_volumes <cite>vol_idx</cite> and an\nautomatic histogram Otsu thresholding technique, hence the name\n<em>median_otsu</em>.</p>\n<p>This function is inspired from Mrtrix\u2019s bet which has default values\n<code class=\"docutils literal notranslate\"><span class=\"pre\">median_radius=3</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">numpass=2</span></code>. However, from tests on multiple 1.5T\nand 3T data     from GE, Philips, Siemens, the most robust choice is\n<code class=\"docutils literal notranslate\"><span class=\"pre\">median_radius=4</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">numpass=4</span></code>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>input_volume</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">ndarray of the brain volume</p>\n</dd>\n<dt><strong>median_radius</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Radius (in voxels) of the applied median filter (default: 4).</p>\n</dd>\n<dt><strong>numpass: int</strong></dt>\n<dd><p class=\"first last\">Number of pass of the median filter (default: 4).</p>\n</dd>\n<dt><strong>autocrop: bool, optional</strong></dt>\n<dd><p class=\"first last\">if True, the masked input_volume will also be cropped using the\nbounding box defined by the masked data. Should be on if DWI is\nupsampled to 1x1x1 resolution. (default: False).</p>\n</dd>\n<dt><strong>vol_idx</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">None or array, optional</span></dt>\n<dd><p class=\"first last\">1D array representing indices of <code class=\"docutils literal notranslate\"><span class=\"pre\">axis=3</span></code> of a 4D <cite>input_volume</cite> None\n(the default) corresponds to <code class=\"docutils literal notranslate\"><span class=\"pre\">(0,)</span></code> (assumes first volume in\n4D array).</p>\n</dd>\n<dt><strong>dilate</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">None or int, optional</span></dt>\n<dd><p class=\"first last\">number of iterations for binary dilation</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>maskedvolume</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Masked input_volume</p>\n</dd>\n<dt><strong>mask</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">3D ndarray</span></dt>\n<dd><p class=\"first last\">The binary brain mask</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>Copyright (C) 2011, the scikit-image team\nAll rights reserved.</p>\n<p>Redistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:</p>\n<blockquote>\n<div><ol class=\"arabic simple\">\n<li>Redistributions of source code must retain the above copyright\nnotice, this list of conditions and the following disclaimer.</li>\n<li>Redistributions in binary form must reproduce the above copyright\nnotice, this list of conditions and the following disclaimer in\nthe documentation and/or other materials provided with the\ndistribution.</li>\n<li>Neither the name of skimage nor the names of its contributors may be\nused to endorse or promote products derived from this software without\nspecific prior written permission.</li>\n</ol>\n</div></blockquote>\n<p>THIS SOFTWARE IS PROVIDED BY THE AUTHOR <a href=\"#id35\"><span class=\"problematic\" id=\"id36\">``</span></a>AS IS\u2019\u2019 AND ANY EXPRESS OR\nIMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT,\nINDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)\nHOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,\nSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING\nIN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\nPOSSIBILITY OF SUCH DAMAGE.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"multi-median\">\n<h3>multi_median<a class=\"headerlink\" href=\"#multi-median\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.mask.multi_median\">\n<code class=\"descclassname\">dipy.segment.mask.</code><code class=\"descname\">multi_median</code><span class=\"sig-paren\">(</span><em>input</em>, <em>median_radius</em>, <em>numpass</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.mask.multi_median\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Applies median filter multiple times on input data.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>input</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">The input volume to apply filter on.</p>\n</dd>\n<dt><strong>median_radius</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Radius (in voxels) of the applied median filter</p>\n</dd>\n<dt><strong>numpass: int</strong></dt>\n<dd><p class=\"first last\">Number of pass of the median filter</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>input</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Filtered input volume.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"otsu\">\n<h3>otsu<a class=\"headerlink\" href=\"#otsu\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.mask.otsu\">\n<code class=\"descclassname\">dipy.segment.mask.</code><code class=\"descname\">otsu</code><span class=\"sig-paren\">(</span><em>image</em>, <em>nbins=256</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.mask.otsu\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return threshold value based on Otsu\u2019s method.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>image</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, M) ndarray</span></dt>\n<dd><p class=\"first last\">Grayscale input image.</p>\n</dd>\n<dt><strong>nbins</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">Number of bins used to calculate histogram. This value is ignored for\ninteger arrays.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>threshold</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Upper threshold value. All pixels with an intensity higher than\nthis value are assumed to be foreground.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-odd field\"><th class=\"field-name\">Raises:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>ValueError</strong></dt>\n<dd><p class=\"first last\">If <cite>image</cite> only contains a single grayscale value.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>The input image must be grayscale.</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r5dc2cb558a94-1\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id37\">[1]</a></td><td>Wikipedia, <a class=\"reference external\" href=\"http://en.wikipedia.org/wiki/Otsu's_Method\">http://en.wikipedia.org/wiki/Otsu\u2019s_Method</a></td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">skimage.data</span> <span class=\"k\">import</span> <span class=\"n\">camera</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">image</span> <span class=\"o\">=</span> <span class=\"n\">camera</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">thresh</span> <span class=\"o\">=</span> <span class=\"n\">threshold_otsu</span><span class=\"p\">(</span><span class=\"n\">image</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">binary</span> <span class=\"o\">=</span> <span class=\"n\">image</span> <span class=\"o\">&lt;=</span> <span class=\"n\">thresh</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"segment-from-cfa\">\n<h3>segment_from_cfa<a class=\"headerlink\" href=\"#segment-from-cfa\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.mask.segment_from_cfa\">\n<code class=\"descclassname\">dipy.segment.mask.</code><code class=\"descname\">segment_from_cfa</code><span class=\"sig-paren\">(</span><em>tensor_fit</em>, <em>roi</em>, <em>threshold</em>, <em>return_cfa=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.mask.segment_from_cfa\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Segment the cfa inside roi using the values from threshold as bounds.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>tensor_fit</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">TensorFit object</span></dt>\n<dd><p class=\"first last\">TensorFit object</p>\n</dd>\n<dt><strong>roi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">A binary mask, which contains the bounding box for the segmentation.</p>\n</dd>\n<dt><strong>threshold</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like</span></dt>\n<dd><p class=\"first last\">An iterable that defines the min and max values to use for the\nthresholding.\nThe values are specified as (R_min, R_max, G_min, G_max, B_min, B_max)</p>\n</dd>\n<dt><strong>return_cfa</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><p class=\"first last\">If True, the cfa is also returned.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>mask</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Binary mask of the segmentation.</p>\n</dd>\n<dt><strong>cfa</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray, optional</span></dt>\n<dd><p class=\"first last\">Array with shape = (\u2026, 3), where \u2026 is the shape of tensor_fit.\nThe color fractional anisotropy, ordered as a nd array with the last\ndimension of size 3 for the R, G and B channels.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"warn\">\n<h3>warn<a class=\"headerlink\" href=\"#warn\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.mask.warn\">\n<code class=\"descclassname\">dipy.segment.mask.</code><code class=\"descname\">warn</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.mask.warn\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Issue a warning, or maybe ignore it or raise an exception.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"arclengthfeature\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.metric.ArcLengthFeature\" title=\"dipy.segment.metric.ArcLengthFeature\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ArcLengthFeature</span></code></a><a class=\"headerlink\" href=\"#arclengthfeature\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.metric.ArcLengthFeature\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.metric.</code><code class=\"descname\">ArcLengthFeature</code><a class=\"headerlink\" href=\"#dipy.segment.metric.ArcLengthFeature\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.featurespeed.CythonFeature</span></code></p>\n<p>Extracts features from a sequential datum.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions).</p>\n<p>The feature being extracted consists of one scalar representing\nthe arc length of the sequence (i.e. the sum of the length of all segments).</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></dt>\n<dd><p class=\"first last\">Is this feature invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">extract</span></code></td>\n<td>Extracts features from a sequential datum.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">infer_shape</span></code></td>\n<td>Infers the shape of features extracted from a sequential datum.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.metric.ArcLengthFeature.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.ArcLengthFeature.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id38\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.metric.AveragePointwiseEuclideanMetric\" title=\"dipy.segment.metric.AveragePointwiseEuclideanMetric\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AveragePointwiseEuclideanMetric</span></code></a><a class=\"headerlink\" href=\"#id38\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.metric.AveragePointwiseEuclideanMetric\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.metric.</code><code class=\"descname\">AveragePointwiseEuclideanMetric</code><a class=\"headerlink\" href=\"#dipy.segment.metric.AveragePointwiseEuclideanMetric\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.metricspeed.SumPointwiseEuclideanMetric</span></code></p>\n<p>Computes the average of pointwise Euclidean distances between two\nsequential data.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions). A <cite>feature</cite> object can be specified\nin order to calculate the distance between the features, rather than\ndirectly between the sequential data.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>feature</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\"><cite>Feature</cite> object, optional</span></dt>\n<dd><p class=\"first last\">It is used to extract features before computing the distance.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>The distance between two 2D sequential data:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">s1</span>       <span class=\"n\">s2</span>\n\n<span class=\"mi\">0</span><span class=\"o\">*</span>   <span class=\"n\">a</span>    <span class=\"o\">*</span><span class=\"mi\">0</span>\n  \\       <span class=\"o\">|</span>\n   \\      <span class=\"o\">|</span>\n   <span class=\"mi\">1</span><span class=\"o\">*</span>     <span class=\"o\">|</span>\n    <span class=\"o\">|</span>  <span class=\"n\">b</span>  <span class=\"o\">*</span><span class=\"mi\">1</span>\n    <span class=\"o\">|</span>      \\\n    <span class=\"mi\">2</span><span class=\"o\">*</span>      \\\n        <span class=\"n\">c</span>    <span class=\"o\">*</span><span class=\"mi\">2</span>\n</pre></div>\n</div>\n<p>is equal to <span class=\"math notranslate nohighlight\">\\((a+b+c)/3\\)</span> where <span class=\"math notranslate nohighlight\">\\(a\\)</span> is the Euclidean distance between s1[0] and\ns2[0], <span class=\"math notranslate nohighlight\">\\(b\\)</span> between s1[1] and s2[1] and <span class=\"math notranslate nohighlight\">\\(c\\)</span> between s1[2] and s2[2].</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">feature</span></code></dt>\n<dd><p class=\"first last\"><cite>Feature</cite> object used to extract features from sequential data</p>\n</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></dt>\n<dd><p class=\"first last\">Is this metric invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">are_compatible</span></code></td>\n<td>Checks if features can be used by <cite>metric.dist</cite> based on their shape.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dist</span></code></td>\n<td>Computes a distance between two data points based on their features.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.metric.AveragePointwiseEuclideanMetric.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.AveragePointwiseEuclideanMetric.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"centerofmassfeature\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.metric.CenterOfMassFeature\" title=\"dipy.segment.metric.CenterOfMassFeature\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">CenterOfMassFeature</span></code></a><a class=\"headerlink\" href=\"#centerofmassfeature\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.metric.CenterOfMassFeature\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.metric.</code><code class=\"descname\">CenterOfMassFeature</code><a class=\"headerlink\" href=\"#dipy.segment.metric.CenterOfMassFeature\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.featurespeed.CythonFeature</span></code></p>\n<p>Extracts features from a sequential datum.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions).</p>\n<p>The feature being extracted consists of one N-dimensional point representing\nthe mean of the points, i.e. the center of mass.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></dt>\n<dd><p class=\"first last\">Is this feature invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">extract</span></code></td>\n<td>Extracts features from a sequential datum.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">infer_shape</span></code></td>\n<td>Infers the shape of features extracted from a sequential datum.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.metric.CenterOfMassFeature.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.CenterOfMassFeature.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"cosinemetric\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.metric.CosineMetric\" title=\"dipy.segment.metric.CosineMetric\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">CosineMetric</span></code></a><a class=\"headerlink\" href=\"#cosinemetric\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.metric.CosineMetric\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.metric.</code><code class=\"descname\">CosineMetric</code><a class=\"headerlink\" href=\"#dipy.segment.metric.CosineMetric\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.metricspeed.CythonMetric</span></code></p>\n<p>Computes the cosine distance between two vectors.</p>\n<p>A vector (i.e. a N-dimensional point) is represented as a 2D array with\nshape (1, nb_dimensions).</p>\n<p class=\"rubric\">Notes</p>\n<p>The distance between two vectors <span class=\"math notranslate nohighlight\">\\(v_1\\)</span> and <span class=\"math notranslate nohighlight\">\\(v_2\\)</span> is equal to\n<span class=\"math notranslate nohighlight\">\\(\\frac{1}{\\pi} \\arccos\\left(\\frac{v_1 \\cdot v_2}{\\|v_1\\| \\|v_2\\|}\\right)\\)</span>\nand is bounded within <span class=\"math notranslate nohighlight\">\\([0,1]\\)</span>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">feature</span></code></dt>\n<dd><p class=\"first last\"><cite>Feature</cite> object used to extract features from sequential data</p>\n</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></dt>\n<dd><p class=\"first last\">Is this metric invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">are_compatible</span></code></td>\n<td>Checks if features can be used by <cite>metric.dist</cite> based on their shape.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dist</span></code></td>\n<td>Computes a distance between two data points based on their features.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.metric.CosineMetric.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.CosineMetric.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"euclideanmetric\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.metric.EuclideanMetric\" title=\"dipy.segment.metric.EuclideanMetric\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">EuclideanMetric</span></code></a><a class=\"headerlink\" href=\"#euclideanmetric\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.metric.EuclideanMetric\">\n<code class=\"descclassname\">dipy.segment.metric.</code><code class=\"descname\">EuclideanMetric</code><a class=\"headerlink\" href=\"#dipy.segment.metric.EuclideanMetric\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>alias of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.metricspeed.SumPointwiseEuclideanMetric</span></code></p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"feature\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.metric.Feature\" title=\"dipy.segment.metric.Feature\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Feature</span></code></a><a class=\"headerlink\" href=\"#feature\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.metric.Feature\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.metric.</code><code class=\"descname\">Feature</code><a class=\"headerlink\" href=\"#dipy.segment.metric.Feature\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>Extracts features from a sequential datum.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions).</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>is_order_invariant</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool (optional)</span></dt>\n<dd><p class=\"first last\">tells if this feature is invariant to the sequence\u2019s ordering. This\nmeans starting from either extremities produces the same features.\n(Default: True)</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>When subclassing <cite>Feature</cite>, one only needs to override the <cite>extract</cite> and\n<cite>infer_shape</cite> methods.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><a class=\"reference internal\" href=\"#dipy.segment.metric.Feature.is_order_invariant\" title=\"dipy.segment.metric.Feature.is_order_invariant\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></a></dt>\n<dd><p class=\"first last\">Is this feature invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.Feature.extract\" title=\"dipy.segment.metric.Feature.extract\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">extract</span></code></a></td>\n<td>Extracts features from a sequential datum.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.Feature.infer_shape\" title=\"dipy.segment.metric.Feature.infer_shape\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">infer_shape</span></code></a></td>\n<td>Infers the shape of features extracted from a sequential datum.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.metric.Feature.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.Feature.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.metric.Feature.extract\">\n<code class=\"descname\">extract</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.Feature.extract\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Extracts features from a sequential datum.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>datum</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D array</span></dt>\n<dd><p class=\"first last\">Sequence of N-dimensional points.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>2D array</strong></dt>\n<dd><p class=\"first last\">Features extracted from <cite>datum</cite>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.metric.Feature.infer_shape\">\n<code class=\"descname\">infer_shape</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.Feature.infer_shape\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Infers the shape of features extracted from a sequential datum.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>datum</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D array</span></dt>\n<dd><p class=\"first last\">Sequence of N-dimensional points.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>int, 1-tuple or 2-tuple</strong></dt>\n<dd><p class=\"first last\">Shape of the features.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.metric.Feature.is_order_invariant\">\n<code class=\"descname\">is_order_invariant</code><a class=\"headerlink\" href=\"#dipy.segment.metric.Feature.is_order_invariant\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Is this feature invariant to the sequence\u2019s ordering</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"identityfeature\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.metric.IdentityFeature\" title=\"dipy.segment.metric.IdentityFeature\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">IdentityFeature</span></code></a><a class=\"headerlink\" href=\"#identityfeature\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.metric.IdentityFeature\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.metric.</code><code class=\"descname\">IdentityFeature</code><a class=\"headerlink\" href=\"#dipy.segment.metric.IdentityFeature\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.featurespeed.CythonFeature</span></code></p>\n<p>Extracts features from a sequential datum.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions).</p>\n<p>The features being extracted are the actual sequence\u2019s points. This is\nuseful for metric that does not require any pre-processing.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></dt>\n<dd><p class=\"first last\">Is this feature invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">extract</span></code></td>\n<td>Extracts features from a sequential datum.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">infer_shape</span></code></td>\n<td>Infers the shape of features extracted from a sequential datum.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.metric.IdentityFeature.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.IdentityFeature.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id39\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.metric.Metric\" title=\"dipy.segment.metric.Metric\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Metric</span></code></a><a class=\"headerlink\" href=\"#id39\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.metric.Metric\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.metric.</code><code class=\"descname\">Metric</code><a class=\"headerlink\" href=\"#dipy.segment.metric.Metric\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>Computes a distance between two sequential data.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions). A <cite>feature</cite> object can be specified\nin order to calculate the distance between extracted features, rather\nthan directly between the sequential data.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>feature</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\"><cite>Feature</cite> object, optional</span></dt>\n<dd><p class=\"first last\">It is used to extract features before computing the distance.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>When subclassing <cite>Metric</cite>, one only needs to override the <cite>dist</cite> and\n<cite>are_compatible</cite> methods.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><a class=\"reference internal\" href=\"#dipy.segment.metric.Metric.feature\" title=\"dipy.segment.metric.Metric.feature\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">feature</span></code></a></dt>\n<dd><p class=\"first last\"><cite>Feature</cite> object used to extract features from sequential data</p>\n</dd>\n<dt><a class=\"reference internal\" href=\"#dipy.segment.metric.Metric.is_order_invariant\" title=\"dipy.segment.metric.Metric.is_order_invariant\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></a></dt>\n<dd><p class=\"first last\">Is this metric invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.Metric.are_compatible\" title=\"dipy.segment.metric.Metric.are_compatible\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">are_compatible</span></code></a></td>\n<td>Checks if features can be used by <cite>metric.dist</cite> based on their shape.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.metric.Metric.dist\" title=\"dipy.segment.metric.Metric.dist\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dist</span></code></a></td>\n<td>Computes a distance between two data points based on their features.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.metric.Metric.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.Metric.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.metric.Metric.are_compatible\">\n<code class=\"descname\">are_compatible</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.Metric.are_compatible\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Checks if features can be used by <cite>metric.dist</cite> based on their shape.</p>\n<p>Basically this method exists so we don\u2019t have to do this check\ninside the <cite>metric.dist</cite> function (speedup).</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>shape1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, 1-tuple or 2-tuple</span></dt>\n<dd><p class=\"first last\">shape of the first data point\u2019s features</p>\n</dd>\n<dt><strong>shape2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, 1-tuple or 2-tuple</span></dt>\n<dd><p class=\"first last\">shape of the second data point\u2019s features</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>are_compatible</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">whether or not shapes are compatible</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.metric.Metric.dist\">\n<code class=\"descname\">dist</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.Metric.dist\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Computes a distance between two data points based on their features.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>features1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D array</span></dt>\n<dd><p class=\"first last\">Features of the first data point.</p>\n</dd>\n<dt><strong>features2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D array</span></dt>\n<dd><p class=\"first last\">Features of the second data point.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>double</strong></dt>\n<dd><p class=\"first last\">Distance between two data points.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.metric.Metric.feature\">\n<code class=\"descname\">feature</code><a class=\"headerlink\" href=\"#dipy.segment.metric.Metric.feature\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p><cite>Feature</cite> object used to extract features from sequential data</p>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.metric.Metric.is_order_invariant\">\n<code class=\"descname\">is_order_invariant</code><a class=\"headerlink\" href=\"#dipy.segment.metric.Metric.is_order_invariant\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Is this metric invariant to the sequence\u2019s ordering</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"midpointfeature\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.metric.MidpointFeature\" title=\"dipy.segment.metric.MidpointFeature\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MidpointFeature</span></code></a><a class=\"headerlink\" href=\"#midpointfeature\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.metric.MidpointFeature\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.metric.</code><code class=\"descname\">MidpointFeature</code><a class=\"headerlink\" href=\"#dipy.segment.metric.MidpointFeature\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.featurespeed.CythonFeature</span></code></p>\n<p>Extracts features from a sequential datum.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions).</p>\n<p>The feature being extracted consists of one N-dimensional point representing\nthe middle point of the sequence (i.e. <a href=\"#id40\"><span class=\"problematic\" id=\"id41\">`</span></a>nb_points//2`th point).</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></dt>\n<dd><p class=\"first last\">Is this feature invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">extract</span></code></td>\n<td>Extracts features from a sequential datum.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">infer_shape</span></code></td>\n<td>Infers the shape of features extracted from a sequential datum.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.metric.MidpointFeature.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.MidpointFeature.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id42\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.metric.MinimumAverageDirectFlipMetric\" title=\"dipy.segment.metric.MinimumAverageDirectFlipMetric\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MinimumAverageDirectFlipMetric</span></code></a><a class=\"headerlink\" href=\"#id42\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.metric.MinimumAverageDirectFlipMetric\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.metric.</code><code class=\"descname\">MinimumAverageDirectFlipMetric</code><a class=\"headerlink\" href=\"#dipy.segment.metric.MinimumAverageDirectFlipMetric\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.metricspeed.AveragePointwiseEuclideanMetric</span></code></p>\n<p>Computes the MDF distance (minimum average direct-flip) between two\nsequential data.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions).</p>\n<p class=\"rubric\">Notes</p>\n<p>The distance between two 2D sequential data:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">s1</span>       <span class=\"n\">s2</span>\n\n<span class=\"mi\">0</span><span class=\"o\">*</span>   <span class=\"n\">a</span>    <span class=\"o\">*</span><span class=\"mi\">0</span>\n  \\       <span class=\"o\">|</span>\n   \\      <span class=\"o\">|</span>\n   <span class=\"mi\">1</span><span class=\"o\">*</span>     <span class=\"o\">|</span>\n    <span class=\"o\">|</span>  <span class=\"n\">b</span>  <span class=\"o\">*</span><span class=\"mi\">1</span>\n    <span class=\"o\">|</span>      \\\n    <span class=\"mi\">2</span><span class=\"o\">*</span>      \\\n        <span class=\"n\">c</span>    <span class=\"o\">*</span><span class=\"mi\">2</span>\n</pre></div>\n</div>\n<p>is equal to <span class=\"math notranslate nohighlight\">\\(\\min((a+b+c)/3, (a'+b'+c')/3)\\)</span> where <span class=\"math notranslate nohighlight\">\\(a\\)</span> is the Euclidean distance\nbetween s1[0] and s2[0], <span class=\"math notranslate nohighlight\">\\(b\\)</span> between s1[1] and s2[1], <span class=\"math notranslate nohighlight\">\\(c\\)</span> between s1[2]\nand s2[2], <span class=\"math notranslate nohighlight\">\\(a'\\)</span> between s1[0] and s2[2], <span class=\"math notranslate nohighlight\">\\(b'\\)</span> between s1[1] and s2[1]\nand <span class=\"math notranslate nohighlight\">\\(c'\\)</span> between s1[2] and s2[0].</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">feature</span></code></dt>\n<dd><p class=\"first last\"><cite>Feature</cite> object used to extract features from sequential data</p>\n</dd>\n<dt><a class=\"reference internal\" href=\"#dipy.segment.metric.MinimumAverageDirectFlipMetric.is_order_invariant\" title=\"dipy.segment.metric.MinimumAverageDirectFlipMetric.is_order_invariant\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></a></dt>\n<dd><p class=\"first last\">Is this metric invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">are_compatible</span></code></td>\n<td>Checks if features can be used by <cite>metric.dist</cite> based on their shape.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dist</span></code></td>\n<td>Computes a distance between two data points based on their features.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.metric.MinimumAverageDirectFlipMetric.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.MinimumAverageDirectFlipMetric.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.metric.MinimumAverageDirectFlipMetric.is_order_invariant\">\n<code class=\"descname\">is_order_invariant</code><a class=\"headerlink\" href=\"#dipy.segment.metric.MinimumAverageDirectFlipMetric.is_order_invariant\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Is this metric invariant to the sequence\u2019s ordering</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id43\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.metric.ResampleFeature\" title=\"dipy.segment.metric.ResampleFeature\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ResampleFeature</span></code></a><a class=\"headerlink\" href=\"#id43\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.metric.ResampleFeature\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.metric.</code><code class=\"descname\">ResampleFeature</code><a class=\"headerlink\" href=\"#dipy.segment.metric.ResampleFeature\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.featurespeed.CythonFeature</span></code></p>\n<p>Extracts features from a sequential datum.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions).</p>\n<p>The features being extracted are the points of the sequence once resampled.\nThis is useful for metrics requiring a constant number of points for all</p>\n<blockquote>\n<div>streamlines.</div></blockquote>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></dt>\n<dd><p class=\"first last\">Is this feature invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">extract</span></code></td>\n<td>Extracts features from a sequential datum.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">infer_shape</span></code></td>\n<td>Infers the shape of features extracted from a sequential datum.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.metric.ResampleFeature.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.ResampleFeature.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"sumpointwiseeuclideanmetric\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.metric.SumPointwiseEuclideanMetric\" title=\"dipy.segment.metric.SumPointwiseEuclideanMetric\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SumPointwiseEuclideanMetric</span></code></a><a class=\"headerlink\" href=\"#sumpointwiseeuclideanmetric\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.metric.SumPointwiseEuclideanMetric\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.metric.</code><code class=\"descname\">SumPointwiseEuclideanMetric</code><a class=\"headerlink\" href=\"#dipy.segment.metric.SumPointwiseEuclideanMetric\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.metricspeed.CythonMetric</span></code></p>\n<p>Computes the sum of pointwise Euclidean distances between two\nsequential data.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions). A <cite>feature</cite> object can be specified\nin order to calculate the distance between the features, rather than\ndirectly between the sequential data.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>feature</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\"><cite>Feature</cite> object, optional</span></dt>\n<dd><p class=\"first last\">It is used to extract features before computing the distance.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>The distance between two 2D sequential data:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">s1</span>       <span class=\"n\">s2</span>\n\n<span class=\"mi\">0</span><span class=\"o\">*</span>   <span class=\"n\">a</span>    <span class=\"o\">*</span><span class=\"mi\">0</span>\n  \\       <span class=\"o\">|</span>\n   \\      <span class=\"o\">|</span>\n   <span class=\"mi\">1</span><span class=\"o\">*</span>     <span class=\"o\">|</span>\n    <span class=\"o\">|</span>  <span class=\"n\">b</span>  <span class=\"o\">*</span><span class=\"mi\">1</span>\n    <span class=\"o\">|</span>      \\\n    <span class=\"mi\">2</span><span class=\"o\">*</span>      \\\n        <span class=\"n\">c</span>    <span class=\"o\">*</span><span class=\"mi\">2</span>\n</pre></div>\n</div>\n<p>is equal to <span class=\"math notranslate nohighlight\">\\(a+b+c\\)</span> where <span class=\"math notranslate nohighlight\">\\(a\\)</span> is the Euclidean distance between s1[0] and\ns2[0], <span class=\"math notranslate nohighlight\">\\(b\\)</span> between s1[1] and s2[1] and <span class=\"math notranslate nohighlight\">\\(c\\)</span> between s1[2] and s2[2].</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">feature</span></code></dt>\n<dd><p class=\"first last\"><cite>Feature</cite> object used to extract features from sequential data</p>\n</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></dt>\n<dd><p class=\"first last\">Is this metric invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">are_compatible</span></code></td>\n<td>Checks if features can be used by <cite>metric.dist</cite> based on their shape.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dist</span></code></td>\n<td>Computes a distance between two data points based on their features.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.metric.SumPointwiseEuclideanMetric.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.SumPointwiseEuclideanMetric.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"vectorofendpointsfeature\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.metric.VectorOfEndpointsFeature\" title=\"dipy.segment.metric.VectorOfEndpointsFeature\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">VectorOfEndpointsFeature</span></code></a><a class=\"headerlink\" href=\"#vectorofendpointsfeature\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.metric.VectorOfEndpointsFeature\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.metric.</code><code class=\"descname\">VectorOfEndpointsFeature</code><a class=\"headerlink\" href=\"#dipy.segment.metric.VectorOfEndpointsFeature\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.segment.featurespeed.CythonFeature</span></code></p>\n<p>Extracts features from a sequential datum.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions).</p>\n<p>The feature being extracted consists of one vector in the N-dimensional\nspace pointing from one end-point of the sequence to the other\n(i.e. <cite>S[-1]-S[0]</cite>).</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">is_order_invariant</span></code></dt>\n<dd><p class=\"first last\">Is this feature invariant to the sequence\u2019s ordering</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">extract</span></code></td>\n<td>Extracts features from a sequential datum.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">infer_shape</span></code></td>\n<td>Infers the shape of features extracted from a sequential datum.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.metric.VectorOfEndpointsFeature.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.VectorOfEndpointsFeature.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"dist\">\n<h3>dist<a class=\"headerlink\" href=\"#dist\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.metric.dist\">\n<code class=\"descclassname\">dipy.segment.metric.</code><code class=\"descname\">dist</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.dist\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Computes a distance between <cite>datum1</cite> and <cite>datum2</cite>.</p>\n<p>A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions).</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>metric</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\"><cite>Metric</cite> object</span></dt>\n<dd><p class=\"first last\">Tells how to compute the distance between <cite>datum1</cite> and <cite>datum2</cite>.</p>\n</dd>\n<dt><strong>datum1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D array</span></dt>\n<dd><p class=\"first last\">Sequence of N-dimensional points.</p>\n</dd>\n<dt><strong>datum2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D array</span></dt>\n<dd><p class=\"first last\">Sequence of N-dimensional points.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>double</strong></dt>\n<dd><p class=\"first last\">Distance between two data points.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"distance-matrix\">\n<h3>distance_matrix<a class=\"headerlink\" href=\"#distance-matrix\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.metric.distance_matrix\">\n<code class=\"descclassname\">dipy.segment.metric.</code><code class=\"descname\">distance_matrix</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.distance_matrix\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Computes the distance matrix between two lists of sequential data.</p>\n<p>The distance matrix is obtained by computing the pairwise distance of all\ntuples spawn by the Cartesian product of <cite>data1</cite> with <cite>data2</cite>. If <cite>data2</cite>\nis not provided, the Cartesian product of <cite>data1</cite> with itself is used\ninstead. A sequence of N-dimensional points is represented as a 2D array with\nshape (nb_points, nb_dimensions).</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>metric</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\"><cite>Metric</cite> object</span></dt>\n<dd><p class=\"first last\">Tells how to compute the distance between two sequential data.</p>\n</dd>\n<dt><strong>data1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list of 2D arrays</span></dt>\n<dd><p class=\"first last\">List of sequences of N-dimensional points.</p>\n</dd>\n<dt><strong>data2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list of 2D arrays</span></dt>\n<dd><p class=\"first last\">Llist of sequences of N-dimensional points.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>2D array (double)</strong></dt>\n<dd><p class=\"first last\">Distance matrix.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"mdf\">\n<h3>mdf<a class=\"headerlink\" href=\"#mdf\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.metric.mdf\">\n<code class=\"descclassname\">dipy.segment.metric.</code><code class=\"descname\">mdf</code><span class=\"sig-paren\">(</span><em>s1</em>, <em>s2</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.metric.mdf\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Computes the MDF (Minimum average Direct-Flip) distance\n<a class=\"reference internal\" href=\"#r9ec92ef08bd1-garyfallidis12\" id=\"id44\">[Garyfallidis12]</a> between two streamlines.</p>\n<p>Streamlines must have the same number of points.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>s1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D array</span></dt>\n<dd><p class=\"first last\">A streamline (sequence of N-dimensional points).</p>\n</dd>\n<dt><strong>s2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D array</span></dt>\n<dd><p class=\"first last\">A streamline (sequence of N-dimensional points).</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>double</strong></dt>\n<dd><p class=\"first last\">Distance between two streamlines.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r9ec92ef08bd1-garyfallidis12\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Garyfallidis12]</td><td><em>(<a class=\"fn-backref\" href=\"#id4\">1</a>, <a class=\"fn-backref\" href=\"#id44\">2</a>, <a class=\"fn-backref\" href=\"#id45\">3</a>)</em> Garyfallidis E. et al., QuickBundles a method for\ntractography simplification, Frontiers in Neuroscience,\nvol 6, no 175, 2012.</td></tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id46\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.quickbundles.QuickBundles\" title=\"dipy.segment.quickbundles.QuickBundles\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">QuickBundles</span></code></a><a class=\"headerlink\" href=\"#id46\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.quickbundles.</code><code class=\"descname\">QuickBundles</code><span class=\"sig-paren\">(</span><em>tracks</em>, <em>dist_thr=4.0</em>, <em>pts=12</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>centroids</strong></dt>\n<dd></dd>\n<dt><strong>total_clusters</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.quickbundles.QuickBundles.remove_small_clusters\" title=\"dipy.segment.quickbundles.QuickBundles.remove_small_clusters\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">remove_small_clusters</span></code></a>(size)</td>\n<td>Remove clusters with small size</td>\n</tr>\n</tbody>\n</table>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"69%\" />\n<col width=\"31%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>clusters</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>clusters_sizes</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>downsampled_tracks</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>exemplars</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>label2cluster</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>label2tracks</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>label2tracksids</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>partitions</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>points_per_track</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>remove_cluster</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>remove_clusters</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>remove_tracks</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>virtuals</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>tracks</em>, <em>dist_thr=4.0</em>, <em>pts=12</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Highly efficient trajectory clustering <a class=\"reference internal\" href=\"#r43ff9983bff9-garyfallidis12\" id=\"id47\">[Garyfallidis12]</a>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>tracks</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence of (N,3) \u2026 (M,3) arrays</span></dt>\n<dd><p class=\"first last\">trajectories (or tractography or streamlines)</p>\n</dd>\n<dt><strong>dist_thr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">distance threshold in the space of the tracks</p>\n</dd>\n<dt><strong>pts</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">number of points for simplifying the tracks</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r43ff9983bff9-garyfallidis12\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Garyfallidis12]</td><td><em>(<a class=\"fn-backref\" href=\"#id47\">1</a>, <a class=\"fn-backref\" href=\"#id48\">2</a>)</em> Garyfallidis E. et al., QuickBundles a method for\ntractography simplification,\nFrontiers in Neuroscience, vol 6, no 175, 2012.</td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"87%\" />\n<col width=\"13%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>clustering() returns a dict holding with the clustering result</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>virtuals() gives the virtuals (track centroids) of the clusters</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>exemplars() gives the exemplars (track medoids) of the clusters</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.centroids\">\n<code class=\"descname\">centroids</code><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.centroids\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.clusters\">\n<code class=\"descname\">clusters</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.clusters\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.clusters_sizes\">\n<code class=\"descname\">clusters_sizes</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.clusters_sizes\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.downsampled_tracks\">\n<code class=\"descname\">downsampled_tracks</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.downsampled_tracks\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.exemplars\">\n<code class=\"descname\">exemplars</code><span class=\"sig-paren\">(</span><em>tracks=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.exemplars\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.label2cluster\">\n<code class=\"descname\">label2cluster</code><span class=\"sig-paren\">(</span><em>id</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.label2cluster\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.label2tracks\">\n<code class=\"descname\">label2tracks</code><span class=\"sig-paren\">(</span><em>tracks</em>, <em>id</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.label2tracks\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.label2tracksids\">\n<code class=\"descname\">label2tracksids</code><span class=\"sig-paren\">(</span><em>id</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.label2tracksids\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.partitions\">\n<code class=\"descname\">partitions</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.partitions\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.points_per_track\">\n<code class=\"descname\">points_per_track</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.points_per_track\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.remove_cluster\">\n<code class=\"descname\">remove_cluster</code><span class=\"sig-paren\">(</span><em>id</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.remove_cluster\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.remove_clusters\">\n<code class=\"descname\">remove_clusters</code><span class=\"sig-paren\">(</span><em>list_ids</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.remove_clusters\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.remove_small_clusters\">\n<code class=\"descname\">remove_small_clusters</code><span class=\"sig-paren\">(</span><em>size</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.remove_small_clusters\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Remove clusters with small size</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>size</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, threshold for minimum number of tracks allowed</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.remove_tracks\">\n<code class=\"descname\">remove_tracks</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.remove_tracks\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.total_clusters\">\n<code class=\"descname\">total_clusters</code><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.total_clusters\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.quickbundles.QuickBundles.virtuals\">\n<code class=\"descname\">virtuals</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.QuickBundles.virtuals\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id49\">\n<h3>bundles_distances_mdf<a class=\"headerlink\" href=\"#id49\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.quickbundles.bundles_distances_mdf\">\n<code class=\"descclassname\">dipy.segment.quickbundles.</code><code class=\"descname\">bundles_distances_mdf</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.bundles_distances_mdf\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculate distances between list of tracks A and list of tracks B</p>\n<p>All tracks need to have the same number of points</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>tracksA</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of tracks as arrays, [(N,3) .. (N,3)]</p>\n</dd>\n<dt><strong>tracksB</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of tracks as arrays, [(N,3) .. (N,3)]</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>DM</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (len(tracksA), len(tracksB))</span></dt>\n<dd><p class=\"first last\">distances between tracksA and tracksB according to metric</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dipy.metrics.downsample</span></code></p>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"downsample\">\n<h3>downsample<a class=\"headerlink\" href=\"#downsample\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.quickbundles.downsample\">\n<code class=\"descclassname\">dipy.segment.quickbundles.</code><code class=\"descname\">downsample</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>n_pols=3</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.downsample\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>downsample for a specific number of points along the curve/track</p>\n<p>Uses the length of the curve. It works in a similar fashion to\nmidpoint and arbitrarypoint but it also reduces the number of segments\nof a track.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like shape (N,3)</span></dt>\n<dd><p class=\"first last\">array representing x,y,z of N points in a track</p>\n</dd>\n<dt><strong>n_pol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">integer representing number of points (poles) we need along the curve.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>xyz2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array shape (M,3)</span></dt>\n<dd><p class=\"first last\">array representing x,y,z of M points that where extrapolated. M\nshould be equal to n_pols</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># a semi-circle</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz2</span><span class=\"o\">=</span><span class=\"n\">downsample</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># a cosine</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">y</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">_</span><span class=\"o\">=</span> <span class=\"n\">downsample</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">xyz2</span><span class=\"p\">)</span>\n<span class=\"go\">3</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz3</span><span class=\"o\">=</span><span class=\"n\">downsample</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">xyz3</span><span class=\"p\">)</span>\n<span class=\"go\">10</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"local-skeleton-clustering\">\n<h3>local_skeleton_clustering<a class=\"headerlink\" href=\"#local-skeleton-clustering\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.quickbundles.local_skeleton_clustering\">\n<code class=\"descclassname\">dipy.segment.quickbundles.</code><code class=\"descname\">local_skeleton_clustering</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.local_skeleton_clustering\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Efficient tractography clustering</p>\n<p>Every track can needs to have the same number of points.\nUse <cite>dipy.tracking.metrics.downsample</cite> to restrict the number of points</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>tracks</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of tracks as arrays, shape (N,3) .. (N,3) where N=points</p>\n</dd>\n<dt><strong>d_thr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">average euclidean distance threshold</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>C</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">dict</span></dt>\n<dd><p class=\"first last\">Clusters.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"../dipy.tracking/#dipy.tracking.metrics.downsample\" title=\"dipy.tracking.metrics.downsample\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dipy.tracking.metrics.downsample</span></code></a></p>\n</div>\n<p class=\"rubric\">Notes</p>\n<p>The distance calculated between two tracks:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">t_1</span>       <span class=\"n\">t_2</span>\n\n<span class=\"mi\">0</span><span class=\"o\">*</span>   <span class=\"n\">a</span>    <span class=\"o\">*</span><span class=\"mi\">0</span>\n  \\       <span class=\"o\">|</span>\n   \\      <span class=\"o\">|</span>\n   <span class=\"mi\">1</span><span class=\"o\">*</span>     <span class=\"o\">|</span>\n    <span class=\"o\">|</span>  <span class=\"n\">b</span>  <span class=\"o\">*</span><span class=\"mi\">1</span>\n    <span class=\"o\">|</span>      \\\n    <span class=\"mi\">2</span><span class=\"o\">*</span>      \\\n        <span class=\"n\">c</span>    <span class=\"o\">*</span><span class=\"mi\">2</span>\n</pre></div>\n</div>\n<p>is equal to <span class=\"math notranslate nohighlight\">\\((a+b+c)/3\\)</span> where <span class=\"math notranslate nohighlight\">\\(a\\)</span> the euclidean distance between <code class=\"docutils literal notranslate\"><span class=\"pre\">t_1[0]</span></code>\nand <code class=\"docutils literal notranslate\"><span class=\"pre\">t_2[0]</span></code>, <span class=\"math notranslate nohighlight\">\\(b\\)</span> between <code class=\"docutils literal notranslate\"><span class=\"pre\">t_1[1]</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">t_2[1]</span></code> and <span class=\"math notranslate nohighlight\">\\(c\\)</span> between\n<code class=\"docutils literal notranslate\"><span class=\"pre\">t_1[2]</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">t_2[2]</span></code>. Also the same with t2 flipped (so <code class=\"docutils literal notranslate\"><span class=\"pre\">t_1[0]</span></code>\ncompared to <code class=\"docutils literal notranslate\"><span class=\"pre\">t_2[2]</span></code> etc).</p>\n<p>Visualization:</p>\n<p>It is possible to visualize the clustering C from the example\nabove using the dipy.viz module:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">dipy.viz</span> <span class=\"k\">import</span> <span class=\"n\">window</span><span class=\"p\">,</span> <span class=\"n\">actor</span>\n<span class=\"n\">r</span><span class=\"o\">=</span><span class=\"n\">window</span><span class=\"o\">.</span><span class=\"n\">Renderer</span><span class=\"p\">()</span>\n<span class=\"k\">for</span> <span class=\"n\">c</span> <span class=\"ow\">in</span> <span class=\"n\">C</span><span class=\"p\">:</span>\n    <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">rand</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">)</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">C</span><span class=\"p\">[</span><span class=\"n\">c</span><span class=\"p\">][</span><span class=\"s1\">&#39;indices&#39;</span><span class=\"p\">]:</span>\n        <span class=\"n\">r</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">actor</span><span class=\"o\">.</span><span class=\"n\">line</span><span class=\"p\">(</span><span class=\"n\">tracks</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">],</span><span class=\"n\">color</span><span class=\"p\">))</span>\n<span class=\"n\">window</span><span class=\"o\">.</span><span class=\"n\">show</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">tracks</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]]),</span>\n<span class=\"gp\">... </span>        <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mf\">3.5</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]]),</span>\n<span class=\"gp\">... </span>        <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mf\">3.2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mf\">3.7</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mf\">4.4</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]]),</span>\n<span class=\"gp\">... </span>        <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mf\">3.4</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mf\">3.9</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mf\">4.6</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]]),</span>\n<span class=\"gp\">... </span>        <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mf\">0.2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mf\">0.2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mf\">0.2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]]),</span>\n<span class=\"gp\">... </span>        <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mf\">0.2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mf\">0.2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mf\">0.2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]]),</span>\n<span class=\"gp\">... </span>        <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">C</span> <span class=\"o\">=</span> <span class=\"n\">local_skeleton_clustering</span><span class=\"p\">(</span><span class=\"n\">tracks</span><span class=\"p\">,</span> <span class=\"n\">d_thr</span><span class=\"o\">=</span><span class=\"mf\">0.5</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id50\">\n<h3>warn<a class=\"headerlink\" href=\"#id50\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.quickbundles.warn\">\n<code class=\"descclassname\">dipy.segment.quickbundles.</code><code class=\"descname\">warn</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.quickbundles.warn\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Issue a warning, or maybe ignore it or raise an exception.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id51\">\n<h3>otsu<a class=\"headerlink\" href=\"#id51\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.threshold.otsu\">\n<code class=\"descclassname\">dipy.segment.threshold.</code><code class=\"descname\">otsu</code><span class=\"sig-paren\">(</span><em>image</em>, <em>nbins=256</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.threshold.otsu\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return threshold value based on Otsu\u2019s method.\nCopied from scikit-image to remove dependency.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>image</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">Input image.</p>\n</dd>\n<dt><strong>nbins</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of bins used to calculate histogram. This value is ignored for\ninteger arrays.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>threshold</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Threshold value.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"upper-bound-by-percent\">\n<h3>upper_bound_by_percent<a class=\"headerlink\" href=\"#upper-bound-by-percent\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.threshold.upper_bound_by_percent\">\n<code class=\"descclassname\">dipy.segment.threshold.</code><code class=\"descname\">upper_bound_by_percent</code><span class=\"sig-paren\">(</span><em>data</em>, <em>percent=1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.threshold.upper_bound_by_percent\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Find the upper bound for visualization of medical images</p>\n<p>Calculate the histogram of the image and go right to left until you find\nthe bound that contains more than a percentage of the image.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>data</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd></dd>\n<dt><strong>percent</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>upper_bound</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"upper-bound-by-rate\">\n<h3>upper_bound_by_rate<a class=\"headerlink\" href=\"#upper-bound-by-rate\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.threshold.upper_bound_by_rate\">\n<code class=\"descclassname\">dipy.segment.threshold.</code><code class=\"descname\">upper_bound_by_rate</code><span class=\"sig-paren\">(</span><em>data</em>, <em>rate=0.05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.threshold.upper_bound_by_rate\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Adjusts upper intensity boundary using rates</p>\n<p>It calculates the image intensity histogram, and based on the rate value it\ndecide what is the upperbound value for intensity normalization, usually\nlower bound is 0. The rate is the ratio between the amount of pixels in\nevery bins and the bins with highest pixel amount</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>data</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Input intensity value data</p>\n</dd>\n<dt><strong>rate</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">representing the threshold whether a spicific histogram bin that should\nbe count in the normalization range</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>high</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">the upper_bound value for normalization</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"constantobservationmodel\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.tissue.ConstantObservationModel\" title=\"dipy.segment.tissue.ConstantObservationModel\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ConstantObservationModel</span></code></a><a class=\"headerlink\" href=\"#constantobservationmodel\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.tissue.ConstantObservationModel\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.tissue.</code><code class=\"descname\">ConstantObservationModel</code><a class=\"headerlink\" href=\"#dipy.segment.tissue.ConstantObservationModel\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>Observation model assuming that the intensity of each class is constant.\nThe model parameters are the means <span class=\"math notranslate nohighlight\">\\(\\mu_{k}\\)</span> and variances <span class=\"math notranslate nohighlight\">\\(\\sigma_{k}\\)</span>\nassociated with each tissue class. According to this model, the observed\nintensity at voxel <span class=\"math notranslate nohighlight\">\\(x\\)</span> is given by <span class=\"math notranslate nohighlight\">\\(I(x) = \\mu_{k} + \\eta_{k}\\)</span> where <span class=\"math notranslate nohighlight\">\\(k\\)</span>\nis the tissue class of voxel <span class=\"math notranslate nohighlight\">\\(x\\)</span>, and <span class=\"math notranslate nohighlight\">\\(\\eta_{k}\\)</span> is a Gaussian random\nvariable with zero mean and variance <span class=\"math notranslate nohighlight\">\\(\\sigma_{k}^{2}\\)</span>. The observation\nmodel is responsible for computing the negative log-likelihood of\nobserving any given intensity <span class=\"math notranslate nohighlight\">\\(z\\)</span> at each voxel <span class=\"math notranslate nohighlight\">\\(x\\)</span> assuming the voxel\nbelongs to each class <span class=\"math notranslate nohighlight\">\\(k\\)</span>. It also provides a default parameter\ninitialization.</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.tissue.ConstantObservationModel.initialize_param_uniform\" title=\"dipy.segment.tissue.ConstantObservationModel.initialize_param_uniform\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">initialize_param_uniform</span></code></a></td>\n<td>Initializes the means and variances uniformly</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.tissue.ConstantObservationModel.negloglikelihood\" title=\"dipy.segment.tissue.ConstantObservationModel.negloglikelihood\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">negloglikelihood</span></code></a></td>\n<td>Computes the gaussian negative log-likelihood of each class at each voxel of <cite>image</cite> assuming a gaussian distribution with means and variances given by <cite>mu</cite> and <cite>sigmasq</cite>, respectively (constant models along the full volume).</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.tissue.ConstantObservationModel.prob_image\" title=\"dipy.segment.tissue.ConstantObservationModel.prob_image\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">prob_image</span></code></a></td>\n<td>Conditional probability of the label given the image</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.tissue.ConstantObservationModel.seg_stats\" title=\"dipy.segment.tissue.ConstantObservationModel.seg_stats\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">seg_stats</span></code></a></td>\n<td>Mean and standard variation for N desired  tissue classes</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.tissue.ConstantObservationModel.update_param\" title=\"dipy.segment.tissue.ConstantObservationModel.update_param\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">update_param</span></code></a></td>\n<td>Updates the means and the variances in each iteration for all the labels.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.tissue.ConstantObservationModel.update_param_new\" title=\"dipy.segment.tissue.ConstantObservationModel.update_param_new\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">update_param_new</span></code></a></td>\n<td>Updates the means and the variances in each iteration for all the labels.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.tissue.ConstantObservationModel.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.tissue.ConstantObservationModel.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initializes an instance of the ConstantObservationModel class</p>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.tissue.ConstantObservationModel.initialize_param_uniform\">\n<code class=\"descname\">initialize_param_uniform</code><a class=\"headerlink\" href=\"#dipy.segment.tissue.ConstantObservationModel.initialize_param_uniform\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initializes the means and variances uniformly</p>\n<p>The means are initialized uniformly along the dynamic range of\n<cite>image</cite>. The variances are set to 1 for all classes</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>image</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array,</span></dt>\n<dd><p class=\"first last\">3D structural image</p>\n</dd>\n<dt><strong>nclasses</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int,</span></dt>\n<dd><p class=\"first last\">number of desired classes</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>mu</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array,</span></dt>\n<dd><p class=\"first last\">1 x nclasses, mean for each class</p>\n</dd>\n<dt><strong>sigma</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array,</span></dt>\n<dd><p class=\"first last\">1 x nclasses, standard deviation for each class.\nSet up to 1.0 for all classes.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.tissue.ConstantObservationModel.negloglikelihood\">\n<code class=\"descname\">negloglikelihood</code><a class=\"headerlink\" href=\"#dipy.segment.tissue.ConstantObservationModel.negloglikelihood\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Computes the gaussian negative log-likelihood of each class at\neach voxel of <cite>image</cite> assuming a gaussian distribution with means and\nvariances given by <cite>mu</cite> and <cite>sigmasq</cite>, respectively (constant models\nalong the full volume). The negative log-likelihood will be written\nin <cite>nloglike</cite>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>image</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">3D gray scale structural image</p>\n</dd>\n<dt><strong>mu</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">mean of each class</p>\n</dd>\n<dt><strong>sigmasq</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">variance of each class</p>\n</dd>\n<dt><strong>nclasses</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">number of classes</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>nloglike</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">4D negloglikelihood for each class in each volume</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.tissue.ConstantObservationModel.prob_image\">\n<code class=\"descname\">prob_image</code><a class=\"headerlink\" href=\"#dipy.segment.tissue.ConstantObservationModel.prob_image\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Conditional probability of the label given the image</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>img</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">3D structural gray-scale image</p>\n</dd>\n<dt><strong>nclasses</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int,</span></dt>\n<dd><p class=\"first last\">number of tissue classes</p>\n</dd>\n<dt><strong>mu</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">1 x nclasses, current estimate of the mean of each tissue class</p>\n</dd>\n<dt><strong>sigmasq</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">1 x nclasses, current estimate of the variance of each\ntissue class</p>\n</dd>\n<dt><strong>P_L_N</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">4D probability map of the label given the neighborhood.</p>\n</dd>\n<dt><strong>Previously computed by function prob_neighborhood</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>P_L_Y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">4D probability of the label given the input image</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.tissue.ConstantObservationModel.seg_stats\">\n<code class=\"descname\">seg_stats</code><a class=\"headerlink\" href=\"#dipy.segment.tissue.ConstantObservationModel.seg_stats\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Mean and standard variation for N desired  tissue classes</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>input_image</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">3D structural image</p>\n</dd>\n<dt><strong>seg_image</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">3D segmented image</p>\n</dd>\n<dt><strong>nclass</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int,</span></dt>\n<dd><p class=\"first last\">number of classes (3 in most cases)</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>mu, std: ndarrays,</strong></dt>\n<dd><p class=\"first last\">1 x nclasses dimension\nMean and standard deviation for each class</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.tissue.ConstantObservationModel.update_param\">\n<code class=\"descname\">update_param</code><a class=\"headerlink\" href=\"#dipy.segment.tissue.ConstantObservationModel.update_param\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Updates the means and the variances in each iteration for all\nthe labels. This is for equations 25 and 26 of Zhang et. al.,\nIEEE Trans. Med. Imag, Vol. 20, No. 1, Jan 2001.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>image</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">3D structural gray-scale image</p>\n</dd>\n<dt><strong>P_L_Y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">4D probability map of the label given the input image\ncomputed by the expectation maximization (EM) algorithm</p>\n</dd>\n<dt><strong>mu</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">1 x nclasses, current estimate of the mean of each tissue\nclass.</p>\n</dd>\n<dt><strong>nclasses</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int,</span></dt>\n<dd><p class=\"first last\">number of tissue classes</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>mu_upd</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">1 x nclasses, updated mean of each tissue class</p>\n</dd>\n<dt><strong>var_upd</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">1 x nclasses, updated variance of each tissue class</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.tissue.ConstantObservationModel.update_param_new\">\n<code class=\"descname\">update_param_new</code><a class=\"headerlink\" href=\"#dipy.segment.tissue.ConstantObservationModel.update_param_new\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Updates the means and the variances in each iteration for all\nthe labels. This is for equations 25 and 26 of the Zhang et al. paper</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>image</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">3D structural gray-scale image</p>\n</dd>\n<dt><strong>P_L_Y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">4D probability map of the label given the input image\ncomputed by the expectation maximization (EM) algorithm</p>\n</dd>\n<dt><strong>mu</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">1 x nclasses, current estimate of the mean of each tissue\nclass.</p>\n</dd>\n<dt><strong>nclasses</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int,</span></dt>\n<dd><p class=\"first last\">number of tissue classes</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>mu_upd</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">1 x nclasses, updated mean of each tissue class</p>\n</dd>\n<dt><strong>var_upd</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">1 x nclasses, updated variance of each tissue class</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"iteratedconditionalmodes\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.tissue.IteratedConditionalModes\" title=\"dipy.segment.tissue.IteratedConditionalModes\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">IteratedConditionalModes</span></code></a><a class=\"headerlink\" href=\"#iteratedconditionalmodes\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.tissue.IteratedConditionalModes\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.tissue.</code><code class=\"descname\">IteratedConditionalModes</code><a class=\"headerlink\" href=\"#dipy.segment.tissue.IteratedConditionalModes\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.tissue.IteratedConditionalModes.icm_ising\" title=\"dipy.segment.tissue.IteratedConditionalModes.icm_ising\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">icm_ising</span></code></a></td>\n<td>Executes one iteration of the ICM algorithm for MRF MAP estimation.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.segment.tissue.IteratedConditionalModes.initialize_maximum_likelihood\" title=\"dipy.segment.tissue.IteratedConditionalModes.initialize_maximum_likelihood\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">initialize_maximum_likelihood</span></code></a></td>\n<td>Initializes the segmentation of an image with given</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.tissue.IteratedConditionalModes.prob_neighborhood\" title=\"dipy.segment.tissue.IteratedConditionalModes.prob_neighborhood\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">prob_neighborhood</span></code></a></td>\n<td>Conditional probability of the label given the neighborhood Equation 2.18 of the Stan Z.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.tissue.IteratedConditionalModes.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.tissue.IteratedConditionalModes.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.tissue.IteratedConditionalModes.icm_ising\">\n<code class=\"descname\">icm_ising</code><a class=\"headerlink\" href=\"#dipy.segment.tissue.IteratedConditionalModes.icm_ising\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Executes one iteration of the ICM algorithm for MRF MAP\nestimation. The prior distribution of the MRF is a Gibbs\ndistribution with the Potts/Ising model with parameter <cite>beta</cite>:</p>\n<p><a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Potts_model\">https://en.wikipedia.org/wiki/Potts_model</a></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>nloglike</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">4D shape, nloglike[x,y,z,k] is the negative log likelihood\nof class k at voxel (x,y,z)</p>\n</dd>\n<dt><strong>beta</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float,</span></dt>\n<dd><p class=\"first last\">positive scalar, it is the parameter of the Potts/Ising\nmodel. Determines the smoothness of the output segmentation.</p>\n</dd>\n<dt><strong>seg</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">3D initial segmentation. This segmentation will change by one\niteration of the ICM algorithm</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>new_seg</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">3D final segmentation</p>\n</dd>\n<dt><strong>energy</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">3D final energy</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.tissue.IteratedConditionalModes.initialize_maximum_likelihood\">\n<code class=\"descname\">initialize_maximum_likelihood</code><a class=\"headerlink\" href=\"#dipy.segment.tissue.IteratedConditionalModes.initialize_maximum_likelihood\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><dl class=\"docutils\">\n<dt>Initializes the segmentation of an image with given</dt>\n<dd>neg-loglikelihood</dd>\n</dl>\n<p>Initializes the segmentation of an image with neglog-likelihood field\ngiven by <cite>nloglike</cite>. The class of each voxel is selected as the one\nwith the minimum neglog-likelihood (i.e. maximum-likelihood\nsegmentation).</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>nloglike</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">4D shape, nloglike[x,y,z,k] is the likelihhood of class k\nfor voxel (x, y, z)</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>seg</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">3D initial segmentation</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.segment.tissue.IteratedConditionalModes.prob_neighborhood\">\n<code class=\"descname\">prob_neighborhood</code><a class=\"headerlink\" href=\"#dipy.segment.tissue.IteratedConditionalModes.prob_neighborhood\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Conditional probability of the label given the neighborhood\nEquation 2.18 of the Stan Z. Li book (Stan Z. Li, Markov Random Field\nModeling in Image Analysis, 3rd ed., Advances in Pattern Recognition\nSeries, Springer Verlag 2009.)</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>seg</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">3D tissue segmentation derived from the ICM model</p>\n</dd>\n<dt><strong>beta</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float,</span></dt>\n<dd><p class=\"first last\">scalar that determines the importance of the neighborhood and\nthe spatial smoothness of the segmentation.\nUsually between 0 to 0.5</p>\n</dd>\n<dt><strong>nclasses</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int,</span></dt>\n<dd><p class=\"first last\">number of tissue classes</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>PLN</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">4D probability map of the label given the neighborhood of the\nvoxel.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"tissueclassifierhmrf\">\n<h3><a class=\"reference internal\" href=\"#dipy.segment.tissue.TissueClassifierHMRF\" title=\"dipy.segment.tissue.TissueClassifierHMRF\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">TissueClassifierHMRF</span></code></a><a class=\"headerlink\" href=\"#tissueclassifierhmrf\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.segment.tissue.TissueClassifierHMRF\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.segment.tissue.</code><code class=\"descname\">TissueClassifierHMRF</code><span class=\"sig-paren\">(</span><em>save_history=False</em>, <em>verbose=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.tissue.TissueClassifierHMRF\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>This class contains the methods for tissue classification using the Markov\nRandom Fields modeling approach</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.segment.tissue.TissueClassifierHMRF.classify\" title=\"dipy.segment.tissue.TissueClassifierHMRF.classify\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">classify</span></code></a>(image,&nbsp;nclasses,&nbsp;beta[,&nbsp;tolerance,&nbsp;\u2026])</td>\n<td>This method uses the Maximum a posteriori - Markov Random Field approach for segmentation by using the Iterative Conditional Modes and Expectation Maximization to estimate the parameters.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.segment.tissue.TissueClassifierHMRF.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>save_history=False</em>, <em>verbose=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.tissue.TissueClassifierHMRF.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.segment.tissue.TissueClassifierHMRF.classify\">\n<code class=\"descname\">classify</code><span class=\"sig-paren\">(</span><em>image</em>, <em>nclasses</em>, <em>beta</em>, <em>tolerance=None</em>, <em>max_iter=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.tissue.TissueClassifierHMRF.classify\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>This method uses the Maximum a posteriori - Markov Random Field\napproach for segmentation by using the Iterative Conditional Modes and\nExpectation Maximization to estimate the parameters.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>image</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">3D structural image.</p>\n</dd>\n<dt><strong>nclasses</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int,</span></dt>\n<dd><p class=\"first last\">number of desired classes.</p>\n</dd>\n<dt><strong>beta</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float,</span></dt>\n<dd><p class=\"first last\">smoothing parameter, the higher this number the smoother the\noutput will be.</p>\n</dd>\n<dt><strong>tolerance: float,</strong></dt>\n<dd><p class=\"first last\">value that defines the percentage of change tolerated to\nprevent the ICM loop to stop. Default is 1e-05.</p>\n</dd>\n<dt><strong>max_iter</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float,</span></dt>\n<dd><p class=\"first last\">fixed number of desired iterations. Default is 100.\nIf the user only specifies this parameter, the tolerance\nvalue will not be considered. If none of these two\nparameters</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>initial_segmentation</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">3D segmented image with all tissue types\nspecified in nclasses.</p>\n</dd>\n<dt><strong>final_segmentation</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">3D final refined segmentation containing all\ntissue types.</p>\n</dd>\n<dt><strong>PVE</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray,</span></dt>\n<dd><p class=\"first last\">3D probability map of each tissue type.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"add-noise\">\n<h3>add_noise<a class=\"headerlink\" href=\"#add-noise\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.segment.tissue.add_noise\">\n<code class=\"descclassname\">dipy.segment.tissue.</code><code class=\"descname\">add_noise</code><span class=\"sig-paren\">(</span><em>signal</em>, <em>snr</em>, <em>S0</em>, <em>noise_type='rician'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.segment.tissue.add_noise\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Add noise of specified distribution to the signal from a single voxel.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>signal</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1-d ndarray</span></dt>\n<dd><p class=\"first last\">The signal in the voxel.</p>\n</dd>\n<dt><strong>snr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">The desired signal-to-noise ratio. (See notes below.)\nIf <cite>snr</cite> is None, return the signal as-is.</p>\n</dd>\n<dt><strong>S0</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Reference signal for specifying <cite>snr</cite>.</p>\n</dd>\n<dt><strong>noise_type</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">string, optional</span></dt>\n<dd><p class=\"first last\">The distribution of noise added. Can be either \u2018gaussian\u2019 for Gaussian\ndistributed noise, \u2018rician\u2019 for Rice-distributed noise (default) or\n\u2018rayleigh\u2019 for a Rayleigh distribution.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>signal</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, same shape as the input</span></dt>\n<dd><p class=\"first last\">Signal with added noise.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>SNR is defined here, following <a class=\"reference internal\" href=\"#r71e340ddaf7d-1\" id=\"id52\">[1]</a>, as <code class=\"docutils literal notranslate\"><span class=\"pre\">S0</span> <span class=\"pre\">/</span> <span class=\"pre\">sigma</span></code>, where <code class=\"docutils literal notranslate\"><span class=\"pre\">sigma</span></code> is\nthe standard deviation of the two Gaussian distributions forming the real\nand imaginary components of the Rician noise distribution (see <a class=\"reference internal\" href=\"#r71e340ddaf7d-2\" id=\"id53\">[2]</a>).</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r71e340ddaf7d-1\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[1]</td><td><em>(<a class=\"fn-backref\" href=\"#id52\">1</a>, <a class=\"fn-backref\" href=\"#id54\">2</a>)</em> Descoteaux, Angelino, Fitzgibbons and Deriche (2007) Regularized,\nfast and robust q-ball imaging. MRM, 58: 497-510</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r71e340ddaf7d-2\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[2]</td><td><em>(<a class=\"fn-backref\" href=\"#id53\">1</a>, <a class=\"fn-backref\" href=\"#id55\">2</a>)</em> Gudbjartson and Patz (2008). The Rician distribution of noisy MRI\ndata. MRM 34: 910-914.</td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">signal</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">arange</span><span class=\"p\">(</span><span class=\"mi\">800</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">reshape</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">signal_w_noise</span> <span class=\"o\">=</span> <span class=\"n\">add_noise</span><span class=\"p\">(</span><span class=\"n\">signal</span><span class=\"p\">,</span> <span class=\"mf\">10.</span><span class=\"p\">,</span> <span class=\"mf\">100.</span><span class=\"p\">,</span> <span class=\"n\">noise_type</span><span class=\"o\">=</span><span class=\"s1\">&#39;rician&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"]], "sourcename": "reference/dipy.segment.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"docutils literal notranslate\"><span class=\"pre\">segment</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#module-dipy.segment.benchmarks\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">segment.benchmarks</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.segment.benchmarks.bench_quickbundles\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">segment.benchmarks.bench_quickbundles</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.segment.bundles\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">segment.bundles</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.segment.clustering\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">segment.clustering</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.segment.mask\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">segment.mask</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.segment.metric\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">segment.metric</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.segment.quickbundles\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">segment.quickbundles</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.segment.threshold\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">segment.threshold</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.segment.tissue\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">segment.tissue</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#mdfpy\"><code class=\"docutils literal notranslate\"><span class=\"pre\">MDFpy</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#metric\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Metric</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#qb-new\"><code class=\"docutils literal notranslate\"><span class=\"pre\">QB_New</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#qb-old\"><code class=\"docutils literal notranslate\"><span class=\"pre\">QB_Old</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#assert-array-equal\">assert_array_equal</a></li>\n<li><a class=\"reference internal\" href=\"#assert-arrays-equal\">assert_arrays_equal</a></li>\n<li><a class=\"reference internal\" href=\"#assert-equal\">assert_equal</a></li>\n<li><a class=\"reference internal\" href=\"#bench-quickbundles\">bench_quickbundles</a></li>\n<li><a class=\"reference internal\" href=\"#get-fnames\">get_fnames</a></li>\n<li><a class=\"reference internal\" href=\"#measure\">measure</a></li>\n<li><a class=\"reference internal\" href=\"#bundlemindistanceasymmetricmetric\"><code class=\"docutils literal notranslate\"><span class=\"pre\">BundleMinDistanceAsymmetricMetric</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#bundlemindistancemetric\"><code class=\"docutils literal notranslate\"><span class=\"pre\">BundleMinDistanceMetric</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#bundlesumdistancematrixmetric\"><code class=\"docutils literal notranslate\"><span class=\"pre\">BundleSumDistanceMatrixMetric</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#recobundles\"><code class=\"docutils literal notranslate\"><span class=\"pre\">RecoBundles</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#streamlinelinearregistration\"><code class=\"docutils literal notranslate\"><span class=\"pre\">StreamlineLinearRegistration</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#streamlines\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Streamlines</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#chain\"><code class=\"docutils literal notranslate\"><span class=\"pre\">chain</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#apply-affine\">apply_affine</a></li>\n<li><a class=\"reference internal\" href=\"#ba-analysis\">ba_analysis</a></li>\n<li><a class=\"reference internal\" href=\"#bundle-adjacency\">bundle_adjacency</a></li>\n<li><a class=\"reference internal\" href=\"#bundles-distances-mam\">bundles_distances_mam</a></li>\n<li><a class=\"reference internal\" href=\"#bundles-distances-mdf\">bundles_distances_mdf</a></li>\n<li><a class=\"reference internal\" href=\"#check-range\">check_range</a></li>\n<li><a class=\"reference internal\" href=\"#length\">length</a></li>\n<li><a class=\"reference internal\" href=\"#nbytes\">nbytes</a></li>\n<li><a class=\"reference internal\" href=\"#qbx-and-merge\">qbx_and_merge</a></li>\n<li><a class=\"reference internal\" href=\"#select-random-set-of-streamlines\">select_random_set_of_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#set-number-of-points\">set_number_of_points</a></li>\n<li><a class=\"reference internal\" href=\"#time\">time</a></li>\n<li><a class=\"reference internal\" href=\"#abcmeta\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ABCMeta</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#averagepointwiseeuclideanmetric\"><code class=\"docutils literal notranslate\"><span class=\"pre\">AveragePointwiseEuclideanMetric</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#cluster\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Cluster</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#clustercentroid\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ClusterCentroid</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#clustermap\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ClusterMap</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#clustermapcentroid\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ClusterMapCentroid</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#clustering\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Clustering</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#identity\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Identity</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id18\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Metric</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#minimumaveragedirectflipmetric\"><code class=\"docutils literal notranslate\"><span class=\"pre\">MinimumAverageDirectFlipMetric</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#quickbundles\"><code class=\"docutils literal notranslate\"><span class=\"pre\">QuickBundles</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#quickbundlesx\"><code class=\"docutils literal notranslate\"><span class=\"pre\">QuickBundlesX</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#resamplefeature\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ResampleFeature</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#treecluster\"><code class=\"docutils literal notranslate\"><span class=\"pre\">TreeCluster</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#treeclustermap\"><code class=\"docutils literal notranslate\"><span class=\"pre\">TreeClusterMap</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#abstractmethod\">abstractmethod</a></li>\n<li><a class=\"reference internal\" href=\"#id25\">nbytes</a></li>\n<li><a class=\"reference internal\" href=\"#id26\">qbx_and_merge</a></li>\n<li><a class=\"reference internal\" href=\"#id29\">set_number_of_points</a></li>\n<li><a class=\"reference internal\" href=\"#id30\">time</a></li>\n<li><a class=\"reference internal\" href=\"#applymask\">applymask</a></li>\n<li><a class=\"reference internal\" href=\"#binary-dilation\">binary_dilation</a></li>\n<li><a class=\"reference internal\" href=\"#bounding-box\">bounding_box</a></li>\n<li><a class=\"reference internal\" href=\"#clean-cc-mask\">clean_cc_mask</a></li>\n<li><a class=\"reference internal\" href=\"#color-fa\">color_fa</a></li>\n<li><a class=\"reference internal\" href=\"#crop\">crop</a></li>\n<li><a class=\"reference internal\" href=\"#fractional-anisotropy\">fractional_anisotropy</a></li>\n<li><a class=\"reference internal\" href=\"#generate-binary-structure\">generate_binary_structure</a></li>\n<li><a class=\"reference internal\" href=\"#median-filter\">median_filter</a></li>\n<li><a class=\"reference internal\" href=\"#median-otsu\">median_otsu</a></li>\n<li><a class=\"reference internal\" href=\"#multi-median\">multi_median</a></li>\n<li><a class=\"reference internal\" href=\"#otsu\">otsu</a></li>\n<li><a class=\"reference internal\" href=\"#segment-from-cfa\">segment_from_cfa</a></li>\n<li><a class=\"reference internal\" href=\"#warn\">warn</a></li>\n<li><a class=\"reference internal\" href=\"#arclengthfeature\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ArcLengthFeature</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id38\"><code class=\"docutils literal notranslate\"><span class=\"pre\">AveragePointwiseEuclideanMetric</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#centerofmassfeature\"><code class=\"docutils literal notranslate\"><span class=\"pre\">CenterOfMassFeature</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#cosinemetric\"><code class=\"docutils literal notranslate\"><span class=\"pre\">CosineMetric</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#euclideanmetric\"><code class=\"docutils literal notranslate\"><span class=\"pre\">EuclideanMetric</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#feature\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Feature</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#identityfeature\"><code class=\"docutils literal notranslate\"><span class=\"pre\">IdentityFeature</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id39\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Metric</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#midpointfeature\"><code class=\"docutils literal notranslate\"><span class=\"pre\">MidpointFeature</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id42\"><code class=\"docutils literal notranslate\"><span class=\"pre\">MinimumAverageDirectFlipMetric</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id43\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ResampleFeature</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#sumpointwiseeuclideanmetric\"><code class=\"docutils literal notranslate\"><span class=\"pre\">SumPointwiseEuclideanMetric</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#vectorofendpointsfeature\"><code class=\"docutils literal notranslate\"><span class=\"pre\">VectorOfEndpointsFeature</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#dist\">dist</a></li>\n<li><a class=\"reference internal\" href=\"#distance-matrix\">distance_matrix</a></li>\n<li><a class=\"reference internal\" href=\"#mdf\">mdf</a></li>\n<li><a class=\"reference internal\" href=\"#id46\"><code class=\"docutils literal notranslate\"><span class=\"pre\">QuickBundles</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id49\">bundles_distances_mdf</a></li>\n<li><a class=\"reference internal\" href=\"#downsample\">downsample</a></li>\n<li><a class=\"reference internal\" href=\"#local-skeleton-clustering\">local_skeleton_clustering</a></li>\n<li><a class=\"reference internal\" href=\"#id50\">warn</a></li>\n<li><a class=\"reference internal\" href=\"#id51\">otsu</a></li>\n<li><a class=\"reference internal\" href=\"#upper-bound-by-percent\">upper_bound_by_percent</a></li>\n<li><a class=\"reference internal\" href=\"#upper-bound-by-rate\">upper_bound_by_rate</a></li>\n<li><a class=\"reference internal\" href=\"#constantobservationmodel\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ConstantObservationModel</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#iteratedconditionalmodes\"><code class=\"docutils literal notranslate\"><span class=\"pre\">IteratedConditionalModes</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#tissueclassifierhmrf\"><code class=\"docutils literal notranslate\"><span class=\"pre\">TissueClassifierHMRF</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#add-noise\">add_noise</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "reference/dipy.segment", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.11"}