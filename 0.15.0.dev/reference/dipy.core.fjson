{"parents": [{"link": "../../documentation/", "title": "Documentation"}, {"link": "../", "title": "API Reference"}], "prev": {"link": "../dipy.boots/", "title": "<code class=\"docutils literal notranslate\"><span class=\"pre\">boots</span></code>"}, "next": null, "title": "<code class=\"docutils literal notranslate\"><span class=\"pre\">core</span></code>", "meta": {}, "body": "<div class=\"section\" id=\"module-dipy.core\">\n<span id=\"core\"></span><h1><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">core</span></code><a class=\"headerlink\" href=\"#module-dipy.core\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>Core objects</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.test\" title=\"dipy.core.test\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">test</span></code></a></td>\n<td>Run tests for module using nose.</td>\n</tr>\n</tbody>\n</table>\n<div class=\"section\" id=\"module-dipy.core.geometry\">\n<span id=\"module-core-geometry\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">core.geometry</span></code><a class=\"headerlink\" href=\"#module-dipy.core.geometry\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Utility functions for algebra etc</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.cart2sphere\" title=\"dipy.core.geometry.cart2sphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">cart2sphere</span></code></a>(x,&nbsp;y,&nbsp;z)</td>\n<td>Return angles for Cartesian 3D coordinates <cite>x</cite>, <cite>y</cite>, and <cite>z</cite></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.cart_distance\" title=\"dipy.core.geometry.cart_distance\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">cart_distance</span></code></a>(pts1,&nbsp;pts2)</td>\n<td>Cartesian distance between <cite>pts1</cite> and <cite>pts2</cite></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.circumradius\" title=\"dipy.core.geometry.circumradius\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">circumradius</span></code></a>(a,&nbsp;b,&nbsp;c)</td>\n<td>a, b and c are 3-dimensional vectors which are the vertices of a triangle.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.compose_matrix\" title=\"dipy.core.geometry.compose_matrix\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">compose_matrix</span></code></a>([scale,&nbsp;shear,&nbsp;angles,&nbsp;\u2026])</td>\n<td>Return 4x4 transformation matrix from sequence of transformations.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.compose_transformations\" title=\"dipy.core.geometry.compose_transformations\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">compose_transformations</span></code></a>(*mats)</td>\n<td>Compose multiple 4x4 affine transformations in one 4x4 matrix</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.decompose_matrix\" title=\"dipy.core.geometry.decompose_matrix\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">decompose_matrix</span></code></a>(matrix)</td>\n<td>Return sequence of transformations from transformation matrix.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.dist_to_corner\" title=\"dipy.core.geometry.dist_to_corner\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dist_to_corner</span></code></a>(affine)</td>\n<td>Calculate the maximal distance from the center to a corner of a voxel, given an affine</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.euler_matrix\" title=\"dipy.core.geometry.euler_matrix\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">euler_matrix</span></code></a>(ai,&nbsp;aj,&nbsp;ak[,&nbsp;axes])</td>\n<td>Return homogeneous rotation matrix from Euler angles and axis sequence.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.lambert_equal_area_projection_cart\" title=\"dipy.core.geometry.lambert_equal_area_projection_cart\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">lambert_equal_area_projection_cart</span></code></a>(x,&nbsp;y,&nbsp;z)</td>\n<td>Lambert Equal Area Projection from cartesian vector to plane</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.lambert_equal_area_projection_polar\" title=\"dipy.core.geometry.lambert_equal_area_projection_polar\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">lambert_equal_area_projection_polar</span></code></a>(theta,&nbsp;phi)</td>\n<td>Lambert Equal Area Projection from polar sphere to plane</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.nearest_pos_semi_def\" title=\"dipy.core.geometry.nearest_pos_semi_def\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">nearest_pos_semi_def</span></code></a>(B)</td>\n<td>Least squares positive semi-definite tensor estimation</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.normalized_vector\" title=\"dipy.core.geometry.normalized_vector\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">normalized_vector</span></code></a>(vec[,&nbsp;axis])</td>\n<td>Return vector divided by its Euclidean (L2) norm</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.perpendicular_directions\" title=\"dipy.core.geometry.perpendicular_directions\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">perpendicular_directions</span></code></a>(v[,&nbsp;num,&nbsp;half])</td>\n<td>Computes n evenly spaced perpendicular directions relative to a given vector v</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.rodrigues_axis_rotation\" title=\"dipy.core.geometry.rodrigues_axis_rotation\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">rodrigues_axis_rotation</span></code></a>(r,&nbsp;theta)</td>\n<td>Rodrigues formula</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.setup_test\" title=\"dipy.core.geometry.setup_test\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">setup_test</span></code></a>()</td>\n<td>Set numpy print options to \u201clegacy\u201d for new versions of numpy</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.sph2latlon\" title=\"dipy.core.geometry.sph2latlon\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">sph2latlon</span></code></a>(theta,&nbsp;phi)</td>\n<td>Convert spherical coordinates to latitude and longitude.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.sphere2cart\" title=\"dipy.core.geometry.sphere2cart\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">sphere2cart</span></code></a>(r,&nbsp;theta,&nbsp;phi)</td>\n<td>Spherical to Cartesian coordinates</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.sphere_distance\" title=\"dipy.core.geometry.sphere_distance\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">sphere_distance</span></code></a>(pts1,&nbsp;pts2[,&nbsp;radius,&nbsp;\u2026])</td>\n<td>Distance across sphere surface between <cite>pts1</cite> and <cite>pts2</cite></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.vec2vec_rotmat\" title=\"dipy.core.geometry.vec2vec_rotmat\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">vec2vec_rotmat</span></code></a>(u,&nbsp;v)</td>\n<td>rotation matrix from 2 unit vectors</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.vector_cosine\" title=\"dipy.core.geometry.vector_cosine\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">vector_cosine</span></code></a>(vecs1,&nbsp;vecs2)</td>\n<td>Cosine of angle between two (sets of) vectors</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.geometry.vector_norm\" title=\"dipy.core.geometry.vector_norm\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">vector_norm</span></code></a>(vec[,&nbsp;axis,&nbsp;keepdims])</td>\n<td>Return vector Euclidean (L2) norm</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.core.gradients\">\n<span id=\"module-core-gradients\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">core.gradients</span></code><a class=\"headerlink\" href=\"#module-dipy.core.gradients\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.GradientTable\" title=\"dipy.core.gradients.GradientTable\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">GradientTable</span></code></a>(gradients[,&nbsp;big_delta,&nbsp;\u2026])</td>\n<td>Diffusion gradient information</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.HemiSphere\" title=\"dipy.core.gradients.HemiSphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">HemiSphere</span></code></a>([x,&nbsp;y,&nbsp;z,&nbsp;theta,&nbsp;phi,&nbsp;xyz,&nbsp;\u2026])</td>\n<td>Points on the unit sphere.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.auto_attr\" title=\"dipy.core.gradients.auto_attr\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">auto_attr</span></code></a>(func)</td>\n<td>Decorator to create OneTimeProperty attributes.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.check_multi_b\" title=\"dipy.core.gradients.check_multi_b\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">check_multi_b</span></code></a>(gtab,&nbsp;n_bvals[,&nbsp;non_zero,&nbsp;bmag])</td>\n<td>Check if you have enough different b-values in your gradient table</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.disperse_charges\" title=\"dipy.core.gradients.disperse_charges\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">disperse_charges</span></code></a>(hemi,&nbsp;iters[,&nbsp;const])</td>\n<td>Models electrostatic repulsion on the unit sphere</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.generate_bvecs\" title=\"dipy.core.gradients.generate_bvecs\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">generate_bvecs</span></code></a>(N[,&nbsp;iters])</td>\n<td>Generates N bvectors.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.gradient_table\" title=\"dipy.core.gradients.gradient_table\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">gradient_table</span></code></a>(bvals[,&nbsp;bvecs,&nbsp;big_delta,&nbsp;\u2026])</td>\n<td>A general function for creating diffusion MR gradients.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.gradient_table_from_bvals_bvecs\" title=\"dipy.core.gradients.gradient_table_from_bvals_bvecs\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">gradient_table_from_bvals_bvecs</span></code></a>(bvals,&nbsp;bvecs)</td>\n<td>Creates a GradientTable from a bvals array and a bvecs array</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.gradient_table_from_gradient_strength_bvecs\" title=\"dipy.core.gradients.gradient_table_from_gradient_strength_bvecs\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">gradient_table_from_gradient_strength_bvecs</span></code></a>(\u2026)</td>\n<td>A general function for creating diffusion MR gradients.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.gradient_table_from_qvals_bvecs\" title=\"dipy.core.gradients.gradient_table_from_qvals_bvecs\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">gradient_table_from_qvals_bvecs</span></code></a>(qvals,&nbsp;\u2026)</td>\n<td>A general function for creating diffusion MR gradients.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.inv\" title=\"dipy.core.gradients.inv\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">inv</span></code></a>(a[,&nbsp;overwrite_a,&nbsp;check_finite])</td>\n<td>Compute the inverse of a matrix.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.polar\" title=\"dipy.core.gradients.polar\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">polar</span></code></a>(a[,&nbsp;side])</td>\n<td>Compute the polar decomposition.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.reorient_bvecs\" title=\"dipy.core.gradients.reorient_bvecs\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">reorient_bvecs</span></code></a>(gtab,&nbsp;affines)</td>\n<td>Reorient the directions in a GradientTable.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.vector_norm\" title=\"dipy.core.gradients.vector_norm\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">vector_norm</span></code></a>(vec[,&nbsp;axis,&nbsp;keepdims])</td>\n<td>Return vector Euclidean (L2) norm</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.warn\" title=\"dipy.core.gradients.warn\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">warn</span></code></a></td>\n<td>Issue a warning, or maybe ignore it or raise an exception.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.core.graph\">\n<span id=\"module-core-graph\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">core.graph</span></code><a class=\"headerlink\" href=\"#module-dipy.core.graph\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>A simple graph class</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.graph.Graph\" title=\"dipy.core.graph.Graph\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Graph</span></code></a>()</td>\n<td>A simple graph class</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.core.histeq\">\n<span id=\"module-core-histeq\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">core.histeq</span></code><a class=\"headerlink\" href=\"#module-dipy.core.histeq\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.histeq.histeq\" title=\"dipy.core.histeq.histeq\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">histeq</span></code></a>(arr[,&nbsp;num_bins])</td>\n<td>Performs an histogram equalization on <code class=\"docutils literal notranslate\"><span class=\"pre\">arr</span></code>.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.core.ndindex\">\n<span id=\"module-core-ndindex\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">core.ndindex</span></code><a class=\"headerlink\" href=\"#module-dipy.core.ndindex\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.ndindex.as_strided\" title=\"dipy.core.ndindex.as_strided\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">as_strided</span></code></a>(x[,&nbsp;shape,&nbsp;strides,&nbsp;subok,&nbsp;writeable])</td>\n<td>Create a view into the array with the given shape and strides.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.ndindex.ndindex\" title=\"dipy.core.ndindex.ndindex\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ndindex</span></code></a>(shape)</td>\n<td>An N-dimensional iterator object to index arrays.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.core.onetime\">\n<span id=\"module-core-onetime\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">core.onetime</span></code><a class=\"headerlink\" href=\"#module-dipy.core.onetime\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Descriptor support for NIPY.</p>\n<p>Copyright (c) 2006-2011, NIPY Developers\nAll rights reserved.</p>\n<p>Redistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:</p>\n<blockquote>\n<div><ul class=\"simple\">\n<li><dl class=\"first docutils\">\n<dt>Redistributions of source code must retain the above copyright</dt>\n<dd>notice, this list of conditions and the following disclaimer.</dd>\n</dl>\n</li>\n<li><dl class=\"first docutils\">\n<dt>Redistributions in binary form must reproduce the above</dt>\n<dd>copyright notice, this list of conditions and the following\ndisclaimer in the documentation and/or other materials provided\nwith the distribution.</dd>\n</dl>\n</li>\n<li><dl class=\"first docutils\">\n<dt>Neither the name of the NIPY Developers nor the names of any</dt>\n<dd>contributors may be used to endorse or promote products derived\nfrom this software without specific prior written permission.</dd>\n</dl>\n</li>\n</ul>\n</div></blockquote>\n<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n\u201cAS IS\u201d AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>\n<p>Utilities to support special Python descriptors [1,2], in particular the use of\na useful pattern for properties we call \u2018one time properties\u2019.  These are\nobject attributes which are declared as properties, but become regular\nattributes once they\u2019ve been read the first time.  They can thus be evaluated\nlater in the object\u2019s life cycle, but once evaluated they become normal, static\nattributes with no function call overhead on access or any other constraints.</p>\n<p>A special ResetMixin class is provided to add a .reset() method to users who\nmay want to have their objects capable of resetting these computed properties\nto their \u2018untriggered\u2019 state.</p>\n<div class=\"section\" id=\"references\">\n<h3>References<a class=\"headerlink\" href=\"#references\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>[1] How-To Guide for Descriptors, Raymond\nHettinger. <a class=\"reference external\" href=\"http://users.rcn.com/python/download/Descriptor.htm\">http://users.rcn.com/python/download/Descriptor.htm</a></p>\n<p>[2] Python data model, <a class=\"reference external\" href=\"http://docs.python.org/reference/datamodel.html\">http://docs.python.org/reference/datamodel.html</a></p>\n</div>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.onetime.OneTimeProperty\" title=\"dipy.core.onetime.OneTimeProperty\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">OneTimeProperty</span></code></a>(func)</td>\n<td>A descriptor to make special properties that become normal attributes.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.onetime.ResetMixin\" title=\"dipy.core.onetime.ResetMixin\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ResetMixin</span></code></a></td>\n<td>A Mixin class to add a .reset() method to users of OneTimeProperty.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.onetime.auto_attr\" title=\"dipy.core.onetime.auto_attr\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">auto_attr</span></code></a>(func)</td>\n<td>Decorator to create OneTimeProperty attributes.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.onetime.setattr_on_read\" title=\"dipy.core.onetime.setattr_on_read\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">setattr_on_read</span></code></a>(func)</td>\n<td>Decorator to create OneTimeProperty attributes.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.core.optimize\">\n<span id=\"module-core-optimize\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">core.optimize</span></code><a class=\"headerlink\" href=\"#module-dipy.core.optimize\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>A unified interface for performing and debugging optimization problems.</p>\n<p>Only L-BFGS-B and Powell is supported in this class for versions of\nScipy &lt; 0.12. All optimizers are available for scipy &gt;= 0.12.</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.optimize.LooseVersion\" title=\"dipy.core.optimize.LooseVersion\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">LooseVersion</span></code></a>([vstring])</td>\n<td>Version numbering for anarchists and software realists.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.optimize.NonNegativeLeastSquares\" title=\"dipy.core.optimize.NonNegativeLeastSquares\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">NonNegativeLeastSquares</span></code></a>(*args,&nbsp;**kwargs)</td>\n<td>A sklearn-like interface to scipy.optimize.nnls</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.optimize.Optimizer\" title=\"dipy.core.optimize.Optimizer\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Optimizer</span></code></a>(fun,&nbsp;x0[,&nbsp;args,&nbsp;method,&nbsp;jac,&nbsp;\u2026])</td>\n<td><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"></td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.optimize.SKLearnLinearSolver\" title=\"dipy.core.optimize.SKLearnLinearSolver\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">SKLearnLinearSolver</span></code></a>(*args,&nbsp;**kwargs)</td>\n<td>Provide a sklearn-like uniform interface to algorithms that solve problems of the form: <span class=\"math notranslate nohighlight\">\\(y = Ax\\)</span> for <span class=\"math notranslate nohighlight\">\\(x\\)</span></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.optimize.minimize\" title=\"dipy.core.optimize.minimize\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">minimize</span></code></a>(fun,&nbsp;x0[,&nbsp;args,&nbsp;method,&nbsp;jac,&nbsp;hess,&nbsp;\u2026])</td>\n<td>Minimization of scalar function of one or more variables.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.optimize.sparse_nnls\" title=\"dipy.core.optimize.sparse_nnls\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">sparse_nnls</span></code></a>(y,&nbsp;X[,&nbsp;momentum,&nbsp;step_size,&nbsp;\u2026])</td>\n<td>Solve y=Xh for h, using gradient descent, with X a sparse matrix</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.optimize.spdot\" title=\"dipy.core.optimize.spdot\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">spdot</span></code></a>(A,&nbsp;B)</td>\n<td>The same as np.dot(A, B), except it works even if A or B or both are sparse matrices.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.optimize.with_metaclass\" title=\"dipy.core.optimize.with_metaclass\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">with_metaclass</span></code></a>(meta,&nbsp;*bases)</td>\n<td>Create a base class with a metaclass.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.core.profile\">\n<span id=\"module-core-profile\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">core.profile</span></code><a class=\"headerlink\" href=\"#module-dipy.core.profile\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Class for profiling cython code</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.profile.Profiler\" title=\"dipy.core.profile.Profiler\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Profiler</span></code></a>([call])</td>\n<td>Profile python/cython files or functions</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.profile.optional_package\" title=\"dipy.core.profile.optional_package\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">optional_package</span></code></a>(name[,&nbsp;trip_msg])</td>\n<td>Return package-like thing and module setup for package <cite>name</cite></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.core.rng\">\n<span id=\"module-core-rng\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">core.rng</span></code><a class=\"headerlink\" href=\"#module-dipy.core.rng\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Random number generation utilities</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.rng.LEcuyer\" title=\"dipy.core.rng.LEcuyer\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">LEcuyer</span></code></a>()</td>\n<td>Generate uniformly distributed random numbers using the 32-bit generator from figure 3 of:     L\u2019Ecuyer, P.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.rng.WichmannHill1982\" title=\"dipy.core.rng.WichmannHill1982\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">WichmannHill1982</span></code></a>()</td>\n<td>Algorithm AS 183 Appl.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.rng.WichmannHill2006\" title=\"dipy.core.rng.WichmannHill2006\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">WichmannHill2006</span></code></a>()</td>\n<td>B.A.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.rng.architecture\" title=\"dipy.core.rng.architecture\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">architecture</span></code></a>([executable,&nbsp;bits,&nbsp;linkage])</td>\n<td>Queries the given executable (defaults to the Python interpreter binary) for various architecture information.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.rng.floor\" title=\"dipy.core.rng.floor\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">floor</span></code></a>(x)</td>\n<td>Return the floor of x as an Integral.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.core.sphere\">\n<span id=\"module-core-sphere\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">core.sphere</span></code><a class=\"headerlink\" href=\"#module-dipy.core.sphere\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.HemiSphere\" title=\"dipy.core.sphere.HemiSphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">HemiSphere</span></code></a>([x,&nbsp;y,&nbsp;z,&nbsp;theta,&nbsp;phi,&nbsp;xyz,&nbsp;\u2026])</td>\n<td>Points on the unit sphere.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.Sphere\" title=\"dipy.core.sphere.Sphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Sphere</span></code></a>([x,&nbsp;y,&nbsp;z,&nbsp;theta,&nbsp;phi,&nbsp;xyz,&nbsp;faces,&nbsp;edges])</td>\n<td>Points on the unit sphere.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.xrange\" title=\"dipy.core.sphere.xrange\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">xrange</span></code></a></td>\n<td>alias of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">builtins.range</span></code></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.auto_attr\" title=\"dipy.core.sphere.auto_attr\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">auto_attr</span></code></a>(func)</td>\n<td>Decorator to create OneTimeProperty attributes.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.cart2sphere\" title=\"dipy.core.sphere.cart2sphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">cart2sphere</span></code></a>(x,&nbsp;y,&nbsp;z)</td>\n<td>Return angles for Cartesian 3D coordinates <cite>x</cite>, <cite>y</cite>, and <cite>z</cite></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.disperse_charges\" title=\"dipy.core.sphere.disperse_charges\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">disperse_charges</span></code></a>(hemi,&nbsp;iters[,&nbsp;const])</td>\n<td>Models electrostatic repulsion on the unit sphere</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.euler_characteristic_check\" title=\"dipy.core.sphere.euler_characteristic_check\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">euler_characteristic_check</span></code></a>(sphere[,&nbsp;chi])</td>\n<td>Checks the euler characteristic of a sphere</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.faces_from_sphere_vertices\" title=\"dipy.core.sphere.faces_from_sphere_vertices\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">faces_from_sphere_vertices</span></code></a>(vertices)</td>\n<td>Triangulate a set of vertices on the sphere.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.interp_rbf\" title=\"dipy.core.sphere.interp_rbf\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">interp_rbf</span></code></a>(data,&nbsp;sphere_origin,&nbsp;sphere_target)</td>\n<td>Interpolate data on the sphere, using radial basis functions.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.remove_similar_vertices\" title=\"dipy.core.sphere.remove_similar_vertices\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">remove_similar_vertices</span></code></a></td>\n<td>Remove vertices that are less than <cite>theta</cite> degrees from any other</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.sphere2cart\" title=\"dipy.core.sphere.sphere2cart\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">sphere2cart</span></code></a>(r,&nbsp;theta,&nbsp;phi)</td>\n<td>Spherical to Cartesian coordinates</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.unique_edges\" title=\"dipy.core.sphere.unique_edges\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">unique_edges</span></code></a>(faces[,&nbsp;return_mapping])</td>\n<td>Extract all unique edges from given triangular faces.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.unique_sets\" title=\"dipy.core.sphere.unique_sets\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">unique_sets</span></code></a>(sets[,&nbsp;return_inverse])</td>\n<td>Remove duplicate sets.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.vector_norm\" title=\"dipy.core.sphere.vector_norm\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">vector_norm</span></code></a>(vec[,&nbsp;axis,&nbsp;keepdims])</td>\n<td>Return vector Euclidean (L2) norm</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.core.sphere_stats\">\n<span id=\"module-core-sphere-stats\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">core.sphere_stats</span></code><a class=\"headerlink\" href=\"#module-dipy.core.sphere_stats\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Statistics on spheres</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere_stats.permutations\" title=\"dipy.core.sphere_stats.permutations\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">permutations</span></code></a></td>\n<td>permutations(iterable[, r]) \u2013&gt; permutations object</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere_stats.angular_similarity\" title=\"dipy.core.sphere_stats.angular_similarity\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">angular_similarity</span></code></a>(S,&nbsp;T)</td>\n<td>Computes the cosine distance of the best match between points of two sets of vectors S and T</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere_stats.compare_orientation_sets\" title=\"dipy.core.sphere_stats.compare_orientation_sets\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">compare_orientation_sets</span></code></a>(S,&nbsp;T)</td>\n<td>Computes the mean cosine distance of the best match between points of two sets of vectors S and T (angular similarity)</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere_stats.eigenstats\" title=\"dipy.core.sphere_stats.eigenstats\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">eigenstats</span></code></a>(points[,&nbsp;alpha])</td>\n<td>Principal direction and confidence ellipse</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere_stats.random_uniform_on_sphere\" title=\"dipy.core.sphere_stats.random_uniform_on_sphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">random_uniform_on_sphere</span></code></a>([n,&nbsp;coords])</td>\n<td>Random unit vectors from a uniform distribution on the sphere.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.core.subdivide_octahedron\">\n<span id=\"module-core-subdivide-octahedron\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">core.subdivide_octahedron</span></code><a class=\"headerlink\" href=\"#module-dipy.core.subdivide_octahedron\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Create a unit sphere by subdividing all triangles of an octahedron\nrecursively.</p>\n<p>The unit sphere has a radius of 1, which also means that all points in this\nsphere (assumed to have centre at [0, 0, 0]) have an absolute value (modulus)\nof 1. Another feature of the unit sphere is that the unit normals of this\nsphere are exactly the same as the vertices.</p>\n<p>This recursive method will avoid the common problem of the polar singularity,\nproduced by 2d (lon-lat) parameterization methods.</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.subdivide_octahedron.HemiSphere\" title=\"dipy.core.subdivide_octahedron.HemiSphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">HemiSphere</span></code></a>([x,&nbsp;y,&nbsp;z,&nbsp;theta,&nbsp;phi,&nbsp;xyz,&nbsp;\u2026])</td>\n<td>Points on the unit sphere.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.subdivide_octahedron.create_unit_hemisphere\" title=\"dipy.core.subdivide_octahedron.create_unit_hemisphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">create_unit_hemisphere</span></code></a>([recursion_level])</td>\n<td>Creates a unit sphere by subdividing a unit octahedron, returns half the sphere.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.subdivide_octahedron.create_unit_sphere\" title=\"dipy.core.subdivide_octahedron.create_unit_sphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">create_unit_sphere</span></code></a>([recursion_level])</td>\n<td>Creates a unit sphere by subdividing a unit octahedron.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.core.wavelet\">\n<span id=\"module-core-wavelet\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">core.wavelet</span></code><a class=\"headerlink\" href=\"#module-dipy.core.wavelet\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.wavelet.afb3D\" title=\"dipy.core.wavelet.afb3D\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">afb3D</span></code></a>(x,&nbsp;af1[,&nbsp;af2,&nbsp;af3])</td>\n<td>3D Analysis Filter Bank</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.wavelet.afb3D_A\" title=\"dipy.core.wavelet.afb3D_A\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">afb3D_A</span></code></a>(x,&nbsp;af,&nbsp;d)</td>\n<td>3D Analysis Filter Bank</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.wavelet.cshift3D\" title=\"dipy.core.wavelet.cshift3D\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">cshift3D</span></code></a>(x,&nbsp;m,&nbsp;d)</td>\n<td>3D Circular Shift</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.wavelet.dwt3D\" title=\"dipy.core.wavelet.dwt3D\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dwt3D</span></code></a>(x,&nbsp;J,&nbsp;af)</td>\n<td>3-D Discrete Wavelet Transform</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.wavelet.idwt3D\" title=\"dipy.core.wavelet.idwt3D\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">idwt3D</span></code></a>(w,&nbsp;J,&nbsp;sf)</td>\n<td>Inverse 3-D Discrete Wavelet Transform</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.wavelet.permutationinverse\" title=\"dipy.core.wavelet.permutationinverse\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">permutationinverse</span></code></a>(perm)</td>\n<td>Function generating inverse of the permutation</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.wavelet.sfb3D\" title=\"dipy.core.wavelet.sfb3D\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">sfb3D</span></code></a>(lo,&nbsp;hi,&nbsp;sf1[,&nbsp;sf2,&nbsp;sf3])</td>\n<td>3D Synthesis Filter Bank</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.wavelet.sfb3D_A\" title=\"dipy.core.wavelet.sfb3D_A\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">sfb3D_A</span></code></a>(lo,&nbsp;hi,&nbsp;sf,&nbsp;d)</td>\n<td>3D Synthesis Filter Bank</td>\n</tr>\n</tbody>\n</table>\n<div class=\"section\" id=\"test\">\n<h3>test<a class=\"headerlink\" href=\"#test\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.test\">\n<code class=\"descclassname\">dipy.core.</code><code class=\"descname\">test</code><span class=\"sig-paren\">(</span><em>label='fast'</em>, <em>verbose=1</em>, <em>extra_argv=None</em>, <em>doctests=False</em>, <em>coverage=False</em>, <em>raise_warnings=None</em>, <em>timer=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.test\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Run tests for module using nose.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>label</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{\u2018fast\u2019, \u2018full\u2019, \u2018\u2019, attribute identifier}, optional</span></dt>\n<dd><p class=\"first\">Identifies the tests to run. This can be a string to pass to\nthe nosetests executable with the \u2018-A\u2019 option, or one of several\nspecial values.  Special values are:\n* \u2018fast\u2019 - the default - which corresponds to the <code class=\"docutils literal notranslate\"><span class=\"pre\">nosetests</span> <span class=\"pre\">-A</span></code></p>\n<blockquote>\n<div><p>option of \u2018not slow\u2019.</p>\n</div></blockquote>\n<ul class=\"simple\">\n<li>\u2018full\u2019 - fast (as above) and slow tests as in the\n\u2018no -A\u2019 option to nosetests - this is the same as \u2018\u2019.</li>\n<li>None or \u2018\u2019 - run all tests.</li>\n</ul>\n<p class=\"last\">attribute_identifier - string passed directly to nosetests as \u2018-A\u2019.</p>\n</dd>\n<dt><strong>verbose</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">Verbosity value for test outputs, in the range 1-10. Default is 1.</p>\n</dd>\n<dt><strong>extra_argv</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list, optional</span></dt>\n<dd><p class=\"first last\">List with any extra arguments to pass to nosetests.</p>\n</dd>\n<dt><strong>doctests</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><p class=\"first last\">If True, run doctests in module. Default is False.</p>\n</dd>\n<dt><strong>coverage</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><p class=\"first\">If True, report coverage of NumPy code. Default is False.\n(This requires the <a href=\"#id1\"><span class=\"problematic\" id=\"id2\">`</span></a>coverage module:</p>\n<blockquote class=\"last\">\n<div><p>&lt;<a class=\"reference external\" href=\"http://nedbatchelder.com/code/modules/coverage.html\">http://nedbatchelder.com/code/modules/coverage.html</a>&gt;`_).</p>\n</div></blockquote>\n</dd>\n<dt><strong>raise_warnings</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">None, str or sequence of warnings, optional</span></dt>\n<dd><p class=\"first\">This specifies which warnings to configure as \u2018raise\u2019 instead\nof being shown once during the test execution.  Valid strings are:</p>\n<blockquote>\n<div><ul class=\"simple\">\n<li>\u201cdevelop\u201d : equals <code class=\"docutils literal notranslate\"><span class=\"pre\">(Warning,)</span></code></li>\n<li>\u201crelease\u201d : equals <code class=\"docutils literal notranslate\"><span class=\"pre\">()</span></code>, don\u2019t raise on any warnings.</li>\n</ul>\n</div></blockquote>\n<p class=\"last\">The default is to use the class initialization value.</p>\n</dd>\n<dt><strong>timer</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool or int, optional</span></dt>\n<dd><p class=\"first last\">Timing of individual tests with <code class=\"docutils literal notranslate\"><span class=\"pre\">nose-timer</span></code> (which needs to be\ninstalled).  If True, time tests and report on all of them.\nIf an integer (say <code class=\"docutils literal notranslate\"><span class=\"pre\">N</span></code>), report timing results for <code class=\"docutils literal notranslate\"><span class=\"pre\">N</span></code> slowest\ntests.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>result</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">object</span></dt>\n<dd><p class=\"first last\">Returns the result of running the tests as a\n<code class=\"docutils literal notranslate\"><span class=\"pre\">nose.result.TextTestResult</span></code> object.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>Each NumPy module exposes <cite>test</cite> in its namespace to run all tests for it.\nFor example, to run all tests for numpy.lib:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">test</span><span class=\"p\">()</span> \n</pre></div>\n</div>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">test</span><span class=\"p\">()</span> \n<span class=\"go\">Running unit tests for numpy.lib</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">Ran 976 tests in 3.933s</span>\n</pre></div>\n</div>\n<p>OK</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">result</span><span class=\"o\">.</span><span class=\"n\">errors</span> \n<span class=\"go\">[]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">result</span><span class=\"o\">.</span><span class=\"n\">knownfail</span> \n<span class=\"go\">[]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"cart2sphere\">\n<h3>cart2sphere<a class=\"headerlink\" href=\"#cart2sphere\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.cart2sphere\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">cart2sphere</code><span class=\"sig-paren\">(</span><em>x</em>, <em>y</em>, <em>z</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.cart2sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return angles for Cartesian 3D coordinates <cite>x</cite>, <cite>y</cite>, and <cite>z</cite></p>\n<p>See doc for <code class=\"docutils literal notranslate\"><span class=\"pre\">sphere2cart</span></code> for angle conventions and derivation\nof the formulae.</p>\n<p><span class=\"math notranslate nohighlight\">\\(0\\le\\theta\\mathrm{(theta)}\\le\\pi\\)</span> and <span class=\"math notranslate nohighlight\">\\(-\\pi\\le\\phi\\mathrm{(phi)}\\le\\pi\\)</span></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>x</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">x coordinate in Cartesian space</p>\n</dd>\n<dt><strong>y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">y coordinate in Cartesian space</p>\n</dd>\n<dt><strong>z</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">z coordinate</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>r</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">radius</p>\n</dd>\n<dt><strong>theta</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">inclination (polar) angle</p>\n</dd>\n<dt><strong>phi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">azimuth angle</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"cart-distance\">\n<h3>cart_distance<a class=\"headerlink\" href=\"#cart-distance\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.cart_distance\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">cart_distance</code><span class=\"sig-paren\">(</span><em>pts1</em>, <em>pts2</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.cart_distance\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Cartesian distance between <cite>pts1</cite> and <cite>pts2</cite></p>\n<p>If either of <cite>pts1</cite> or <cite>pts2</cite> is 2D, then we take the first\ndimension to index points, and the second indexes coordinate.  More\ngenerally, we take the last dimension to be the coordinate\ndimension.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>pts1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,R) or (R,) array_like</span></dt>\n<dd><p class=\"first last\">where N is the number of points and R is the number of\ncoordinates defining a point (<code class=\"docutils literal notranslate\"><span class=\"pre\">R==3</span></code> for 3D)</p>\n</dd>\n<dt><strong>pts2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,R) or (R,) array_like</span></dt>\n<dd><p class=\"first last\">where N is the number of points and R is the number of\ncoordinates defining a point (<code class=\"docutils literal notranslate\"><span class=\"pre\">R==3</span></code> for 3D).  It should be\npossible to broadcast <cite>pts1</cite> against <cite>pts2</cite></p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>d</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,) or (0,) array</span></dt>\n<dd><p class=\"first last\">Cartesian distances between corresponding points in <cite>pts1</cite> and\n<cite>pts2</cite></p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<dl class=\"last docutils\">\n<dt><a class=\"reference internal\" href=\"#dipy.core.geometry.sphere_distance\" title=\"dipy.core.geometry.sphere_distance\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">sphere_distance</span></code></a></dt>\n<dd>distance between points on sphere surface</dd>\n</dl>\n</div>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cart_distance</span><span class=\"p\">([</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">])</span>\n<span class=\"go\">3.0</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"circumradius\">\n<h3>circumradius<a class=\"headerlink\" href=\"#circumradius\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.circumradius\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">circumradius</code><span class=\"sig-paren\">(</span><em>a</em>, <em>b</em>, <em>c</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.circumradius\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>a, b and c are 3-dimensional vectors which are the vertices of a\ntriangle. The function returns the circumradius of the triangle, i.e\nthe radius of the smallest circle that can contain the triangle. In\nthe degenerate case when the 3 points are collinear it returns\nhalf the distance between the furthest apart points.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>a, b, c</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(3,) array_like</span></dt>\n<dd><p class=\"first last\">the three vertices of the triangle</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>circumradius</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">the desired circumradius</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"compose-matrix\">\n<h3>compose_matrix<a class=\"headerlink\" href=\"#compose-matrix\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.compose_matrix\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">compose_matrix</code><span class=\"sig-paren\">(</span><em>scale=None</em>, <em>shear=None</em>, <em>angles=None</em>, <em>translate=None</em>, <em>perspective=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.compose_matrix\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return 4x4 transformation matrix from sequence of\ntransformations.</p>\n<p>Code modified from the work of Christoph Gohlke link provided here\n<a class=\"reference external\" href=\"http://www.lfd.uci.edu/~gohlke/code/transformations.py.html\">http://www.lfd.uci.edu/~gohlke/code/transformations.py.html</a></p>\n<p>This is the inverse of the <code class=\"docutils literal notranslate\"><span class=\"pre\">decompose_matrix</span></code> function.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>scale</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(3,) array_like</span></dt>\n<dd><p class=\"first last\">Scaling factors.</p>\n</dd>\n<dt><strong>shear</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">Shear factors for x-y, x-z, y-z axes.</p>\n</dd>\n<dt><strong>angles</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">Euler angles about static x, y, z axes.</p>\n</dd>\n<dt><strong>translate</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">Translation vector along x, y, z axes.</p>\n</dd>\n<dt><strong>perspective</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">Perspective partition of matrix.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>matrix</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">4x4 array</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">math</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">dipy.core.geometry</span> <span class=\"k\">as</span> <span class=\"nn\">gm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">scale</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">)</span> <span class=\"o\">-</span> <span class=\"mf\">0.5</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">shear</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">)</span> <span class=\"o\">-</span> <span class=\"mf\">0.5</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">angles</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">)</span> <span class=\"o\">-</span> <span class=\"mf\">0.5</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"o\">*</span><span class=\"n\">math</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">trans</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">)</span> <span class=\"o\">-</span> <span class=\"mf\">0.5</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">persp</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">)</span> <span class=\"o\">-</span> <span class=\"mf\">0.5</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">M0</span> <span class=\"o\">=</span> <span class=\"n\">gm</span><span class=\"o\">.</span><span class=\"n\">compose_matrix</span><span class=\"p\">(</span><span class=\"n\">scale</span><span class=\"p\">,</span> <span class=\"n\">shear</span><span class=\"p\">,</span> <span class=\"n\">angles</span><span class=\"p\">,</span> <span class=\"n\">trans</span><span class=\"p\">,</span> <span class=\"n\">persp</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"compose-transformations\">\n<h3>compose_transformations<a class=\"headerlink\" href=\"#compose-transformations\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.compose_transformations\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">compose_transformations</code><span class=\"sig-paren\">(</span><em>*mats</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.compose_transformations\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Compose multiple 4x4 affine transformations in one 4x4 matrix</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>mat1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, (4, 4)</span></dt>\n<dd></dd>\n<dt><strong>mat2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, (4, 4)</span></dt>\n<dd></dd>\n<dt><strong>\u2026</strong></dt>\n<dd></dd>\n<dt><strong>matN</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, (4, 4)</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>matN x \u2026 x mat2 x mat1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, (4, 4)</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"decompose-matrix\">\n<h3>decompose_matrix<a class=\"headerlink\" href=\"#decompose-matrix\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.decompose_matrix\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">decompose_matrix</code><span class=\"sig-paren\">(</span><em>matrix</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.decompose_matrix\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return sequence of transformations from transformation matrix.</p>\n<p>Code modified from the excellent work of Christoph Gohlke link provided\nhere: <a class=\"reference external\" href=\"http://www.lfd.uci.edu/~gohlke/code/transformations.py.html\">http://www.lfd.uci.edu/~gohlke/code/transformations.py.html</a></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>matrix</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">Non-degenerative homogeneous transformation matrix</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>scale</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(3,) ndarray</span></dt>\n<dd><p class=\"first last\">Three scaling factors.</p>\n</dd>\n<dt><strong>shear</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(3,) ndarray</span></dt>\n<dd><p class=\"first last\">Shear factors for x-y, x-z, y-z axes.</p>\n</dd>\n<dt><strong>angles</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(3,) ndarray</span></dt>\n<dd><p class=\"first last\">Euler angles about static x, y, z axes.</p>\n</dd>\n<dt><strong>translate</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(3,) ndarray</span></dt>\n<dd><p class=\"first last\">Translation vector along x, y, z axes.</p>\n</dd>\n<dt><strong>perspective</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Perspective partition of matrix.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-odd field\"><th class=\"field-name\">Raises:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>ValueError</strong></dt>\n<dd><p class=\"first last\">If matrix is of wrong type or degenerative.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">T0</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">diag</span><span class=\"p\">([</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">scale</span><span class=\"p\">,</span> <span class=\"n\">shear</span><span class=\"p\">,</span> <span class=\"n\">angles</span><span class=\"p\">,</span> <span class=\"n\">trans</span><span class=\"p\">,</span> <span class=\"n\">persp</span> <span class=\"o\">=</span> <span class=\"n\">decompose_matrix</span><span class=\"p\">(</span><span class=\"n\">T0</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"dist-to-corner\">\n<h3>dist_to_corner<a class=\"headerlink\" href=\"#dist-to-corner\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.dist_to_corner\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">dist_to_corner</code><span class=\"sig-paren\">(</span><em>affine</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.dist_to_corner\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculate the maximal distance from the center to a corner of a voxel,\ngiven an affine</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">4 by 4 array.</span></dt>\n<dd><p class=\"first last\">The spatial transformation from the measurement to the scanner space.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>dist: float</strong></dt>\n<dd><p class=\"first last\">The maximal distance to the corner of a voxel, given voxel size encoded\nin the affine.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"euler-matrix\">\n<h3>euler_matrix<a class=\"headerlink\" href=\"#euler-matrix\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.euler_matrix\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">euler_matrix</code><span class=\"sig-paren\">(</span><em>ai</em>, <em>aj</em>, <em>ak</em>, <em>axes='sxyz'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.euler_matrix\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return homogeneous rotation matrix from Euler angles and axis sequence.</p>\n<p>Code modified from the work of Christoph Gohlke link provided here\n<a class=\"reference external\" href=\"http://www.lfd.uci.edu/~gohlke/code/transformations.py.html\">http://www.lfd.uci.edu/~gohlke/code/transformations.py.html</a></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>ai, aj, ak</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Euler\u2019s roll, pitch and yaw angles</span></dt>\n<dd></dd>\n<dt><strong>axes</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">One of 24 axis sequences as string or encoded tuple</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>matrix</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray (4, 4)</span></dt>\n<dd></dd>\n<dt><strong>Code modified from the work of Christoph Gohlke link provided here</strong></dt>\n<dd></dd>\n<dt><strong>http://www.lfd.uci.edu/~gohlke/code/transformations.py.html</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">R</span> <span class=\"o\">=</span> <span class=\"n\">euler_matrix</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;syxz&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">allclose</span><span class=\"p\">(</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">(</span><span class=\"n\">R</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]),</span> <span class=\"o\">-</span><span class=\"mf\">1.34786452</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">R</span> <span class=\"o\">=</span> <span class=\"n\">euler_matrix</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">allclose</span><span class=\"p\">(</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">(</span><span class=\"n\">R</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]),</span> <span class=\"o\">-</span><span class=\"mf\">0.383436184</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ai</span><span class=\"p\">,</span> <span class=\"n\">aj</span><span class=\"p\">,</span> <span class=\"n\">ak</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mf\">4.0</span><span class=\"o\">*</span><span class=\"n\">math</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"p\">(</span><span class=\"n\">numpy</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">)</span> <span class=\"o\">-</span> <span class=\"mf\">0.5</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">axes</span> <span class=\"ow\">in</span> <span class=\"n\">_AXES2TUPLE</span><span class=\"o\">.</span><span class=\"n\">keys</span><span class=\"p\">():</span>\n<span class=\"gp\">... </span>   <span class=\"n\">_</span> <span class=\"o\">=</span> <span class=\"n\">euler_matrix</span><span class=\"p\">(</span><span class=\"n\">ai</span><span class=\"p\">,</span> <span class=\"n\">aj</span><span class=\"p\">,</span> <span class=\"n\">ak</span><span class=\"p\">,</span> <span class=\"n\">axes</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">axes</span> <span class=\"ow\">in</span> <span class=\"n\">_TUPLE2AXES</span><span class=\"o\">.</span><span class=\"n\">keys</span><span class=\"p\">():</span>\n<span class=\"gp\">... </span>   <span class=\"n\">_</span> <span class=\"o\">=</span> <span class=\"n\">euler_matrix</span><span class=\"p\">(</span><span class=\"n\">ai</span><span class=\"p\">,</span> <span class=\"n\">aj</span><span class=\"p\">,</span> <span class=\"n\">ak</span><span class=\"p\">,</span> <span class=\"n\">axes</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"lambert-equal-area-projection-cart\">\n<h3>lambert_equal_area_projection_cart<a class=\"headerlink\" href=\"#lambert-equal-area-projection-cart\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.lambert_equal_area_projection_cart\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">lambert_equal_area_projection_cart</code><span class=\"sig-paren\">(</span><em>x</em>, <em>y</em>, <em>z</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.lambert_equal_area_projection_cart\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Lambert Equal Area Projection from cartesian vector to plane</p>\n<p>Return positions in <span class=\"math notranslate nohighlight\">\\((y_1,y_2)\\)</span> plane corresponding to the\ndirections of the vectors with cartesian coordinates xyz under the\nLambert Equal Area Projection mapping (see Mardia and Jupp (2000),\nDirectional Statistics, p. 161).</p>\n<p>The Lambert EAP maps the upper hemisphere to the planar disc of radius 1\nand the lower hemisphere to the planar annulus between radii 1 and 2,\nThe Lambert EAP maps the upper hemisphere to the planar disc of radius 1\nand the lower hemisphere to the planar annulus between radii 1 and 2.\nand <em>vice versa</em>.</p>\n<p>See doc for <code class=\"docutils literal notranslate\"><span class=\"pre\">sphere2cart</span></code> for angle conventions</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>x</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">x coordinate in Cartesion space</p>\n</dd>\n<dt><strong>y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">y coordinate in Cartesian space</p>\n</dd>\n<dt><strong>z</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">z coordinate</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,2) array</span></dt>\n<dd><p class=\"first last\">planar coordinates of points following mapping by Lambert\u2019s EAP.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"lambert-equal-area-projection-polar\">\n<h3>lambert_equal_area_projection_polar<a class=\"headerlink\" href=\"#lambert-equal-area-projection-polar\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.lambert_equal_area_projection_polar\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">lambert_equal_area_projection_polar</code><span class=\"sig-paren\">(</span><em>theta</em>, <em>phi</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.lambert_equal_area_projection_polar\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Lambert Equal Area Projection from polar sphere to plane</p>\n<p>Return positions in (y1,y2) plane corresponding to the points\nwith polar coordinates (theta, phi) on the unit sphere, under the\nLambert Equal Area Projection mapping (see Mardia and Jupp (2000),\nDirectional Statistics, p. 161).</p>\n<p>See doc for <code class=\"docutils literal notranslate\"><span class=\"pre\">sphere2cart</span></code> for angle conventions</p>\n<ul class=\"simple\">\n<li><span class=\"math notranslate nohighlight\">\\(0 \\le \\theta \\le \\pi\\)</span> and <span class=\"math notranslate nohighlight\">\\(0 \\le \\phi \\le 2 \\pi\\)</span></li>\n<li><span class=\"math notranslate nohighlight\">\\(|(y_1,y_2)| \\le 2\\)</span></li>\n</ul>\n<p>The Lambert EAP maps the upper hemisphere to the planar disc of radius 1\nand the lower hemisphere to the planar annulus between radii 1 and 2,\nand <em>vice versa</em>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>theta</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">theta spherical coordinates</p>\n</dd>\n<dt><strong>phi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">phi spherical coordinates</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,2) array</span></dt>\n<dd><p class=\"first last\">planar coordinates of points following mapping by Lambert\u2019s EAP.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"nearest-pos-semi-def\">\n<h3>nearest_pos_semi_def<a class=\"headerlink\" href=\"#nearest-pos-semi-def\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.nearest_pos_semi_def\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">nearest_pos_semi_def</code><span class=\"sig-paren\">(</span><em>B</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.nearest_pos_semi_def\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Least squares positive semi-definite tensor estimation</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>B</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(3,3) array_like</span></dt>\n<dd><p class=\"first last\">B matrix - symmetric. We do not check the symmetry.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>npds</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(3,3) array</span></dt>\n<dd><p class=\"first last\">Estimated nearest positive semi-definite array to matrix <cite>B</cite>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r3ce6ea211245-1\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id3\">[1]</a></td><td>Niethammer M, San Jose Estepar R, Bouix S, Shenton M, Westin CF.\nOn diffusion tensor estimation. Conf Proc IEEE Eng Med Biol Soc.\n2006;1:2622-5. PubMed PMID: 17946125; PubMed Central PMCID:\nPMC2791793.</td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">B</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">diag</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">nearest_pos_semi_def</span><span class=\"p\">(</span><span class=\"n\">B</span><span class=\"p\">)</span>\n<span class=\"go\">array([[ 0.75,  0.  ,  0.  ],</span>\n<span class=\"go\">       [ 0.  ,  0.75,  0.  ],</span>\n<span class=\"go\">       [ 0.  ,  0.  ,  0.  ]])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"normalized-vector\">\n<h3>normalized_vector<a class=\"headerlink\" href=\"#normalized-vector\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.normalized_vector\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">normalized_vector</code><span class=\"sig-paren\">(</span><em>vec</em>, <em>axis=-1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.normalized_vector\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return vector divided by its Euclidean (L2) norm</p>\n<p>See <a class=\"reference internal\" href=\"../../glossary/#term-unit-vector\"><span class=\"xref std std-term\">unit vector</span></a> and <a class=\"reference internal\" href=\"../../glossary/#term-euclidean-norm\"><span class=\"xref std std-term\">Euclidean norm</span></a></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>vec</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like shape (3,)</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>nvec</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array shape (3,)</span></dt>\n<dd><p class=\"first last\">vector divided by L2 norm</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">vec</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">l2n</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">vec</span><span class=\"p\">,</span> <span class=\"n\">vec</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">nvec</span> <span class=\"o\">=</span> <span class=\"n\">normalized_vector</span><span class=\"p\">(</span><span class=\"n\">vec</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">allclose</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">(</span><span class=\"n\">vec</span><span class=\"p\">)</span> <span class=\"o\">/</span> <span class=\"n\">l2n</span><span class=\"p\">,</span> <span class=\"n\">nvec</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">vec</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">vec</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">normalized_vector</span><span class=\"p\">(</span><span class=\"n\">vec</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"perpendicular-directions\">\n<h3>perpendicular_directions<a class=\"headerlink\" href=\"#perpendicular-directions\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.perpendicular_directions\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">perpendicular_directions</code><span class=\"sig-paren\">(</span><em>v</em>, <em>num=30</em>, <em>half=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.perpendicular_directions\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Computes n evenly spaced perpendicular directions relative to a given\nvector v</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>v</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (3,)</span></dt>\n<dd><p class=\"first last\">Array containing the three cartesian coordinates of vector v</p>\n</dd>\n<dt><strong>num</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">Number of perpendicular directions to generate</p>\n</dd>\n<dt><strong>half</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><p class=\"first last\">If half is True, perpendicular directions are sampled on half of the\nunit circumference perpendicular to v, otherwive perpendicular\ndirections are sampled on the full circumference. Default of half is\nFalse</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>psamples</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (n, 3)</span></dt>\n<dd><p class=\"first last\">array of vectors perpendicular to v</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>Perpendicular directions are estimated using the following two step\nprocedure:</p>\n<blockquote>\n<div><p>1) the perpendicular directions are first sampled in a unit\ncircumference parallel to the plane normal to the x-axis.</p>\n<p>2) Samples are then rotated and aligned to the plane normal to vector\nv. The rotational matrix for this rotation is constructed as reference\nframe basis which axis are the following:</p>\n<blockquote>\n<div><ul class=\"simple\">\n<li>The first axis is vector v</li>\n<li>The second axis is defined as the normalized vector given by the</li>\n</ul>\n<p>cross product between vector v and the unit vector aligned to the\nx-axis\n- The third axis is defined as the cross product between the\nprevious computed vector and vector v.</p>\n</div></blockquote>\n</div></blockquote>\n<p>Following this two steps, coordinates of the final perpendicular directions\nare given as:</p>\n<div class=\"math notranslate nohighlight\">\n\\[\\left [ -\\sin(a_{i}) \\sqrt{{v_{y}}^{2}+{v_{z}}^{2}}\n\\; , \\;\n\\frac{v_{x}v_{y}\\sin(a_{i})-v_{z}\\cos(a_{i})}\n{\\sqrt{{v_{y}}^{2}+{v_{z}}^{2}}}\n\\; , \\;\n\\frac{v_{x}v_{z}\\sin(a_{i})-v_{y}\\cos(a_{i})}\n{\\sqrt{{v_{y}}^{2}+{v_{z}}^{2}}} \\right  ]\\]</div>\n<p>This procedure has a singularity when vector v is aligned to the x-axis. To\nsolve this singularity, perpendicular directions in procedure\u2019s step 1 are\ndefined in the plane normal to y-axis and the second axis of the rotated\nframe of reference is computed as the normalized vector given by the cross\nproduct between vector v and the unit vector aligned to the y-axis.\nFollowing this, the coordinates of the perpendicular directions are given\nas:</p>\n<blockquote>\n<div>left [ -frac{left (v_{x}v_{y}sin(a_{i})+v_{z}cos(a_{i}) right )}\n{sqrt{{v_{x}}^{2}+{v_{z}}^{2}}}\n; , ;\nsin(a_{i}) sqrt{{v_{x}}^{2}+{v_{z}}^{2}}\n; , ;\nfrac{v_{y}v_{z}sin(a_{i})+v_{x}cos(a_{i})}\n{sqrt{{v_{x}}^{2}+{v_{z}}^{2}}} right  ]</div></blockquote>\n<p>For more details on this calculation, see ` here &lt;<a class=\"reference external\" href=\"http://gsoc2015dipydki.blogspot.it/2015/07/rnh-post-8-computing-perpendicular.html\">http://gsoc2015dipydki.blogspot.it/2015/07/rnh-post-8-computing-perpendicular.html</a>&gt;`_.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"rodrigues-axis-rotation\">\n<h3>rodrigues_axis_rotation<a class=\"headerlink\" href=\"#rodrigues-axis-rotation\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.rodrigues_axis_rotation\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">rodrigues_axis_rotation</code><span class=\"sig-paren\">(</span><em>r</em>, <em>theta</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.rodrigues_axis_rotation\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Rodrigues formula</p>\n<p>Rotation matrix for rotation around axis r for angle theta.</p>\n<p>The rotation matrix is given by the Rodrigues formula:</p>\n<p>R = Id + sin(theta)*Sn + (1-cos(theta))*Sn^2</p>\n<p>with:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span>       <span class=\"mi\">0</span>  <span class=\"o\">-</span><span class=\"n\">nz</span>  <span class=\"n\">ny</span>\n<span class=\"n\">Sn</span> <span class=\"o\">=</span>   <span class=\"n\">nz</span>   <span class=\"mi\">0</span> <span class=\"o\">-</span><span class=\"n\">nx</span>\n      <span class=\"o\">-</span><span class=\"n\">ny</span>  <span class=\"n\">nx</span>   <span class=\"mi\">0</span>\n</pre></div>\n</div>\n<p>where n = r / ||r||</p>\n<p>In case the angle ||r|| is very small, the above formula may lead\nto numerical instabilities. We instead use a Taylor expansion\naround theta=0:</p>\n<p>R = I + sin(theta)/tetha Sr + (1-cos(theta))/teta2 Sr^2</p>\n<p>leading to:</p>\n<p>R = I + (1-theta2/6)*Sr + (1/2-theta2/24)*Sr^2</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>r</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like shape (3,), axis</span></dt>\n<dd></dd>\n<dt><strong>theta</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float, angle in degrees</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>R</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (3,3), rotation matrix</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core.geometry</span> <span class=\"k\">import</span> <span class=\"n\">rodrigues_axis_rotation</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">v</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">u</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">R</span><span class=\"o\">=</span><span class=\"n\">rodrigues_axis_rotation</span><span class=\"p\">(</span><span class=\"n\">v</span><span class=\"p\">,</span><span class=\"mi\">40</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ur</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">R</span><span class=\"p\">,</span><span class=\"n\">u</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">round</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">rad2deg</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">arccos</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">ur</span><span class=\"p\">,</span><span class=\"n\">u</span><span class=\"p\">))))</span>\n<span class=\"go\">40.0</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"setup-test\">\n<h3>setup_test<a class=\"headerlink\" href=\"#setup-test\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.setup_test\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">setup_test</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.setup_test\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Set numpy print options to \u201clegacy\u201d for new versions of numpy</p>\n<p>If imported into a file, nosetest will run this before any doctests.</p>\n<p class=\"rubric\">References</p>\n<p><a class=\"reference external\" href=\"https://github.com/numpy/numpy/commit/710e0327687b9f7653e5ac02d222ba62c657a718\">https://github.com/numpy/numpy/commit/710e0327687b9f7653e5ac02d222ba62c657a718</a>\n<a class=\"reference external\" href=\"https://github.com/numpy/numpy/commit/734b907fc2f7af6e40ec989ca49ee6d87e21c495\">https://github.com/numpy/numpy/commit/734b907fc2f7af6e40ec989ca49ee6d87e21c495</a>\n<a class=\"reference external\" href=\"https://github.com/nipy/nibabel/pull/556\">https://github.com/nipy/nibabel/pull/556</a></p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"sph2latlon\">\n<h3>sph2latlon<a class=\"headerlink\" href=\"#sph2latlon\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.sph2latlon\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">sph2latlon</code><span class=\"sig-paren\">(</span><em>theta</em>, <em>phi</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.sph2latlon\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Convert spherical coordinates to latitude and longitude.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>lat, lon</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Latitude and longitude.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"sphere2cart\">\n<h3>sphere2cart<a class=\"headerlink\" href=\"#sphere2cart\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.sphere2cart\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">sphere2cart</code><span class=\"sig-paren\">(</span><em>r</em>, <em>theta</em>, <em>phi</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.sphere2cart\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Spherical to Cartesian coordinates</p>\n<p>This is the standard physics convention where <cite>theta</cite> is the\ninclination (polar) angle, and <cite>phi</cite> is the azimuth angle.</p>\n<p>Imagine a sphere with center (0,0,0).  Orient it with the z axis\nrunning south-north, the y axis running west-east and the x axis\nfrom posterior to anterior.  <cite>theta</cite> (the inclination angle) is the\nangle to rotate from the z-axis (the zenith) around the y-axis,\ntowards the x axis.  Thus the rotation is counter-clockwise from the\npoint of view of positive y.  <cite>phi</cite> (azimuth) gives the angle of\nrotation around the z-axis towards the y axis.  The rotation is\ncounter-clockwise from the point of view of positive z.</p>\n<p>Equivalently, given a point P on the sphere, with coordinates x, y,\nz, <cite>theta</cite> is the angle between P and the z-axis, and <cite>phi</cite> is\nthe angle between the projection of P onto the XY plane, and the X\naxis.</p>\n<p>Geographical nomenclature designates theta as \u2018co-latitude\u2019, and phi\nas \u2018longitude\u2019</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>r</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">radius</p>\n</dd>\n<dt><strong>theta</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">inclination or polar angle</p>\n</dd>\n<dt><strong>phi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">azimuth angle</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>x</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">x coordinate(s) in Cartesion space</p>\n</dd>\n<dt><strong>y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">y coordinate(s) in Cartesian space</p>\n</dd>\n<dt><strong>z</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">z coordinate</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>See these pages:</p>\n<ul class=\"simple\">\n<li><a class=\"reference external\" href=\"http://en.wikipedia.org/wiki/Spherical_coordinate_system\">http://en.wikipedia.org/wiki/Spherical_coordinate_system</a></li>\n<li><a class=\"reference external\" href=\"http://mathworld.wolfram.com/SphericalCoordinates.html\">http://mathworld.wolfram.com/SphericalCoordinates.html</a></li>\n</ul>\n<p>for excellent discussion of the many different conventions\npossible.  Here we use the physics conventions, used in the\nwikipedia page.</p>\n<p>Derivations of the formulae are simple. Consider a vector x, y, z of\nlength r (norm of x, y, z).  The inclination angle (theta) can be\nfound from: cos(theta) == z / r -&gt; z == r * cos(theta).  This gives\nthe hypotenuse of the projection onto the XY plane, which we will\ncall Q. Q == r*sin(theta). Now x / Q == cos(phi) -&gt; x == r *\nsin(theta) * cos(phi) and so on.</p>\n<p>We have deliberately named this function <code class=\"docutils literal notranslate\"><span class=\"pre\">sphere2cart</span></code> rather than\n<code class=\"docutils literal notranslate\"><span class=\"pre\">sph2cart</span></code> to distinguish it from the Matlab function of that\nname, because the Matlab function uses an unusual convention for the\nangles that we did not want to replicate.  The Matlab function is\ntrivial to implement with the formulae given in the Matlab help.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"sphere-distance\">\n<h3>sphere_distance<a class=\"headerlink\" href=\"#sphere-distance\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.sphere_distance\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">sphere_distance</code><span class=\"sig-paren\">(</span><em>pts1</em>, <em>pts2</em>, <em>radius=None</em>, <em>check_radius=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.sphere_distance\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Distance across sphere surface between <cite>pts1</cite> and <cite>pts2</cite></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>pts1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,R) or (R,) array_like</span></dt>\n<dd><p class=\"first last\">where N is the number of points and R is the number of\ncoordinates defining a point (<code class=\"docutils literal notranslate\"><span class=\"pre\">R==3</span></code> for 3D)</p>\n</dd>\n<dt><strong>pts2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,R) or (R,) array_like</span></dt>\n<dd><p class=\"first last\">where N is the number of points and R is the number of\ncoordinates defining a point (<code class=\"docutils literal notranslate\"><span class=\"pre\">R==3</span></code> for 3D).  It should be\npossible to broadcast <cite>pts1</cite> against <cite>pts2</cite></p>\n</dd>\n<dt><strong>radius</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">None or float, optional</span></dt>\n<dd><p class=\"first last\">Radius of sphere.  Default is to work out radius from mean of the\nlength of each point vector</p>\n</dd>\n<dt><strong>check_radius</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><p class=\"first last\">If True, check if the points are on the sphere surface - i.e\ncheck if the vector lengths in <cite>pts1</cite> and <cite>pts2</cite> are close to\n<cite>radius</cite>.  Default is True.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>d</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,) or (0,) array</span></dt>\n<dd><p class=\"first last\">Distances between corresponding points in <cite>pts1</cite> and <cite>pts2</cite>\nacross the spherical surface, i.e. the great circle distance</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<dl class=\"last docutils\">\n<dt><a class=\"reference internal\" href=\"#dipy.core.geometry.cart_distance\" title=\"dipy.core.geometry.cart_distance\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">cart_distance</span></code></a></dt>\n<dd>cartesian distance between points</dd>\n<dt><a class=\"reference internal\" href=\"#dipy.core.geometry.vector_cosine\" title=\"dipy.core.geometry.vector_cosine\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">vector_cosine</span></code></a></dt>\n<dd>cosine of angle between vectors</dd>\n</dl>\n</div>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"si\">%.4f</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"n\">sphere_distance</span><span class=\"p\">([</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]))</span>\n<span class=\"go\">1.5708</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"si\">%.4f</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"n\">sphere_distance</span><span class=\"p\">([</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">],[</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]))</span>\n<span class=\"go\">4.7124</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"vec2vec-rotmat\">\n<h3>vec2vec_rotmat<a class=\"headerlink\" href=\"#vec2vec-rotmat\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.vec2vec_rotmat\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">vec2vec_rotmat</code><span class=\"sig-paren\">(</span><em>u</em>, <em>v</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.vec2vec_rotmat\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>rotation matrix from 2 unit vectors</p>\n<p>u, v being unit 3d vectors return a 3x3 rotation matrix R than aligns u to\nv.</p>\n<p>In general there are many rotations that will map u to v. If S is any\nrotation using v as an axis then R.S will also map u to v since (S.R)u =\nS(Ru) = Sv = v.  The rotation R returned by vec2vec_rotmat leaves fixed the\nperpendicular to the plane spanned by u and v.</p>\n<p>The transpose of R will align v to u.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>u</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape(3,)</span></dt>\n<dd></dd>\n<dt><strong>v</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape(3,)</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>R</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape(3,3)</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core.geometry</span> <span class=\"k\">import</span> <span class=\"n\">vec2vec_rotmat</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">u</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">v</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">R</span><span class=\"o\">=</span><span class=\"n\">vec2vec_rotmat</span><span class=\"p\">(</span><span class=\"n\">u</span><span class=\"p\">,</span><span class=\"n\">v</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">R</span><span class=\"p\">,</span><span class=\"n\">u</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 0.,  1.,  0.])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">R</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"p\">,</span><span class=\"n\">v</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 1.,  0.,  0.])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"vector-cosine\">\n<h3>vector_cosine<a class=\"headerlink\" href=\"#vector-cosine\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.vector_cosine\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">vector_cosine</code><span class=\"sig-paren\">(</span><em>vecs1</em>, <em>vecs2</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.vector_cosine\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Cosine of angle between two (sets of) vectors</p>\n<p>The cosine of the angle between two vectors <code class=\"docutils literal notranslate\"><span class=\"pre\">v1</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v2</span></code> is\ngiven by the inner product of <code class=\"docutils literal notranslate\"><span class=\"pre\">v1</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v2</span></code> divided by the\nproduct of the vector lengths:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">v_cos</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">inner</span><span class=\"p\">(</span><span class=\"n\">v1</span><span class=\"p\">,</span> <span class=\"n\">v2</span><span class=\"p\">)</span> <span class=\"o\">/</span> <span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">(</span><span class=\"n\">v1</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">))</span> <span class=\"o\">*</span>\n                            <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">(</span><span class=\"n\">v2</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">)))</span>\n</pre></div>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>vecs1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, R) or (R,) array_like</span></dt>\n<dd><p class=\"first last\">N vectors (as rows) or single vector.  Vectors have R elements.</p>\n</dd>\n<dt><strong>vecs1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, R) or (R,) array_like</span></dt>\n<dd><p class=\"first last\">N vectors (as rows) or single vector.  Vectors have R elements.\nIt should be possible to broadcast <cite>vecs1</cite> against <cite>vecs2</cite></p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>vcos</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,) or (0,) array</span></dt>\n<dd><p class=\"first last\">Vector cosines.  To get the angles you will need <code class=\"docutils literal notranslate\"><span class=\"pre\">np.arccos</span></code></p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>The vector cosine will be the same as the correlation only if all\nthe input vectors have zero mean.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"vector-norm\">\n<h3>vector_norm<a class=\"headerlink\" href=\"#vector-norm\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.geometry.vector_norm\">\n<code class=\"descclassname\">dipy.core.geometry.</code><code class=\"descname\">vector_norm</code><span class=\"sig-paren\">(</span><em>vec</em>, <em>axis=-1</em>, <em>keepdims=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.geometry.vector_norm\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return vector Euclidean (L2) norm</p>\n<p>See <a class=\"reference internal\" href=\"../../glossary/#term-unit-vector\"><span class=\"xref std std-term\">unit vector</span></a> and <a class=\"reference internal\" href=\"../../glossary/#term-euclidean-norm\"><span class=\"xref std std-term\">Euclidean norm</span></a></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>vec</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">Vectors to norm.</p>\n</dd>\n<dt><strong>axis</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Axis over which to norm. By default norm over last axis. If <cite>axis</cite> is\nNone, <cite>vec</cite> is flattened then normed.</p>\n</dd>\n<dt><strong>keepdims</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">If True, the output will have the same number of dimensions as <cite>vec</cite>,\nwith shape 1 on <cite>axis</cite>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>norm</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">Euclidean norms of vectors.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">vec</span> <span class=\"o\">=</span> <span class=\"p\">[[</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">15</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">36</span><span class=\"p\">,</span> <span class=\"mi\">77</span><span class=\"p\">]]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">vector_norm</span><span class=\"p\">(</span><span class=\"n\">vec</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 17.,  85.])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">vector_norm</span><span class=\"p\">(</span><span class=\"n\">vec</span><span class=\"p\">,</span> <span class=\"n\">keepdims</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"go\">array([[ 17.],</span>\n<span class=\"go\">       [ 85.]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">vector_norm</span><span class=\"p\">(</span><span class=\"n\">vec</span><span class=\"p\">,</span> <span class=\"n\">axis</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"go\">array([  8.,  39.,  77.])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"gradienttable\">\n<h3><a class=\"reference internal\" href=\"#dipy.core.gradients.GradientTable\" title=\"dipy.core.gradients.GradientTable\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GradientTable</span></code></a><a class=\"headerlink\" href=\"#gradienttable\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.core.gradients.GradientTable\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.core.gradients.</code><code class=\"descname\">GradientTable</code><span class=\"sig-paren\">(</span><em>gradients</em>, <em>big_delta=None</em>, <em>small_delta=None</em>, <em>b0_threshold=50</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.GradientTable\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>Diffusion gradient information</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>gradients</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like (N, 3)</span></dt>\n<dd><p class=\"first last\">Diffusion gradients. The direction of each of these vectors corresponds\nto the b-vector, and the length corresponds to the b-value.</p>\n</dd>\n<dt><strong>b0_threshold</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Gradients with b-value less than or equal to <cite>b0_threshold</cite> are\nconsidered as b0s i.e. without diffusion weighting.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.core.gradients.gradient_table\" title=\"dipy.core.gradients.gradient_table\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">gradient_table</span></code></a></p>\n</div>\n<p class=\"rubric\">Notes</p>\n<p>The GradientTable object is immutable. Do NOT assign attributes.\nIf you have your gradient table in a bval &amp; bvec format, we recommend\nusing the factory function gradient_table</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>gradients</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,3) ndarray</span></dt>\n<dd><p class=\"first last\">diffusion gradients</p>\n</dd>\n<dt><strong>bvals</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,) ndarray</span></dt>\n<dd><p class=\"first last\">The b-value, or magnitude, of each gradient direction.</p>\n</dd>\n<dt><strong>qvals: (N,) ndarray</strong></dt>\n<dd><p class=\"first last\">The q-value for each gradient direction. Needs big and small\ndelta.</p>\n</dd>\n<dt><strong>bvecs</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,3) ndarray</span></dt>\n<dd><p class=\"first last\">The direction, represented as a unit vector, of each gradient.</p>\n</dd>\n<dt><strong>b0s_mask</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,) ndarray</span></dt>\n<dd><p class=\"first last\">Boolean array indicating which gradients have no diffusion\nweighting, ie b-value is close to 0.</p>\n</dd>\n<dt><strong>b0_threshold</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Gradients with b-value less than or equal to <cite>b0_threshold</cite> are\nconsidered to not have diffusion weighting.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"68%\" />\n<col width=\"32%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>b0s_mask</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>bvals</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>bvecs</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>gradient_strength</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>qvals</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>tau</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.core.gradients.GradientTable.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>gradients</em>, <em>big_delta=None</em>, <em>small_delta=None</em>, <em>b0_threshold=50</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.GradientTable.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Constructor for GradientTable class</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.gradients.GradientTable.b0s_mask\">\n<code class=\"descname\">b0s_mask</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.GradientTable.b0s_mask\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.gradients.GradientTable.bvals\">\n<code class=\"descname\">bvals</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.GradientTable.bvals\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.gradients.GradientTable.bvecs\">\n<code class=\"descname\">bvecs</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.GradientTable.bvecs\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.gradients.GradientTable.gradient_strength\">\n<code class=\"descname\">gradient_strength</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.GradientTable.gradient_strength\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.core.gradients.GradientTable.info\">\n<code class=\"descname\">info</code><a class=\"headerlink\" href=\"#dipy.core.gradients.GradientTable.info\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.gradients.GradientTable.qvals\">\n<code class=\"descname\">qvals</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.GradientTable.qvals\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.gradients.GradientTable.tau\">\n<code class=\"descname\">tau</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.GradientTable.tau\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"hemisphere\">\n<h3><a class=\"reference internal\" href=\"#dipy.core.gradients.HemiSphere\" title=\"dipy.core.gradients.HemiSphere\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">HemiSphere</span></code></a><a class=\"headerlink\" href=\"#hemisphere\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.core.gradients.HemiSphere\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.core.gradients.</code><code class=\"descname\">HemiSphere</code><span class=\"sig-paren\">(</span><em>x=None</em>, <em>y=None</em>, <em>z=None</em>, <em>theta=None</em>, <em>phi=None</em>, <em>xyz=None</em>, <em>faces=None</em>, <em>edges=None</em>, <em>tol=1e-05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.HemiSphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.core.sphere.Sphere\" title=\"dipy.core.sphere.Sphere\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.core.sphere.Sphere</span></code></a></p>\n<p>Points on the unit sphere.</p>\n<p>A HemiSphere is similar to a Sphere but it takes antipodal symmetry into\naccount. Antipodal symmetry means that point v on a HemiSphere is the same\nas the point -v. Duplicate points are discarded when constructing a\nHemiSphere (including antipodal duplicates). <cite>edges</cite> and <cite>faces</cite> are\nremapped to the remaining points as closely as possible.</p>\n<p>The HemiSphere can be constructed using one of three conventions:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">HemiSphere</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">z</span><span class=\"p\">)</span>\n<span class=\"n\">HemiSphere</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"n\">HemiSphere</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">theta</span><span class=\"p\">,</span> <span class=\"n\">phi</span><span class=\"o\">=</span><span class=\"n\">phi</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>x, y, z</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1-D array_like</span></dt>\n<dd><p class=\"first last\">Vertices as x-y-z coordinates.</p>\n</dd>\n<dt><strong>theta, phi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1-D array_like</span></dt>\n<dd><p class=\"first last\">Vertices as spherical coordinates.  Theta and phi are the inclination\nand azimuth angles respectively.</p>\n</dd>\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 3) ndarray</span></dt>\n<dd><p class=\"first last\">Vertices as x-y-z coordinates.</p>\n</dd>\n<dt><strong>faces</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 3) ndarray</span></dt>\n<dd><p class=\"first last\">Indices into vertices that form triangular faces.  If unspecified,\nthe faces are computed using a Delaunay triangulation.</p>\n</dd>\n<dt><strong>edges</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 2) ndarray</span></dt>\n<dd><p class=\"first last\">Edges between vertices.  If unspecified, the edges are\nderived from the faces.</p>\n</dd>\n<dt><strong>tol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Angle in degrees. Vertices that are less than tol degrees apart are\ntreated as duplicates.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Sphere</span></code></p>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>x</strong></dt>\n<dd></dd>\n<dt><strong>y</strong></dt>\n<dd></dd>\n<dt><strong>z</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.HemiSphere.find_closest\" title=\"dipy.core.gradients.HemiSphere.find_closest\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">find_closest</span></code></a>(xyz)</td>\n<td>Find the index of the vertex in the Sphere closest to the input vector, taking into account antipodal symmetry</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.HemiSphere.from_sphere\" title=\"dipy.core.gradients.HemiSphere.from_sphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">from_sphere</span></code></a>(sphere[,&nbsp;tol])</td>\n<td>Create instance from a Sphere</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.HemiSphere.mirror\" title=\"dipy.core.gradients.HemiSphere.mirror\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">mirror</span></code></a>()</td>\n<td>Create a full Sphere from a HemiSphere</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.gradients.HemiSphere.subdivide\" title=\"dipy.core.gradients.HemiSphere.subdivide\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">subdivide</span></code></a>([n])</td>\n<td>Create a more subdivided HemiSphere</td>\n</tr>\n</tbody>\n</table>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"55%\" />\n<col width=\"45%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>edges</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>faces</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>vertices</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.core.gradients.HemiSphere.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>x=None</em>, <em>y=None</em>, <em>z=None</em>, <em>theta=None</em>, <em>phi=None</em>, <em>xyz=None</em>, <em>faces=None</em>, <em>edges=None</em>, <em>tol=1e-05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.HemiSphere.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a HemiSphere from points</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.gradients.HemiSphere.faces\">\n<code class=\"descname\">faces</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.HemiSphere.faces\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.gradients.HemiSphere.find_closest\">\n<code class=\"descname\">find_closest</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.HemiSphere.find_closest\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Find the index of the vertex in the Sphere closest to the input vector,\ntaking into account antipodal symmetry</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like, 3 elements</span></dt>\n<dd><p class=\"first last\">A unit vector</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"classmethod\">\n<dt id=\"dipy.core.gradients.HemiSphere.from_sphere\">\n<em class=\"property\">classmethod </em><code class=\"descname\">from_sphere</code><span class=\"sig-paren\">(</span><em>sphere</em>, <em>tol=1e-05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.HemiSphere.from_sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create instance from a Sphere</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.gradients.HemiSphere.mirror\">\n<code class=\"descname\">mirror</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.HemiSphere.mirror\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a full Sphere from a HemiSphere</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.gradients.HemiSphere.subdivide\">\n<code class=\"descname\">subdivide</code><span class=\"sig-paren\">(</span><em>n=1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.HemiSphere.subdivide\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a more subdivided HemiSphere</p>\n<p>See Sphere.subdivide for full documentation.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"auto-attr\">\n<h3>auto_attr<a class=\"headerlink\" href=\"#auto-attr\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.gradients.auto_attr\">\n<code class=\"descclassname\">dipy.core.gradients.</code><code class=\"descname\">auto_attr</code><span class=\"sig-paren\">(</span><em>func</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.auto_attr\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Decorator to create OneTimeProperty attributes.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>func</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">method</span></dt>\n<dd><p class=\"first last\">The method that will be called the first time to compute a value.\nAfterwards, the method\u2019s name will be a standard attribute holding the\nvalue of this computation.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span> <span class=\"nc\">MagicProp</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"nd\">@auto_attr</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span> <span class=\"nf\">a</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"k\">return</span> <span class=\"mi\">99</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">MagicProp</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"s1\">&#39;a&#39;</span> <span class=\"ow\">in</span> <span class=\"n\">x</span><span class=\"o\">.</span><span class=\"vm\">__dict__</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">.</span><span class=\"n\">a</span>\n<span class=\"go\">99</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"s1\">&#39;a&#39;</span> <span class=\"ow\">in</span> <span class=\"n\">x</span><span class=\"o\">.</span><span class=\"vm\">__dict__</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"check-multi-b\">\n<h3>check_multi_b<a class=\"headerlink\" href=\"#check-multi-b\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.gradients.check_multi_b\">\n<code class=\"descclassname\">dipy.core.gradients.</code><code class=\"descname\">check_multi_b</code><span class=\"sig-paren\">(</span><em>gtab</em>, <em>n_bvals</em>, <em>non_zero=True</em>, <em>bmag=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.check_multi_b\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Check if you have enough different b-values in your gradient table</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>gtab</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">GradientTable class instance.</span></dt>\n<dd></dd>\n<dt><strong>n_bvals</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">The number of different b-values you are checking for.</p>\n</dd>\n<dt><strong>non_zero</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">Whether to check only non-zero bvalues. In this case, we will require\nat least <cite>n_bvals</cite> <em>non-zero</em> b-values (where non-zero is defined\ndepending on the <cite>gtab</cite> object\u2019s <cite>b0_threshold</cite> attribute)</p>\n</dd>\n<dt><strong>bmag</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">The order of magnitude of the b-values used. The function will\nnormalize the b-values relative <span class=\"math notranslate nohighlight\">\\(10^{bmag - 1}\\)</span>. Default: derive this\nvalue from the maximal b-value provided: <span class=\"math notranslate nohighlight\">\\(bmag=log_{10}(max(bvals))\\)</span>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>bool</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Whether there are at least <cite>n_bvals</cite> different b-values in the</span></dt>\n<dd></dd>\n<dt><strong>gradient table used.</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"disperse-charges\">\n<h3>disperse_charges<a class=\"headerlink\" href=\"#disperse-charges\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.gradients.disperse_charges\">\n<code class=\"descclassname\">dipy.core.gradients.</code><code class=\"descname\">disperse_charges</code><span class=\"sig-paren\">(</span><em>hemi</em>, <em>iters</em>, <em>const=0.2</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.disperse_charges\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Models electrostatic repulsion on the unit sphere</p>\n<p>Places charges on a sphere and simulates the repulsive forces felt by each\none. Allows the charges to move for some number of iterations and returns\ntheir final location as well as the total potential of the system at each\nstep.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>hemi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">HemiSphere</span></dt>\n<dd><p class=\"first last\">Points on a unit sphere.</p>\n</dd>\n<dt><strong>iters</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of iterations to run.</p>\n</dd>\n<dt><strong>const</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Using a smaller const could provide a more accurate result, but will\nneed more iterations to converge.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>hemi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">HemiSphere</span></dt>\n<dd><p class=\"first last\">Distributed points on a unit sphere.</p>\n</dd>\n<dt><strong>potential</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">The electrostatic potential at each iteration. This can be useful to\ncheck if the repulsion converged to a minimum.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"generate-bvecs\">\n<h3>generate_bvecs<a class=\"headerlink\" href=\"#generate-bvecs\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.gradients.generate_bvecs\">\n<code class=\"descclassname\">dipy.core.gradients.</code><code class=\"descname\">generate_bvecs</code><span class=\"sig-paren\">(</span><em>N</em>, <em>iters=5000</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.generate_bvecs\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Generates N bvectors.</p>\n<p>Uses dipy.core.sphere.disperse_charges to model electrostatic repulsion on\na unit sphere.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>N</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">The number of bvectors to generate. This should be equal to the number\nof bvals used.</p>\n</dd>\n<dt><strong>iters</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of iterations to run.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>bvecs</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,3) ndarray</span></dt>\n<dd><p class=\"first last\">The generated directions, represented as a unit vector, of each\ngradient.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"gradient-table\">\n<h3>gradient_table<a class=\"headerlink\" href=\"#gradient-table\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.gradients.gradient_table\">\n<code class=\"descclassname\">dipy.core.gradients.</code><code class=\"descname\">gradient_table</code><span class=\"sig-paren\">(</span><em>bvals</em>, <em>bvecs=None</em>, <em>big_delta=None</em>, <em>small_delta=None</em>, <em>b0_threshold=50</em>, <em>atol=0.01</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.gradient_table\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>A general function for creating diffusion MR gradients.</p>\n<p>It reads, loads and prepares scanner parameters like the b-values and\nb-vectors so that they can be useful during the reconstruction process.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>bvals</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">can be any of the four options</span></dt>\n<dd><ol class=\"first last arabic simple\">\n<li>an array of shape (N,) or (1, N) or (N, 1) with the b-values.</li>\n<li>a path for the file which contains an array like the above (1).</li>\n<li>an array of shape (N, 4) or (4, N). Then this parameter is\nconsidered to be a b-table which contains both bvals and bvecs. In\nthis case the next parameter is skipped.</li>\n<li>a path for the file which contains an array like the one at (3).</li>\n</ol>\n</dd>\n<dt><strong>bvecs</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">can be any of two options</span></dt>\n<dd><ol class=\"first last arabic simple\">\n<li>an array of shape (N, 3) or (3, N) with the b-vectors.</li>\n<li>a path for the file which contains an array like the previous.</li>\n</ol>\n</dd>\n<dt><strong>big_delta</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">acquisition pulse separation time in seconds (default None)</p>\n</dd>\n<dt><strong>small_delta</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">acquisition pulse duration time in seconds (default None)</p>\n</dd>\n<dt><strong>b0_threshold</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">All b-values with values less than or equal to <cite>bo_threshold</cite> are\nconsidered as b0s i.e. without diffusion weighting.</p>\n</dd>\n<dt><strong>atol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">All b-vectors need to be unit vectors up to a tolerance.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>gradients</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">GradientTable</span></dt>\n<dd><p class=\"first last\">A GradientTable with all the gradient information.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<ol class=\"arabic simple\">\n<li>Often b0s (b-values which correspond to images without diffusion\nweighting) have 0 values however in some cases the scanner cannot\nprovide b0s of an exact 0 value and it gives a bit higher values\ne.g. 6 or 12. This is the purpose of the b0_threshold in the __init__.</li>\n<li>We assume that the minimum number of b-values is 7.</li>\n<li>B-vectors should be unit vectors.</li>\n</ol>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core.gradients</span> <span class=\"k\">import</span> <span class=\"n\">gradient_table</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvals</span> <span class=\"o\">=</span> <span class=\"mi\">1500</span> <span class=\"o\">*</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">ones</span><span class=\"p\">(</span><span class=\"mi\">7</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvals</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sq2</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"o\">/</span> <span class=\"mi\">2</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvecs</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"n\">sq2</span><span class=\"p\">,</span> <span class=\"n\">sq2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"n\">sq2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">sq2</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">sq2</span><span class=\"p\">,</span> <span class=\"n\">sq2</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gt</span> <span class=\"o\">=</span> <span class=\"n\">gradient_table</span><span class=\"p\">(</span><span class=\"n\">bvals</span><span class=\"p\">,</span> <span class=\"n\">bvecs</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gt</span><span class=\"o\">.</span><span class=\"n\">bvecs</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"n\">bvecs</span><span class=\"o\">.</span><span class=\"n\">shape</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gt</span> <span class=\"o\">=</span> <span class=\"n\">gradient_table</span><span class=\"p\">(</span><span class=\"n\">bvals</span><span class=\"p\">,</span> <span class=\"n\">bvecs</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gt</span><span class=\"o\">.</span><span class=\"n\">bvecs</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"n\">bvecs</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"o\">.</span><span class=\"n\">shape</span>\n<span class=\"go\">False</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"gradient-table-from-bvals-bvecs\">\n<h3>gradient_table_from_bvals_bvecs<a class=\"headerlink\" href=\"#gradient-table-from-bvals-bvecs\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.gradients.gradient_table_from_bvals_bvecs\">\n<code class=\"descclassname\">dipy.core.gradients.</code><code class=\"descname\">gradient_table_from_bvals_bvecs</code><span class=\"sig-paren\">(</span><em>bvals</em>, <em>bvecs</em>, <em>b0_threshold=50</em>, <em>atol=0.01</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.gradient_table_from_bvals_bvecs\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Creates a GradientTable from a bvals array and a bvecs array</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>bvals</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like (N,)</span></dt>\n<dd><p class=\"first last\">The b-value, or magnitude, of each gradient direction.</p>\n</dd>\n<dt><strong>bvecs</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like (N, 3)</span></dt>\n<dd><p class=\"first last\">The direction, represented as a unit vector, of each gradient.</p>\n</dd>\n<dt><strong>b0_threshold</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Gradients with b-value less than or equal to <cite>bo_threshold</cite> are\nconsidered to not have diffusion weighting.</p>\n</dd>\n<dt><strong>atol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Each vector in <cite>bvecs</cite> must be a unit vectors up to a tolerance of\n<cite>atol</cite>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>gradients</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">GradientTable</span></dt>\n<dd><p class=\"first last\">A GradientTable with all the gradient information.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-odd field\"><th class=\"field-name\" colspan=\"2\">Other Parameters:</th></tr>\n<tr class=\"field-odd field\"><td>&#160;</td><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>**kwargs</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">dict</span></dt>\n<dd><p class=\"first last\">Other keyword inputs are passed to GradientTable.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.core.gradients.GradientTable\" title=\"dipy.core.gradients.GradientTable\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">GradientTable</span></code></a>, <a class=\"reference internal\" href=\"#dipy.core.gradients.gradient_table\" title=\"dipy.core.gradients.gradient_table\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">gradient_table</span></code></a></p>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"gradient-table-from-gradient-strength-bvecs\">\n<h3>gradient_table_from_gradient_strength_bvecs<a class=\"headerlink\" href=\"#gradient-table-from-gradient-strength-bvecs\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.gradients.gradient_table_from_gradient_strength_bvecs\">\n<code class=\"descclassname\">dipy.core.gradients.</code><code class=\"descname\">gradient_table_from_gradient_strength_bvecs</code><span class=\"sig-paren\">(</span><em>gradient_strength</em>, <em>bvecs</em>, <em>big_delta</em>, <em>small_delta</em>, <em>b0_threshold=50</em>, <em>atol=0.01</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.gradient_table_from_gradient_strength_bvecs\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>A general function for creating diffusion MR gradients.</p>\n<p>It reads, loads and prepares scanner parameters like the b-values and\nb-vectors so that they can be useful during the reconstruction process.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>gradient_strength</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">an array of shape (N,),</span></dt>\n<dd><p class=\"first last\">gradient strength given in T/mm</p>\n</dd>\n<dt><strong>bvecs</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">can be any of two options</span></dt>\n<dd><ol class=\"first last arabic simple\">\n<li>an array of shape (N, 3) or (3, N) with the b-vectors.</li>\n<li>a path for the file which contains an array like the previous.</li>\n</ol>\n</dd>\n<dt><strong>big_delta</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float or array of shape (N,)</span></dt>\n<dd><p class=\"first last\">acquisition pulse separation time in seconds</p>\n</dd>\n<dt><strong>small_delta</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">acquisition pulse duration time in seconds</p>\n</dd>\n<dt><strong>b0_threshold</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">All b-values with values less than or equal to <cite>bo_threshold</cite> are\nconsidered as b0s i.e. without diffusion weighting.</p>\n</dd>\n<dt><strong>atol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">All b-vectors need to be unit vectors up to a tolerance.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>gradients</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">GradientTable</span></dt>\n<dd><p class=\"first last\">A GradientTable with all the gradient information.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<ol class=\"arabic simple\">\n<li>Often b0s (b-values which correspond to images without diffusion\nweighting) have 0 values however in some cases the scanner cannot\nprovide b0s of an exact 0 value and it gives a bit higher values\ne.g. 6 or 12. This is the purpose of the b0_threshold in the __init__.</li>\n<li>We assume that the minimum number of b-values is 7.</li>\n<li>B-vectors should be unit vectors.</li>\n</ol>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core.gradients</span> <span class=\"k\">import</span> <span class=\"p\">(</span>\n<span class=\"gp\">... </span>   <span class=\"n\">gradient_table_from_gradient_strength_bvecs</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gradient_strength</span> <span class=\"o\">=</span> <span class=\"o\">.</span><span class=\"mf\">03e-3</span> <span class=\"o\">*</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">ones</span><span class=\"p\">(</span><span class=\"mi\">7</span><span class=\"p\">)</span>  <span class=\"c1\"># clinical strength at 30 mT/m</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">big_delta</span> <span class=\"o\">=</span> <span class=\"o\">.</span><span class=\"mi\">03</span>  <span class=\"c1\"># pulse separation of 30ms</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">small_delta</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>  <span class=\"c1\"># pulse duration of 10ms</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gradient_strength</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sq2</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"o\">/</span> <span class=\"mi\">2</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvecs</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"n\">sq2</span><span class=\"p\">,</span> <span class=\"n\">sq2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"n\">sq2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">sq2</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">sq2</span><span class=\"p\">,</span> <span class=\"n\">sq2</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gt</span> <span class=\"o\">=</span> <span class=\"n\">gradient_table_from_gradient_strength_bvecs</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">gradient_strength</span><span class=\"p\">,</span> <span class=\"n\">bvecs</span><span class=\"p\">,</span> <span class=\"n\">big_delta</span><span class=\"p\">,</span> <span class=\"n\">small_delta</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"gradient-table-from-qvals-bvecs\">\n<h3>gradient_table_from_qvals_bvecs<a class=\"headerlink\" href=\"#gradient-table-from-qvals-bvecs\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.gradients.gradient_table_from_qvals_bvecs\">\n<code class=\"descclassname\">dipy.core.gradients.</code><code class=\"descname\">gradient_table_from_qvals_bvecs</code><span class=\"sig-paren\">(</span><em>qvals</em>, <em>bvecs</em>, <em>big_delta</em>, <em>small_delta</em>, <em>b0_threshold=50</em>, <em>atol=0.01</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.gradient_table_from_qvals_bvecs\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>A general function for creating diffusion MR gradients.</p>\n<p>It reads, loads and prepares scanner parameters like the b-values and\nb-vectors so that they can be useful during the reconstruction process.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>qvals</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">an array of shape (N,),</span></dt>\n<dd><p class=\"first last\">q-value given in 1/mm</p>\n</dd>\n<dt><strong>bvecs</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">can be any of two options</span></dt>\n<dd><ol class=\"first last arabic simple\">\n<li>an array of shape (N, 3) or (3, N) with the b-vectors.</li>\n<li>a path for the file which contains an array like the previous.</li>\n</ol>\n</dd>\n<dt><strong>big_delta</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float or array of shape (N,)</span></dt>\n<dd><p class=\"first last\">acquisition pulse separation time in seconds</p>\n</dd>\n<dt><strong>small_delta</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">acquisition pulse duration time in seconds</p>\n</dd>\n<dt><strong>b0_threshold</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">All b-values with values less than or equal to <cite>bo_threshold</cite> are\nconsidered as b0s i.e. without diffusion weighting.</p>\n</dd>\n<dt><strong>atol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">All b-vectors need to be unit vectors up to a tolerance.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>gradients</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">GradientTable</span></dt>\n<dd><p class=\"first last\">A GradientTable with all the gradient information.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<ol class=\"arabic simple\">\n<li>Often b0s (b-values which correspond to images without diffusion\nweighting) have 0 values however in some cases the scanner cannot\nprovide b0s of an exact 0 value and it gives a bit higher values\ne.g. 6 or 12. This is the purpose of the b0_threshold in the __init__.</li>\n<li>We assume that the minimum number of b-values is 7.</li>\n<li>B-vectors should be unit vectors.</li>\n</ol>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core.gradients</span> <span class=\"k\">import</span> <span class=\"n\">gradient_table_from_qvals_bvecs</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qvals</span> <span class=\"o\">=</span> <span class=\"mf\">30.</span> <span class=\"o\">*</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">ones</span><span class=\"p\">(</span><span class=\"mi\">7</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">big_delta</span> <span class=\"o\">=</span> <span class=\"o\">.</span><span class=\"mi\">03</span>  <span class=\"c1\"># pulse separation of 30ms</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">small_delta</span> <span class=\"o\">=</span> <span class=\"mf\">0.01</span>  <span class=\"c1\"># pulse duration of 10ms</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qvals</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sq2</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"o\">/</span> <span class=\"mi\">2</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvecs</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"n\">sq2</span><span class=\"p\">,</span> <span class=\"n\">sq2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"n\">sq2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">sq2</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                  <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">sq2</span><span class=\"p\">,</span> <span class=\"n\">sq2</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gt</span> <span class=\"o\">=</span> <span class=\"n\">gradient_table_from_qvals_bvecs</span><span class=\"p\">(</span><span class=\"n\">qvals</span><span class=\"p\">,</span> <span class=\"n\">bvecs</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>                                     <span class=\"n\">big_delta</span><span class=\"p\">,</span> <span class=\"n\">small_delta</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"inv\">\n<h3>inv<a class=\"headerlink\" href=\"#inv\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.gradients.inv\">\n<code class=\"descclassname\">dipy.core.gradients.</code><code class=\"descname\">inv</code><span class=\"sig-paren\">(</span><em>a</em>, <em>overwrite_a=False</em>, <em>check_finite=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.inv\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Compute the inverse of a matrix.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>a</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">Square matrix to be inverted.</p>\n</dd>\n<dt><strong>overwrite_a</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><p class=\"first last\">Discard data in <cite>a</cite> (may improve performance). Default is False.</p>\n</dd>\n<dt><strong>check_finite</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><p class=\"first last\">Whether to check that the input matrix contains only finite numbers.\nDisabling may give a performance gain, but may result in problems\n(crashes, non-termination) if the inputs do contain infinities or NaNs.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>ainv</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Inverse of the matrix <cite>a</cite>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-odd field\"><th class=\"field-name\">Raises:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>LinAlgError</strong></dt>\n<dd><p class=\"first last\">If <cite>a</cite> is singular.</p>\n</dd>\n<dt><strong>ValueError</strong></dt>\n<dd><p class=\"first last\">If <cite>a</cite> is not square, or not 2-dimensional.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">scipy</span> <span class=\"k\">import</span> <span class=\"n\">linalg</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mf\">1.</span><span class=\"p\">,</span> <span class=\"mf\">2.</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mf\">3.</span><span class=\"p\">,</span> <span class=\"mf\">4.</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">linalg</span><span class=\"o\">.</span><span class=\"n\">inv</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span>\n<span class=\"go\">array([[-2. ,  1. ],</span>\n<span class=\"go\">       [ 1.5, -0.5]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">linalg</span><span class=\"o\">.</span><span class=\"n\">inv</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">))</span>\n<span class=\"go\">array([[ 1.,  0.],</span>\n<span class=\"go\">       [ 0.,  1.]])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"polar\">\n<h3>polar<a class=\"headerlink\" href=\"#polar\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.gradients.polar\">\n<code class=\"descclassname\">dipy.core.gradients.</code><code class=\"descname\">polar</code><span class=\"sig-paren\">(</span><em>a</em>, <em>side='right'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.polar\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Compute the polar decomposition.</p>\n<p>Returns the factors of the polar decomposition <a class=\"reference internal\" href=\"#rd4832748c26d-1\" id=\"id4\">[1]</a> <cite>u</cite> and <cite>p</cite> such\nthat <code class=\"docutils literal notranslate\"><span class=\"pre\">a</span> <span class=\"pre\">=</span> <span class=\"pre\">up</span></code> (if <cite>side</cite> is \u201cright\u201d) or <code class=\"docutils literal notranslate\"><span class=\"pre\">a</span> <span class=\"pre\">=</span> <span class=\"pre\">pu</span></code> (if <cite>side</cite> is\n\u201cleft\u201d), where <cite>p</cite> is positive semidefinite.  Depending on the shape\nof <cite>a</cite>, either the rows or columns of <cite>u</cite> are orthonormal.  When <cite>a</cite>\nis a square array, <cite>u</cite> is a square unitary array.  When <cite>a</cite> is not\nsquare, the \u201ccanonical polar decomposition\u201d <a class=\"reference internal\" href=\"#rd4832748c26d-2\" id=\"id5\">[2]</a> is computed.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>a</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(m, n) array_like</span></dt>\n<dd><p class=\"first last\">The array to be factored.</p>\n</dd>\n<dt><strong>side</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{\u2018left\u2019, \u2018right\u2019}, optional</span></dt>\n<dd><p class=\"first last\">Determines whether a right or left polar decomposition is computed.\nIf <cite>side</cite> is \u201cright\u201d, then <code class=\"docutils literal notranslate\"><span class=\"pre\">a</span> <span class=\"pre\">=</span> <span class=\"pre\">up</span></code>.  If <cite>side</cite> is \u201cleft\u201d,  then\n<code class=\"docutils literal notranslate\"><span class=\"pre\">a</span> <span class=\"pre\">=</span> <span class=\"pre\">pu</span></code>.  The default is \u201cright\u201d.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>u</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(m, n) ndarray</span></dt>\n<dd><p class=\"first last\">If <cite>a</cite> is square, then <cite>u</cite> is unitary.  If m &gt; n, then the columns\nof <cite>a</cite> are orthonormal, and if m &lt; n, then the rows of <cite>u</cite> are\northonormal.</p>\n</dd>\n<dt><strong>p</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\"><cite>p</cite> is Hermitian positive semidefinite.  If <cite>a</cite> is nonsingular, <cite>p</cite>\nis positive definite.  The shape of <cite>p</cite> is (n, n) or (m, m), depending\non whether <cite>side</cite> is \u201cright\u201d or \u201cleft\u201d, respectively.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"rd4832748c26d-1\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[1]</td><td><em>(<a class=\"fn-backref\" href=\"#id4\">1</a>, <a class=\"fn-backref\" href=\"#id6\">2</a>)</em> R. A. Horn and C. R. Johnson, \u201cMatrix Analysis\u201d, Cambridge\nUniversity Press, 1985.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"rd4832748c26d-2\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[2]</td><td><em>(<a class=\"fn-backref\" href=\"#id5\">1</a>, <a class=\"fn-backref\" href=\"#id7\">2</a>)</em> N. J. Higham, \u201cFunctions of Matrices: Theory and Computation\u201d,\nSIAM, 2008.</td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">scipy.linalg</span> <span class=\"k\">import</span> <span class=\"n\">polar</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">u</span><span class=\"p\">,</span> <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">polar</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">u</span>\n<span class=\"go\">array([[ 0.85749293, -0.51449576],</span>\n<span class=\"go\">       [ 0.51449576,  0.85749293]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span>\n<span class=\"go\">array([[ 1.88648444,  1.2004901 ],</span>\n<span class=\"go\">       [ 1.2004901 ,  3.94446746]])</span>\n</pre></div>\n</div>\n<p>A non-square example, with m &lt; n:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mf\">0.5</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mf\">1.5</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">u</span><span class=\"p\">,</span> <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">polar</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">u</span>\n<span class=\"go\">array([[-0.21196618, -0.42393237,  0.88054056],</span>\n<span class=\"go\">       [ 0.39378971,  0.78757942,  0.4739708 ]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span>\n<span class=\"go\">array([[ 0.48470147,  0.96940295,  1.15122648],</span>\n<span class=\"go\">       [ 0.96940295,  1.9388059 ,  2.30245295],</span>\n<span class=\"go\">       [ 1.15122648,  2.30245295,  3.65696431]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">u</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">)</span>   <span class=\"c1\"># Verify the decomposition.</span>\n<span class=\"go\">array([[ 0.5,  1. ,  2. ],</span>\n<span class=\"go\">       [ 1.5,  3. ,  4. ]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">u</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">u</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"p\">)</span>   <span class=\"c1\"># The rows of u are orthonormal.</span>\n<span class=\"go\">array([[  1.00000000e+00,  -2.07353665e-17],</span>\n<span class=\"go\">       [ -2.07353665e-17,   1.00000000e+00]])</span>\n</pre></div>\n</div>\n<p>Another non-square example, with m &gt; n:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"n\">b</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">u</span><span class=\"p\">,</span> <span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">polar</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">u</span>\n<span class=\"go\">array([[-0.21196618,  0.39378971],</span>\n<span class=\"go\">       [-0.42393237,  0.78757942],</span>\n<span class=\"go\">       [ 0.88054056,  0.4739708 ]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">p</span>\n<span class=\"go\">array([[ 1.23116567,  1.93241587],</span>\n<span class=\"go\">       [ 1.93241587,  4.84930602]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">u</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">p</span><span class=\"p\">)</span>   <span class=\"c1\"># Verify the decomposition.</span>\n<span class=\"go\">array([[ 0.5,  1.5],</span>\n<span class=\"go\">       [ 1. ,  3. ],</span>\n<span class=\"go\">       [ 2. ,  4. ]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">u</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">u</span><span class=\"p\">)</span>  <span class=\"c1\"># The columns of u are orthonormal.</span>\n<span class=\"go\">array([[  1.00000000e+00,  -1.26363763e-16],</span>\n<span class=\"go\">       [ -1.26363763e-16,   1.00000000e+00]])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"reorient-bvecs\">\n<h3>reorient_bvecs<a class=\"headerlink\" href=\"#reorient-bvecs\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.gradients.reorient_bvecs\">\n<code class=\"descclassname\">dipy.core.gradients.</code><code class=\"descname\">reorient_bvecs</code><span class=\"sig-paren\">(</span><em>gtab</em>, <em>affines</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.reorient_bvecs\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Reorient the directions in a GradientTable.</p>\n<p>When correcting for motion, rotation of the diffusion-weighted volumes\nmight cause systematic bias in rotationally invariant measures, such as FA\nand MD, and also cause characteristic biases in tractography, unless the\ngradient directions are appropriately reoriented to compensate for this\neffect <a class=\"reference internal\" href=\"#re5af466232f4-leemans2009\" id=\"id8\">[Leemans2009]</a>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>gtab</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">GradientTable</span></dt>\n<dd><p class=\"first last\">The nominal gradient table with which the data were acquired.</p>\n</dd>\n<dt><strong>affines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list or ndarray of shape (n, 4, 4) or (n, 3, 3)</span></dt>\n<dd><p class=\"first last\">Each entry in this list or array contain either an affine\ntransformation (4,4) or a rotation matrix (3, 3).\nIn both cases, the transformations encode the rotation that was applied\nto the image corresponding to one of the non-zero gradient directions\n(ordered according to their order in <cite>gtab.bvecs[~gtab.b0s_mask]</cite>)</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>gtab</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">a GradientTable class instance with the reoriented directions</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"re5af466232f4-leemans2009\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Leemans2009]</td><td><em>(<a class=\"fn-backref\" href=\"#id8\">1</a>, <a class=\"fn-backref\" href=\"#id9\">2</a>)</em> The B-Matrix Must Be Rotated When Correcting for\nSubject Motion in DTI Data. Leemans, A. and Jones, D.K. (2009).\nMRM, 61: 1336-1349</td></tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id10\">\n<h3>vector_norm<a class=\"headerlink\" href=\"#id10\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.gradients.vector_norm\">\n<code class=\"descclassname\">dipy.core.gradients.</code><code class=\"descname\">vector_norm</code><span class=\"sig-paren\">(</span><em>vec</em>, <em>axis=-1</em>, <em>keepdims=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.vector_norm\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return vector Euclidean (L2) norm</p>\n<p>See <a class=\"reference internal\" href=\"../../glossary/#term-unit-vector\"><span class=\"xref std std-term\">unit vector</span></a> and <a class=\"reference internal\" href=\"../../glossary/#term-euclidean-norm\"><span class=\"xref std std-term\">Euclidean norm</span></a></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>vec</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">Vectors to norm.</p>\n</dd>\n<dt><strong>axis</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Axis over which to norm. By default norm over last axis. If <cite>axis</cite> is\nNone, <cite>vec</cite> is flattened then normed.</p>\n</dd>\n<dt><strong>keepdims</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">If True, the output will have the same number of dimensions as <cite>vec</cite>,\nwith shape 1 on <cite>axis</cite>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>norm</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">Euclidean norms of vectors.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">vec</span> <span class=\"o\">=</span> <span class=\"p\">[[</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">15</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">36</span><span class=\"p\">,</span> <span class=\"mi\">77</span><span class=\"p\">]]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">vector_norm</span><span class=\"p\">(</span><span class=\"n\">vec</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 17.,  85.])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">vector_norm</span><span class=\"p\">(</span><span class=\"n\">vec</span><span class=\"p\">,</span> <span class=\"n\">keepdims</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"go\">array([[ 17.],</span>\n<span class=\"go\">       [ 85.]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">vector_norm</span><span class=\"p\">(</span><span class=\"n\">vec</span><span class=\"p\">,</span> <span class=\"n\">axis</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"go\">array([  8.,  39.,  77.])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"warn\">\n<h3>warn<a class=\"headerlink\" href=\"#warn\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.gradients.warn\">\n<code class=\"descclassname\">dipy.core.gradients.</code><code class=\"descname\">warn</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.gradients.warn\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Issue a warning, or maybe ignore it or raise an exception.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"graph\">\n<h3><a class=\"reference internal\" href=\"#dipy.core.graph.Graph\" title=\"dipy.core.graph.Graph\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Graph</span></code></a><a class=\"headerlink\" href=\"#graph\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.core.graph.Graph\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.core.graph.</code><code class=\"descname\">Graph</code><a class=\"headerlink\" href=\"#dipy.core.graph.Graph\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>A simple graph class</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"69%\" />\n<col width=\"31%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>add_edge</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>add_node</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>all_paths</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>children</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>del_node</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>del_node_and_edges</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>down</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>down_short</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>parents</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>shortest_path</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>up</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>up_short</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.core.graph.Graph.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.graph.Graph.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>A graph class with nodes and edges :-)</p>\n<p>This class allows us to:</p>\n<ol class=\"arabic simple\">\n<li>find the shortest path</li>\n<li>find all paths</li>\n<li>add/delete nodes and edges</li>\n<li>get parent &amp; children nodes</li>\n</ol>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core.graph</span> <span class=\"k\">import</span> <span class=\"n\">Graph</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">g</span><span class=\"o\">=</span><span class=\"n\">Graph</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">g</span><span class=\"o\">.</span><span class=\"n\">add_node</span><span class=\"p\">(</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">g</span><span class=\"o\">.</span><span class=\"n\">add_node</span><span class=\"p\">(</span><span class=\"s1\">&#39;b&#39;</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">g</span><span class=\"o\">.</span><span class=\"n\">add_node</span><span class=\"p\">(</span><span class=\"s1\">&#39;c&#39;</span><span class=\"p\">,</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">g</span><span class=\"o\">.</span><span class=\"n\">add_node</span><span class=\"p\">(</span><span class=\"s1\">&#39;d&#39;</span><span class=\"p\">,</span><span class=\"mi\">11</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">g</span><span class=\"o\">.</span><span class=\"n\">add_edge</span><span class=\"p\">(</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;b&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">g</span><span class=\"o\">.</span><span class=\"n\">add_edge</span><span class=\"p\">(</span><span class=\"s1\">&#39;b&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;c&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">g</span><span class=\"o\">.</span><span class=\"n\">add_edge</span><span class=\"p\">(</span><span class=\"s1\">&#39;c&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;d&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">g</span><span class=\"o\">.</span><span class=\"n\">add_edge</span><span class=\"p\">(</span><span class=\"s1\">&#39;b&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;d&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">g</span><span class=\"o\">.</span><span class=\"n\">up_short</span><span class=\"p\">(</span><span class=\"s1\">&#39;d&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">[&#39;d&#39;, &#39;b&#39;, &#39;a&#39;]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.graph.Graph.add_edge\">\n<code class=\"descname\">add_edge</code><span class=\"sig-paren\">(</span><em>n</em>, <em>m</em>, <em>ws=True</em>, <em>wp=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.graph.Graph.add_edge\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.graph.Graph.add_node\">\n<code class=\"descname\">add_node</code><span class=\"sig-paren\">(</span><em>n</em>, <em>attr=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.graph.Graph.add_node\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.graph.Graph.all_paths\">\n<code class=\"descname\">all_paths</code><span class=\"sig-paren\">(</span><em>graph</em>, <em>start</em>, <em>end=None</em>, <em>path=[]</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.graph.Graph.all_paths\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.graph.Graph.children\">\n<code class=\"descname\">children</code><span class=\"sig-paren\">(</span><em>n</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.graph.Graph.children\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.graph.Graph.del_node\">\n<code class=\"descname\">del_node</code><span class=\"sig-paren\">(</span><em>n</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.graph.Graph.del_node\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.graph.Graph.del_node_and_edges\">\n<code class=\"descname\">del_node_and_edges</code><span class=\"sig-paren\">(</span><em>n</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.graph.Graph.del_node_and_edges\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.graph.Graph.down\">\n<code class=\"descname\">down</code><span class=\"sig-paren\">(</span><em>n</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.graph.Graph.down\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.graph.Graph.down_short\">\n<code class=\"descname\">down_short</code><span class=\"sig-paren\">(</span><em>n</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.graph.Graph.down_short\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.graph.Graph.parents\">\n<code class=\"descname\">parents</code><span class=\"sig-paren\">(</span><em>n</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.graph.Graph.parents\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.graph.Graph.shortest_path\">\n<code class=\"descname\">shortest_path</code><span class=\"sig-paren\">(</span><em>graph</em>, <em>start</em>, <em>end=None</em>, <em>path=[]</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.graph.Graph.shortest_path\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.graph.Graph.up\">\n<code class=\"descname\">up</code><span class=\"sig-paren\">(</span><em>n</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.graph.Graph.up\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.graph.Graph.up_short\">\n<code class=\"descname\">up_short</code><span class=\"sig-paren\">(</span><em>n</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.graph.Graph.up_short\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"histeq\">\n<h3>histeq<a class=\"headerlink\" href=\"#histeq\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.histeq.histeq\">\n<code class=\"descclassname\">dipy.core.histeq.</code><code class=\"descname\">histeq</code><span class=\"sig-paren\">(</span><em>arr</em>, <em>num_bins=256</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.histeq.histeq\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Performs an histogram equalization on <code class=\"docutils literal notranslate\"><span class=\"pre\">arr</span></code>.\nThis was taken from:\n<a class=\"reference external\" href=\"http://www.janeriksolem.net/2009/06/histogram-equalization-with-python-and.html\">http://www.janeriksolem.net/2009/06/histogram-equalization-with-python-and.html</a></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>arr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Image on which to perform histogram equalization.</p>\n</dd>\n<dt><strong>num_bins</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of bins used to construct the histogram.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>result</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Histogram equalized image.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"as-strided\">\n<h3>as_strided<a class=\"headerlink\" href=\"#as-strided\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.ndindex.as_strided\">\n<code class=\"descclassname\">dipy.core.ndindex.</code><code class=\"descname\">as_strided</code><span class=\"sig-paren\">(</span><em>x</em>, <em>shape=None</em>, <em>strides=None</em>, <em>subok=False</em>, <em>writeable=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.ndindex.as_strided\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a view into the array with the given shape and strides.</p>\n<div class=\"admonition warning\">\n<p class=\"first admonition-title\">Warning</p>\n<p class=\"last\">This function has to be used with extreme care, see notes.</p>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>x</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Array to create a new.</p>\n</dd>\n<dt><strong>shape</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence of int, optional</span></dt>\n<dd><p class=\"first last\">The shape of the new array. Defaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">x.shape</span></code>.</p>\n</dd>\n<dt><strong>strides</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence of int, optional</span></dt>\n<dd><p class=\"first last\">The strides of the new array. Defaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">x.strides</span></code>.</p>\n</dd>\n<dt><strong>subok</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><div class=\"first versionadded\">\n<p><span class=\"versionmodified\">New in version 1.10.</span></p>\n</div>\n<p class=\"last\">If True, subclasses are preserved.</p>\n</dd>\n<dt><strong>writeable</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><div class=\"first versionadded\">\n<p><span class=\"versionmodified\">New in version 1.12.</span></p>\n</div>\n<p class=\"last\">If set to False, the returned array will always be readonly.\nOtherwise it will be writable if the original array was. It\nis advisable to set this to False if possible (see Notes).</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>view</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<dl class=\"last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">broadcast_to</span></code></dt>\n<dd>broadcast an array to a given shape.</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">reshape</span></code></dt>\n<dd>reshape an array.</dd>\n</dl>\n</div>\n<p class=\"rubric\">Notes</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">as_strided</span></code> creates a view into the array given the exact strides\nand shape. This means it manipulates the internal data structure of\nndarray and, if done incorrectly, the array elements can point to\ninvalid memory and can corrupt results or crash your program.\nIt is advisable to always use the original <code class=\"docutils literal notranslate\"><span class=\"pre\">x.strides</span></code> when\ncalculating new strides to avoid reliance on a contiguous memory\nlayout.</p>\n<p>Furthermore, arrays created with this function often contain self\noverlapping memory, so that two elements are identical.\nVectorized write operations on such arrays will typically be\nunpredictable. They may even give different results for small, large,\nor transposed arrays.\nSince writing to these arrays has to be tested and done with great\ncare, you may want to use <code class=\"docutils literal notranslate\"><span class=\"pre\">writeable=False</span></code> to avoid accidental write\noperations.</p>\n<p>For these reasons it is advisable to avoid <code class=\"docutils literal notranslate\"><span class=\"pre\">as_strided</span></code> when\npossible.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"ndindex\">\n<h3>ndindex<a class=\"headerlink\" href=\"#ndindex\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.ndindex.ndindex\">\n<code class=\"descclassname\">dipy.core.ndindex.</code><code class=\"descname\">ndindex</code><span class=\"sig-paren\">(</span><em>shape</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.ndindex.ndindex\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>An N-dimensional iterator object to index arrays.</p>\n<p>Given the shape of an array, an <cite>ndindex</cite> instance iterates over\nthe N-dimensional index of the array. At each iteration a tuple\nof indices is returned; the last dimension is iterated over first.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>shape</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">tuple of ints</span></dt>\n<dd><p class=\"first last\">The dimensions of the array.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core.ndindex</span> <span class=\"k\">import</span> <span class=\"n\">ndindex</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">shape</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">index</span> <span class=\"ow\">in</span> <span class=\"n\">ndindex</span><span class=\"p\">(</span><span class=\"n\">shape</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">index</span><span class=\"p\">)</span>\n<span class=\"go\">(0, 0, 0)</span>\n<span class=\"go\">(0, 1, 0)</span>\n<span class=\"go\">(1, 0, 0)</span>\n<span class=\"go\">(1, 1, 0)</span>\n<span class=\"go\">(2, 0, 0)</span>\n<span class=\"go\">(2, 1, 0)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"onetimeproperty\">\n<h3><a class=\"reference internal\" href=\"#dipy.core.onetime.OneTimeProperty\" title=\"dipy.core.onetime.OneTimeProperty\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OneTimeProperty</span></code></a><a class=\"headerlink\" href=\"#onetimeproperty\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.core.onetime.OneTimeProperty\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.core.onetime.</code><code class=\"descname\">OneTimeProperty</code><span class=\"sig-paren\">(</span><em>func</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.onetime.OneTimeProperty\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>A descriptor to make special properties that become normal attributes.</p>\n<p>This is meant to be used mostly by the auto_attr decorator in this module.</p>\n<dl class=\"method\">\n<dt id=\"dipy.core.onetime.OneTimeProperty.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>func</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.onetime.OneTimeProperty.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a OneTimeProperty instance.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>func</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">method</span></dt>\n<dd><p class=\"first last\">The method that will be called the first time to compute a value.\nAfterwards, the method\u2019s name will be a standard attribute holding\nthe value of this computation.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"resetmixin\">\n<h3><a class=\"reference internal\" href=\"#dipy.core.onetime.ResetMixin\" title=\"dipy.core.onetime.ResetMixin\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ResetMixin</span></code></a><a class=\"headerlink\" href=\"#resetmixin\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.core.onetime.ResetMixin\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.core.onetime.</code><code class=\"descname\">ResetMixin</code><a class=\"headerlink\" href=\"#dipy.core.onetime.ResetMixin\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>A Mixin class to add a .reset() method to users of OneTimeProperty.</p>\n<p>By default, auto attributes once computed, become static.  If they happen\nto depend on other parts of an object and those parts change, their values\nmay now be invalid.</p>\n<p>This class offers a .reset() method that users can call <em>explicitly</em> when\nthey know the state of their objects may have changed and they want to\nensure that <em>all</em> their special attributes should be invalidated.  Once\nreset() is called, all their auto attributes are reset to their\nOneTimeProperty descriptors, and their accessor functions will be triggered\nagain.</p>\n<div class=\"admonition warning\">\n<p class=\"first admonition-title\">Warning</p>\n<p>If a class has a set of attributes that are OneTimeProperty, but that\ncan be initialized from any one of them, do NOT use this mixin!  For\ninstance, UniformTimeSeries can be initialized with only sampling_rate\nand t0, sampling_interval and time are auto-computed.  But if you were\nto reset() a UniformTimeSeries, it would lose all 4, and there would be\nthen no way to break the circular dependency chains.</p>\n<p class=\"last\">If this becomes a problem in practice (for our analyzer objects it\nisn\u2019t, as they don\u2019t have the above pattern), we can extend reset() to\ncheck for a _no_reset set of names in the instance which are meant to be\nkept protected.  But for now this is NOT done, so caveat emptor.</p>\n</div>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span> <span class=\"nc\">A</span><span class=\"p\">(</span><span class=\"n\">ResetMixin</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span> <span class=\"nf\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"mf\">1.0</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">x</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">... </span>    <span class=\"nd\">@auto_attr</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span> <span class=\"nf\">y</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;*** y computation executed ***&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">... </span>        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">x</span> <span class=\"o\">/</span> <span class=\"mf\">2.0</span>\n<span class=\"gp\">...</span>\n</pre></div>\n</div>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">A</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>About to access y twice, the second time no computation is done:\n&gt;&gt;&gt; a.y\n<strong>* y computation executed *</strong>\n5.0\n&gt;&gt;&gt; a.y\n5.0</p>\n<p>Changing x\n&gt;&gt;&gt; a.x = 20</p>\n<p>a.y doesn\u2019t change to 10, since it is a static attribute:\n&gt;&gt;&gt; a.y\n5.0</p>\n<p>We now reset a, and this will then force all auto attributes to recompute\nthe next time we access them:\n&gt;&gt;&gt; a.reset()</p>\n<p>About to access y twice again after reset():\n&gt;&gt;&gt; a.y\n<strong>* y computation executed *</strong>\n10.0\n&gt;&gt;&gt; a.y\n10.0</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.onetime.ResetMixin.reset\" title=\"dipy.core.onetime.ResetMixin.reset\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">reset</span></code></a>()</td>\n<td>Reset all OneTimeProperty attributes that may have fired already.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.core.onetime.ResetMixin.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.onetime.ResetMixin.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.onetime.ResetMixin.reset\">\n<code class=\"descname\">reset</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.onetime.ResetMixin.reset\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Reset all OneTimeProperty attributes that may have fired already.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id11\">\n<h3>auto_attr<a class=\"headerlink\" href=\"#id11\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.onetime.auto_attr\">\n<code class=\"descclassname\">dipy.core.onetime.</code><code class=\"descname\">auto_attr</code><span class=\"sig-paren\">(</span><em>func</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.onetime.auto_attr\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Decorator to create OneTimeProperty attributes.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>func</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">method</span></dt>\n<dd><p class=\"first last\">The method that will be called the first time to compute a value.\nAfterwards, the method\u2019s name will be a standard attribute holding the\nvalue of this computation.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span> <span class=\"nc\">MagicProp</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"nd\">@auto_attr</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span> <span class=\"nf\">a</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"k\">return</span> <span class=\"mi\">99</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">MagicProp</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"s1\">&#39;a&#39;</span> <span class=\"ow\">in</span> <span class=\"n\">x</span><span class=\"o\">.</span><span class=\"vm\">__dict__</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">.</span><span class=\"n\">a</span>\n<span class=\"go\">99</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"s1\">&#39;a&#39;</span> <span class=\"ow\">in</span> <span class=\"n\">x</span><span class=\"o\">.</span><span class=\"vm\">__dict__</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"setattr-on-read\">\n<h3>setattr_on_read<a class=\"headerlink\" href=\"#setattr-on-read\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.onetime.setattr_on_read\">\n<code class=\"descclassname\">dipy.core.onetime.</code><code class=\"descname\">setattr_on_read</code><span class=\"sig-paren\">(</span><em>func</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.onetime.setattr_on_read\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Decorator to create OneTimeProperty attributes.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>func</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">method</span></dt>\n<dd><p class=\"first last\">The method that will be called the first time to compute a value.\nAfterwards, the method\u2019s name will be a standard attribute holding the\nvalue of this computation.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span> <span class=\"nc\">MagicProp</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"nd\">@auto_attr</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span> <span class=\"nf\">a</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"k\">return</span> <span class=\"mi\">99</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">MagicProp</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"s1\">&#39;a&#39;</span> <span class=\"ow\">in</span> <span class=\"n\">x</span><span class=\"o\">.</span><span class=\"vm\">__dict__</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">.</span><span class=\"n\">a</span>\n<span class=\"go\">99</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"s1\">&#39;a&#39;</span> <span class=\"ow\">in</span> <span class=\"n\">x</span><span class=\"o\">.</span><span class=\"vm\">__dict__</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"looseversion\">\n<h3><a class=\"reference internal\" href=\"#dipy.core.optimize.LooseVersion\" title=\"dipy.core.optimize.LooseVersion\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">LooseVersion</span></code></a><a class=\"headerlink\" href=\"#looseversion\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.core.optimize.LooseVersion\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.core.optimize.</code><code class=\"descname\">LooseVersion</code><span class=\"sig-paren\">(</span><em>vstring=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.LooseVersion\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">distutils.version.Version</span></code></p>\n<p>Version numbering for anarchists and software realists.\nImplements the standard interface for version number classes as\ndescribed above.  A version number consists of a series of numbers,\nseparated by either periods or strings of letters.  When comparing\nversion numbers, the numeric components will be compared\nnumerically, and the alphabetic components lexically.  The following\nare all valid version numbers, in no particular order:</p>\n<blockquote>\n<div>1.5.1\n1.5.2b2\n161\n3.10a\n8.02\n3.4j\n1996.07.12\n3.2.pl0\n3.1.1.6\n2g6\n11g\n0.960923\n2.2beta29\n1.13++\n5.5.kw\n2.0b1pl0</div></blockquote>\n<p>In fact, there is no such thing as an invalid version number under\nthis scheme; the rules for comparison are simple and predictable,\nbut may not always give the results you want (for some definition\nof \u201cwant\u201d).</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"47%\" />\n<col width=\"53%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>parse</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.core.optimize.LooseVersion.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>vstring=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.LooseVersion.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.core.optimize.LooseVersion.component_re\">\n<code class=\"descname\">component_re</code><em class=\"property\"> = re.compile('(\\\\d+ | [a-z]+ | \\\\.)', re.VERBOSE)</em><a class=\"headerlink\" href=\"#dipy.core.optimize.LooseVersion.component_re\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.optimize.LooseVersion.parse\">\n<code class=\"descname\">parse</code><span class=\"sig-paren\">(</span><em>vstring</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.LooseVersion.parse\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"nonnegativeleastsquares\">\n<h3><a class=\"reference internal\" href=\"#dipy.core.optimize.NonNegativeLeastSquares\" title=\"dipy.core.optimize.NonNegativeLeastSquares\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">NonNegativeLeastSquares</span></code></a><a class=\"headerlink\" href=\"#nonnegativeleastsquares\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.core.optimize.NonNegativeLeastSquares\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.core.optimize.</code><code class=\"descname\">NonNegativeLeastSquares</code><span class=\"sig-paren\">(</span><em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.NonNegativeLeastSquares\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.core.optimize.SKLearnLinearSolver\" title=\"dipy.core.optimize.SKLearnLinearSolver\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.core.optimize.SKLearnLinearSolver</span></code></a></p>\n<p>A sklearn-like interface to scipy.optimize.nnls</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.optimize.NonNegativeLeastSquares.fit\" title=\"dipy.core.optimize.NonNegativeLeastSquares.fit\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">fit</span></code></a>(X,&nbsp;y)</td>\n<td>Fit the NonNegativeLeastSquares linear model to data</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">predict</span></code>(X)</td>\n<td>Predict using the result of the model</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.core.optimize.NonNegativeLeastSquares.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.NonNegativeLeastSquares.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.optimize.NonNegativeLeastSquares.fit\">\n<code class=\"descname\">fit</code><span class=\"sig-paren\">(</span><em>X</em>, <em>y</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.NonNegativeLeastSquares.fit\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Fit the NonNegativeLeastSquares linear model to data</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"optimizer\">\n<h3><a class=\"reference internal\" href=\"#dipy.core.optimize.Optimizer\" title=\"dipy.core.optimize.Optimizer\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Optimizer</span></code></a><a class=\"headerlink\" href=\"#optimizer\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.core.optimize.Optimizer\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.core.optimize.</code><code class=\"descname\">Optimizer</code><span class=\"sig-paren\">(</span><em>fun</em>, <em>x0</em>, <em>args=()</em>, <em>method='L-BFGS-B'</em>, <em>jac=None</em>, <em>hess=None</em>, <em>hessp=None</em>, <em>bounds=None</em>, <em>constraints=()</em>, <em>tol=None</em>, <em>callback=None</em>, <em>options=None</em>, <em>evolution=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.Optimizer\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>evolution</strong></dt>\n<dd></dd>\n<dt><strong>fopt</strong></dt>\n<dd></dd>\n<dt><strong>message</strong></dt>\n<dd></dd>\n<dt><strong>nfev</strong></dt>\n<dd></dd>\n<dt><strong>nit</strong></dt>\n<dd></dd>\n<dt><strong>xopt</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"63%\" />\n<col width=\"37%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>print_summary</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.core.optimize.Optimizer.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>fun</em>, <em>x0</em>, <em>args=()</em>, <em>method='L-BFGS-B'</em>, <em>jac=None</em>, <em>hess=None</em>, <em>hessp=None</em>, <em>bounds=None</em>, <em>constraints=()</em>, <em>tol=None</em>, <em>callback=None</em>, <em>options=None</em>, <em>evolution=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.Optimizer.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>A class for handling minimization of scalar function of one or more\nvariables.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>fun</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">callable</span></dt>\n<dd><p class=\"first last\">Objective function.</p>\n</dd>\n<dt><strong>x0</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Initial guess.</p>\n</dd>\n<dt><strong>args</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">tuple, optional</span></dt>\n<dd><p class=\"first last\">Extra arguments passed to the objective function and its\nderivatives (Jacobian, Hessian).</p>\n</dd>\n<dt><strong>method</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str, optional</span></dt>\n<dd><p class=\"first\">Type of solver.  Should be one of</p>\n<blockquote class=\"last\">\n<div><ul class=\"simple\">\n<li>\u2018Nelder-Mead\u2019</li>\n<li>\u2018Powell\u2019</li>\n<li>\u2018CG\u2019</li>\n<li>\u2018BFGS\u2019</li>\n<li>\u2018Newton-CG\u2019</li>\n<li>\u2018Anneal\u2019</li>\n<li>\u2018L-BFGS-B\u2019</li>\n<li>\u2018TNC\u2019</li>\n<li>\u2018COBYLA\u2019</li>\n<li>\u2018SLSQP\u2019</li>\n<li>\u2018dogleg\u2019</li>\n<li>\u2018trust-ncg\u2019</li>\n</ul>\n</div></blockquote>\n</dd>\n<dt><strong>jac</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool or callable, optional</span></dt>\n<dd><p class=\"first last\">Jacobian of objective function. Only for CG, BFGS, Newton-CG,\ndogleg, trust-ncg.\nIf <cite>jac</cite> is a Boolean and is True, <cite>fun</cite> is assumed to return the\nvalue of Jacobian along with the objective function. If False, the\nJacobian will be estimated numerically.\n<cite>jac</cite> can also be a callable returning the Jacobian of the\nobjective. In this case, it must accept the same arguments\nas <cite>fun</cite>.</p>\n</dd>\n<dt><strong>hess, hessp</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">callable, optional</span></dt>\n<dd><p class=\"first last\">Hessian of objective function or Hessian of objective function\ntimes an arbitrary vector p.  Only for Newton-CG,\ndogleg, trust-ncg.\nOnly one of <cite>hessp</cite> or <cite>hess</cite> needs to be given.  If <cite>hess</cite> is\nprovided, then <cite>hessp</cite> will be ignored.  If neither <cite>hess</cite> nor\n<cite>hessp</cite> is provided, then the hessian product will be approximated\nusing finite differences on <cite>jac</cite>. <cite>hessp</cite> must compute the Hessian\ntimes an arbitrary vector.</p>\n</dd>\n<dt><strong>bounds</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence, optional</span></dt>\n<dd><p class=\"first last\">Bounds for variables (only for L-BFGS-B, TNC and SLSQP).\n<code class=\"docutils literal notranslate\"><span class=\"pre\">(min,</span> <span class=\"pre\">max)</span></code> pairs for each element in <code class=\"docutils literal notranslate\"><span class=\"pre\">x</span></code>, defining\nthe bounds on that parameter. Use None for one of <code class=\"docutils literal notranslate\"><span class=\"pre\">min</span></code> or\n<code class=\"docutils literal notranslate\"><span class=\"pre\">max</span></code> when there is no bound in that direction.</p>\n</dd>\n<dt><strong>constraints</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">dict or sequence of dict, optional</span></dt>\n<dd><p class=\"first\">Constraints definition (only for COBYLA and SLSQP).\nEach constraint is defined in a dictionary with fields:</p>\n<blockquote>\n<div><dl class=\"docutils\">\n<dt>type <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str</span></dt>\n<dd><p class=\"first last\">Constraint type: \u2018eq\u2019 for equality, \u2018ineq\u2019 for inequality.</p>\n</dd>\n<dt>fun <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">callable</span></dt>\n<dd><p class=\"first last\">The function defining the constraint.</p>\n</dd>\n<dt>jac <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">callable, optional</span></dt>\n<dd><p class=\"first last\">The Jacobian of <cite>fun</cite> (only for SLSQP).</p>\n</dd>\n<dt>args <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence, optional</span></dt>\n<dd><p class=\"first last\">Extra arguments to be passed to the function and Jacobian.</p>\n</dd>\n</dl>\n</div></blockquote>\n<p class=\"last\">Equality constraint means that the constraint function result is to\nbe zero whereas inequality means that it is to be non-negative.\nNote that COBYLA only supports inequality constraints.</p>\n</dd>\n<dt><strong>tol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float, optional</span></dt>\n<dd><p class=\"first last\">Tolerance for termination. For detailed control, use\nsolver-specific options.</p>\n</dd>\n<dt><strong>callback</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">callable, optional</span></dt>\n<dd><p class=\"first last\">Called after each iteration, as <code class=\"docutils literal notranslate\"><span class=\"pre\">callback(xk)</span></code>, where <code class=\"docutils literal notranslate\"><span class=\"pre\">xk</span></code> is\nthe current parameter vector. Only available using Scipy &gt;= 0.12.</p>\n</dd>\n<dt><strong>options</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">dict, optional</span></dt>\n<dd><p class=\"first\">A dictionary of solver options. All methods accept the following\ngeneric options:</p>\n<blockquote>\n<div><dl class=\"docutils\">\n<dt>maxiter <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Maximum number of iterations to perform.</p>\n</dd>\n<dt>disp <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">Set to True to print convergence messages.</p>\n</dd>\n</dl>\n</div></blockquote>\n<p class=\"last\">For method-specific options, see\n<cite>show_options(\u2018minimize\u2019, method)</cite>.</p>\n</dd>\n<dt><strong>evolution</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><p class=\"first last\">save history of x for each iteration. Only available using Scipy\n&gt;= 0.12.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">scipy.optimize.minimize</span></code></p>\n</div>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.core.optimize.Optimizer.evolution\">\n<code class=\"descname\">evolution</code><a class=\"headerlink\" href=\"#dipy.core.optimize.Optimizer.evolution\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.core.optimize.Optimizer.fopt\">\n<code class=\"descname\">fopt</code><a class=\"headerlink\" href=\"#dipy.core.optimize.Optimizer.fopt\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.core.optimize.Optimizer.message\">\n<code class=\"descname\">message</code><a class=\"headerlink\" href=\"#dipy.core.optimize.Optimizer.message\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.core.optimize.Optimizer.nfev\">\n<code class=\"descname\">nfev</code><a class=\"headerlink\" href=\"#dipy.core.optimize.Optimizer.nfev\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.core.optimize.Optimizer.nit\">\n<code class=\"descname\">nit</code><a class=\"headerlink\" href=\"#dipy.core.optimize.Optimizer.nit\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.optimize.Optimizer.print_summary\">\n<code class=\"descname\">print_summary</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.Optimizer.print_summary\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.core.optimize.Optimizer.xopt\">\n<code class=\"descname\">xopt</code><a class=\"headerlink\" href=\"#dipy.core.optimize.Optimizer.xopt\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"sklearnlinearsolver\">\n<h3><a class=\"reference internal\" href=\"#dipy.core.optimize.SKLearnLinearSolver\" title=\"dipy.core.optimize.SKLearnLinearSolver\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SKLearnLinearSolver</span></code></a><a class=\"headerlink\" href=\"#sklearnlinearsolver\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.core.optimize.SKLearnLinearSolver\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.core.optimize.</code><code class=\"descname\">SKLearnLinearSolver</code><span class=\"sig-paren\">(</span><em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.SKLearnLinearSolver\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">abc.NewBase</span></code></p>\n<p>Provide a sklearn-like uniform interface to algorithms that solve problems\nof the form: <span class=\"math notranslate nohighlight\">\\(y = Ax\\)</span> for <span class=\"math notranslate nohighlight\">\\(x\\)</span></p>\n<p>Sub-classes of SKLearnLinearSolver should provide a \u2018fit\u2019 method that have\nthe following signature: <cite>SKLearnLinearSolver.fit(X, y)</cite>, which would set\nan attribute <cite>SKLearnLinearSolver.coef_</cite>, with the shape (X.shape[1],),\nsuch that an estimate of y can be calculated as:\n<cite>y_hat = np.dot(X, SKLearnLinearSolver.coef_.T)</cite></p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.optimize.SKLearnLinearSolver.fit\" title=\"dipy.core.optimize.SKLearnLinearSolver.fit\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">fit</span></code></a>(X,&nbsp;y)</td>\n<td>Implement for all derived classes</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.optimize.SKLearnLinearSolver.predict\" title=\"dipy.core.optimize.SKLearnLinearSolver.predict\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">predict</span></code></a>(X)</td>\n<td>Predict using the result of the model</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.core.optimize.SKLearnLinearSolver.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.SKLearnLinearSolver.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.optimize.SKLearnLinearSolver.fit\">\n<code class=\"descname\">fit</code><span class=\"sig-paren\">(</span><em>X</em>, <em>y</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.SKLearnLinearSolver.fit\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Implement for all derived classes</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.optimize.SKLearnLinearSolver.predict\">\n<code class=\"descname\">predict</code><span class=\"sig-paren\">(</span><em>X</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.SKLearnLinearSolver.predict\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Predict using the result of the model</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>X</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like (n_samples, n_features)</span></dt>\n<dd><p class=\"first last\">Samples.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>C</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape = (n_samples,)</span></dt>\n<dd><p class=\"first last\">Predicted values.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"minimize\">\n<h3>minimize<a class=\"headerlink\" href=\"#minimize\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.optimize.minimize\">\n<code class=\"descclassname\">dipy.core.optimize.</code><code class=\"descname\">minimize</code><span class=\"sig-paren\">(</span><em>fun</em>, <em>x0</em>, <em>args=()</em>, <em>method=None</em>, <em>jac=None</em>, <em>hess=None</em>, <em>hessp=None</em>, <em>bounds=None</em>, <em>constraints=()</em>, <em>tol=None</em>, <em>callback=None</em>, <em>options=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.minimize\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Minimization of scalar function of one or more variables.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>fun</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">callable</span></dt>\n<dd><p class=\"first\">The objective function to be minimized.</p>\n<blockquote>\n<div><p><code class=\"docutils literal notranslate\"><span class=\"pre\">fun(x,</span> <span class=\"pre\">*args)</span> <span class=\"pre\">-&gt;</span> <span class=\"pre\">float</span></code></p>\n</div></blockquote>\n<p class=\"last\">where x is an 1-D array with shape (n,) and <cite>args</cite>\nis a tuple of the fixed parameters needed to completely\nspecify the function.</p>\n</dd>\n<dt><strong>x0</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray, shape (n,)</span></dt>\n<dd><p class=\"first last\">Initial guess. Array of real elements of size (n,),\nwhere \u2018n\u2019 is the number of independent variables.</p>\n</dd>\n<dt><strong>args</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">tuple, optional</span></dt>\n<dd><p class=\"first last\">Extra arguments passed to the objective function and its\nderivatives (<cite>fun</cite>, <cite>jac</cite> and <cite>hess</cite> functions).</p>\n</dd>\n<dt><strong>method</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str or callable, optional</span></dt>\n<dd><p class=\"first\">Type of solver.  Should be one of</p>\n<blockquote>\n<div><ul class=\"simple\">\n<li>\u2018Nelder-Mead\u2019 <span class=\"xref std std-ref\">(see here)</span></li>\n<li>\u2018Powell\u2019      <span class=\"xref std std-ref\">(see here)</span></li>\n<li>\u2018CG\u2019          <span class=\"xref std std-ref\">(see here)</span></li>\n<li>\u2018BFGS\u2019        <span class=\"xref std std-ref\">(see here)</span></li>\n<li>\u2018Newton-CG\u2019   <span class=\"xref std std-ref\">(see here)</span></li>\n<li>\u2018L-BFGS-B\u2019    <span class=\"xref std std-ref\">(see here)</span></li>\n<li>\u2018TNC\u2019         <span class=\"xref std std-ref\">(see here)</span></li>\n<li>\u2018COBYLA\u2019      <span class=\"xref std std-ref\">(see here)</span></li>\n<li>\u2018SLSQP\u2019       <span class=\"xref std std-ref\">(see here)</span></li>\n<li>\u2018trust-constr\u2019<span class=\"xref std std-ref\">(see here)</span></li>\n<li>\u2018dogleg\u2019      <span class=\"xref std std-ref\">(see here)</span></li>\n<li>\u2018trust-ncg\u2019   <span class=\"xref std std-ref\">(see here)</span></li>\n<li>\u2018trust-exact\u2019 <span class=\"xref std std-ref\">(see here)</span></li>\n<li>\u2018trust-krylov\u2019 <span class=\"xref std std-ref\">(see here)</span></li>\n<li>custom - a callable object (added in version 0.14.0),\nsee below for description.</li>\n</ul>\n</div></blockquote>\n<p class=\"last\">If not given, chosen to be one of <code class=\"docutils literal notranslate\"><span class=\"pre\">BFGS</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">L-BFGS-B</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">SLSQP</span></code>,\ndepending if the problem has constraints or bounds.</p>\n</dd>\n<dt><strong>jac</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{callable,  \u20182-point\u2019, \u20183-point\u2019, \u2018cs\u2019, bool}, optional</span></dt>\n<dd><p class=\"first\">Method for computing the gradient vector. Only for CG, BFGS,\nNewton-CG, L-BFGS-B, TNC, SLSQP, dogleg, trust-ncg, trust-krylov,\ntrust-exact and trust-constr. If it is a callable, it should be a\nfunction that returns the gradient vector:</p>\n<blockquote>\n<div><p><code class=\"docutils literal notranslate\"><span class=\"pre\">jac(x,</span> <span class=\"pre\">*args)</span> <span class=\"pre\">-&gt;</span> <span class=\"pre\">array_like,</span> <span class=\"pre\">shape</span> <span class=\"pre\">(n,)</span></code></p>\n</div></blockquote>\n<p class=\"last\">where x is an array with shape (n,) and <cite>args</cite> is a tuple with\nthe fixed parameters. Alternatively, the keywords\n{\u20182-point\u2019, \u20183-point\u2019, \u2018cs\u2019} select a finite\ndifference scheme for numerical estimation of the gradient. Options\n\u20183-point\u2019 and \u2018cs\u2019 are available only to \u2018trust-constr\u2019.\nIf <cite>jac</cite> is a Boolean and is True, <cite>fun</cite> is assumed to return the\ngradient along with the objective function. If False, the gradient\nwill be estimated using \u20182-point\u2019 finite difference estimation.</p>\n</dd>\n<dt><strong>hess</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{callable, \u20182-point\u2019, \u20183-point\u2019, \u2018cs\u2019, HessianUpdateStrategy},  optional</span></dt>\n<dd><p class=\"first\">Method for computing the Hessian matrix. Only for Newton-CG, dogleg,\ntrust-ncg,  trust-krylov, trust-exact and trust-constr. If it is\ncallable, it should return the  Hessian matrix:</p>\n<blockquote>\n<div><p><code class=\"docutils literal notranslate\"><span class=\"pre\">hess(x,</span> <span class=\"pre\">*args)</span> <span class=\"pre\">-&gt;</span> <span class=\"pre\">{LinearOperator,</span> <span class=\"pre\">spmatrix,</span> <span class=\"pre\">array},</span> <span class=\"pre\">(n,</span> <span class=\"pre\">n)</span></code></p>\n</div></blockquote>\n<p>where x is a (n,) ndarray and <cite>args</cite> is a tuple with the fixed\nparameters. LinearOperator and sparse matrix returns are\nallowed only for \u2018trust-constr\u2019 method. Alternatively, the keywords\n{\u20182-point\u2019, \u20183-point\u2019, \u2018cs\u2019} select a finite difference scheme\nfor numerical estimation. Or, objects implementing\n<cite>HessianUpdateStrategy</cite> interface can be used to approximate\nthe Hessian. Available quasi-Newton methods implementing\nthis interface are:</p>\n<blockquote>\n<div><ul class=\"simple\">\n<li><cite>BFGS</cite>;</li>\n<li><cite>SR1</cite>.</li>\n</ul>\n</div></blockquote>\n<p class=\"last\">Whenever the gradient is estimated via finite-differences,\nthe Hessian cannot be estimated with options\n{\u20182-point\u2019, \u20183-point\u2019, \u2018cs\u2019} and needs to be\nestimated using one of the quasi-Newton strategies.\nFinite-difference options {\u20182-point\u2019, \u20183-point\u2019, \u2018cs\u2019} and\n<cite>HessianUpdateStrategy</cite> are available only for \u2018trust-constr\u2019 method.</p>\n</dd>\n<dt><strong>hessp</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">callable, optional</span></dt>\n<dd><p class=\"first\">Hessian of objective function times an arbitrary vector p. Only for\nNewton-CG, trust-ncg, trust-krylov, trust-constr.\nOnly one of <cite>hessp</cite> or <cite>hess</cite> needs to be given.  If <cite>hess</cite> is\nprovided, then <cite>hessp</cite> will be ignored.  <cite>hessp</cite> must compute the\nHessian times an arbitrary vector:</p>\n<blockquote>\n<div><p><code class=\"docutils literal notranslate\"><span class=\"pre\">hessp(x,</span> <span class=\"pre\">p,</span> <span class=\"pre\">*args)</span> <span class=\"pre\">-&gt;</span>&#160; <span class=\"pre\">ndarray</span> <span class=\"pre\">shape</span> <span class=\"pre\">(n,)</span></code></p>\n</div></blockquote>\n<p class=\"last\">where x is a (n,) ndarray, p is an arbitrary vector with\ndimension (n,) and <cite>args</cite> is a tuple with the fixed\nparameters.</p>\n</dd>\n<dt><strong>bounds</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence or <cite>Bounds</cite>, optional</span></dt>\n<dd><p class=\"first\">Bounds on variables for L-BFGS-B, TNC, SLSQP and\ntrust-constr methods. There are two ways to specify the bounds:</p>\n<blockquote class=\"last\">\n<div><ol class=\"arabic simple\">\n<li>Instance of <cite>Bounds</cite> class.</li>\n<li>Sequence of <code class=\"docutils literal notranslate\"><span class=\"pre\">(min,</span> <span class=\"pre\">max)</span></code> pairs for each element in <cite>x</cite>. None\nis used to specify no bound.</li>\n</ol>\n</div></blockquote>\n</dd>\n<dt><strong>constraints</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{Constraint, dict} or List of {Constraint, dict}, optional</span></dt>\n<dd><p class=\"first\">Constraints definition (only for COBYLA, SLSQP and trust-constr).\nConstraints for \u2018trust-constr\u2019 are defined as a single object or a\nlist of objects specifying constraints to the optimization problem.\nAvailable constraints are:</p>\n<blockquote>\n<div><ul class=\"simple\">\n<li><cite>LinearConstraint</cite></li>\n<li><cite>NonlinearConstraint</cite></li>\n</ul>\n</div></blockquote>\n<p>Constraints for COBYLA, SLSQP are defined as a list of dictionaries.\nEach dictionary with fields:</p>\n<blockquote>\n<div><dl class=\"docutils\">\n<dt>type <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str</span></dt>\n<dd><p class=\"first last\">Constraint type: \u2018eq\u2019 for equality, \u2018ineq\u2019 for inequality.</p>\n</dd>\n<dt>fun <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">callable</span></dt>\n<dd><p class=\"first last\">The function defining the constraint.</p>\n</dd>\n<dt>jac <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">callable, optional</span></dt>\n<dd><p class=\"first last\">The Jacobian of <cite>fun</cite> (only for SLSQP).</p>\n</dd>\n<dt>args <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence, optional</span></dt>\n<dd><p class=\"first last\">Extra arguments to be passed to the function and Jacobian.</p>\n</dd>\n</dl>\n</div></blockquote>\n<p class=\"last\">Equality constraint means that the constraint function result is to\nbe zero whereas inequality means that it is to be non-negative.\nNote that COBYLA only supports inequality constraints.</p>\n</dd>\n<dt><strong>tol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float, optional</span></dt>\n<dd><p class=\"first last\">Tolerance for termination. For detailed control, use solver-specific\noptions.</p>\n</dd>\n<dt><strong>options</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">dict, optional</span></dt>\n<dd><p class=\"first\">A dictionary of solver options. All methods accept the following\ngeneric options:</p>\n<blockquote>\n<div><dl class=\"docutils\">\n<dt>maxiter <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Maximum number of iterations to perform.</p>\n</dd>\n<dt>disp <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">Set to True to print convergence messages.</p>\n</dd>\n</dl>\n</div></blockquote>\n<p class=\"last\">For method-specific options, see <code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">show_options()</span></code>.</p>\n</dd>\n<dt><strong>callback</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">callable, optional</span></dt>\n<dd><p class=\"first\">Called after each iteration. For \u2018trust-constr\u2019 it is a callable with\nthe signature:</p>\n<blockquote>\n<div><p><code class=\"docutils literal notranslate\"><span class=\"pre\">callback(xk,</span> <span class=\"pre\">OptimizeResult</span> <span class=\"pre\">state)</span> <span class=\"pre\">-&gt;</span> <span class=\"pre\">bool</span></code></p>\n</div></blockquote>\n<p>where <code class=\"docutils literal notranslate\"><span class=\"pre\">xk</span></code> is the current parameter vector. and <code class=\"docutils literal notranslate\"><span class=\"pre\">state</span></code>\nis an <cite>OptimizeResult</cite> object, with the same fields\nas the ones from the return.  If callback returns True\nthe algorithm execution is terminated.\nFor all the other methods, the signature is:</p>\n<blockquote>\n<div><p><code class=\"docutils literal notranslate\"><span class=\"pre\">callback(xk)</span></code></p>\n</div></blockquote>\n<p class=\"last\">where <code class=\"docutils literal notranslate\"><span class=\"pre\">xk</span></code> is the current parameter vector.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>res</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">OptimizeResult</span></dt>\n<dd><p class=\"first last\">The optimization result represented as a <code class=\"docutils literal notranslate\"><span class=\"pre\">OptimizeResult</span></code> object.\nImportant attributes are: <code class=\"docutils literal notranslate\"><span class=\"pre\">x</span></code> the solution array, <code class=\"docutils literal notranslate\"><span class=\"pre\">success</span></code> a\nBoolean flag indicating if the optimizer exited successfully and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">message</span></code> which describes the cause of the termination. See\n<cite>OptimizeResult</cite> for a description of other attributes.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<dl class=\"last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">minimize_scalar</span></code></dt>\n<dd>Interface to minimization algorithms for scalar univariate functions</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">show_options</span></code></dt>\n<dd>Additional options accepted by the solvers</dd>\n</dl>\n</div>\n<p class=\"rubric\">Notes</p>\n<p>This section describes the available solvers that can be selected by the\n\u2018method\u2019 parameter. The default method is <em>BFGS</em>.</p>\n<p><strong>Unconstrained minimization</strong></p>\n<p>Method <span class=\"xref std std-ref\">Nelder-Mead</span> uses the\nSimplex algorithm <a class=\"reference internal\" href=\"#r397802e85ee1-1\" id=\"id12\">[1]</a>, <a class=\"reference internal\" href=\"#r397802e85ee1-2\" id=\"id13\">[2]</a>. This algorithm is robust in many\napplications. However, if numerical computation of derivative can be\ntrusted, other algorithms using the first and/or second derivatives\ninformation might be preferred for their better performance in\ngeneral.</p>\n<p>Method <span class=\"xref std std-ref\">Powell</span> is a modification\nof Powell\u2019s method <a class=\"reference internal\" href=\"#r397802e85ee1-3\" id=\"id14\">[3]</a>, <a class=\"reference internal\" href=\"#r397802e85ee1-4\" id=\"id15\">[4]</a> which is a conjugate direction\nmethod. It performs sequential one-dimensional minimizations along\neach vector of the directions set (<cite>direc</cite> field in <cite>options</cite> and\n<cite>info</cite>), which is updated at each iteration of the main\nminimization loop. The function need not be differentiable, and no\nderivatives are taken.</p>\n<p>Method <span class=\"xref std std-ref\">CG</span> uses a nonlinear conjugate\ngradient algorithm by Polak and Ribiere, a variant of the\nFletcher-Reeves method described in <a class=\"reference internal\" href=\"#r397802e85ee1-5\" id=\"id16\">[5]</a> pp.  120-122. Only the\nfirst derivatives are used.</p>\n<p>Method <span class=\"xref std std-ref\">BFGS</span> uses the quasi-Newton\nmethod of Broyden, Fletcher, Goldfarb, and Shanno (BFGS) <a class=\"reference internal\" href=\"#r397802e85ee1-5\" id=\"id17\">[5]</a>\npp. 136. It uses the first derivatives only. BFGS has proven good\nperformance even for non-smooth optimizations. This method also\nreturns an approximation of the Hessian inverse, stored as\n<cite>hess_inv</cite> in the OptimizeResult object.</p>\n<p>Method <span class=\"xref std std-ref\">Newton-CG</span> uses a\nNewton-CG algorithm <a class=\"reference internal\" href=\"#r397802e85ee1-5\" id=\"id18\">[5]</a> pp. 168 (also known as the truncated\nNewton method). It uses a CG method to the compute the search\ndirection. See also <em>TNC</em> method for a box-constrained\nminimization with a similar algorithm. Suitable for large-scale\nproblems.</p>\n<p>Method <span class=\"xref std std-ref\">dogleg</span> uses the dog-leg\ntrust-region algorithm <a class=\"reference internal\" href=\"#r397802e85ee1-5\" id=\"id19\">[5]</a> for unconstrained minimization. This\nalgorithm requires the gradient and Hessian; furthermore the\nHessian is required to be positive definite.</p>\n<p>Method <span class=\"xref std std-ref\">trust-ncg</span> uses the\nNewton conjugate gradient trust-region algorithm <a class=\"reference internal\" href=\"#r397802e85ee1-5\" id=\"id20\">[5]</a> for\nunconstrained minimization. This algorithm requires the gradient\nand either the Hessian or a function that computes the product of\nthe Hessian with a given vector. Suitable for large-scale problems.</p>\n<p>Method <span class=\"xref std std-ref\">trust-krylov</span> uses\nthe Newton GLTR trust-region algorithm <a class=\"reference internal\" href=\"#r397802e85ee1-14\" id=\"id21\">[14]</a>, <a class=\"reference internal\" href=\"#r397802e85ee1-15\" id=\"id22\">[15]</a> for unconstrained\nminimization. This algorithm requires the gradient\nand either the Hessian or a function that computes the product of\nthe Hessian with a given vector. Suitable for large-scale problems.\nOn indefinite problems it requires usually less iterations than the\n<cite>trust-ncg</cite> method and is recommended for medium and large-scale problems.</p>\n<p>Method <span class=\"xref std std-ref\">trust-exact</span>\nis a trust-region method for unconstrained minimization in which\nquadratic subproblems are solved almost exactly <a class=\"reference internal\" href=\"#r397802e85ee1-13\" id=\"id23\">[13]</a>. This\nalgorithm requires the gradient and the Hessian (which is\n<em>not</em> required to be positive definite). It is, in many\nsituations, the Newton method to converge in fewer iteraction\nand the most recommended for small and medium-size problems.</p>\n<p><strong>Bound-Constrained minimization</strong></p>\n<p>Method <span class=\"xref std std-ref\">L-BFGS-B</span> uses the L-BFGS-B\nalgorithm <a class=\"reference internal\" href=\"#r397802e85ee1-6\" id=\"id24\">[6]</a>, <a class=\"reference internal\" href=\"#r397802e85ee1-7\" id=\"id25\">[7]</a> for bound constrained minimization.</p>\n<p>Method <span class=\"xref std std-ref\">TNC</span> uses a truncated Newton\nalgorithm <a class=\"reference internal\" href=\"#r397802e85ee1-5\" id=\"id26\">[5]</a>, <a class=\"reference internal\" href=\"#r397802e85ee1-8\" id=\"id27\">[8]</a> to minimize a function with variables subject\nto bounds. This algorithm uses gradient information; it is also\ncalled Newton Conjugate-Gradient. It differs from the <em>Newton-CG</em>\nmethod described above as it wraps a C implementation and allows\neach variable to be given upper and lower bounds.</p>\n<p><strong>Constrained Minimization</strong></p>\n<p>Method <span class=\"xref std std-ref\">COBYLA</span> uses the\nConstrained Optimization BY Linear Approximation (COBYLA) method\n<a class=\"reference internal\" href=\"#r397802e85ee1-9\" id=\"id28\">[9]</a>, <a class=\"reference internal\" href=\"#r397802e85ee1-10\" id=\"id29\">[10]</a>, <a class=\"reference internal\" href=\"#r397802e85ee1-11\" id=\"id30\">[11]</a>. The algorithm is based on linear\napproximations to the objective function and each constraint. The\nmethod wraps a FORTRAN implementation of the algorithm. The\nconstraints functions \u2018fun\u2019 may return either a single number\nor an array or list of numbers.</p>\n<p>Method <span class=\"xref std std-ref\">SLSQP</span> uses Sequential\nLeast SQuares Programming to minimize a function of several\nvariables with any combination of bounds, equality and inequality\nconstraints. The method wraps the SLSQP Optimization subroutine\noriginally implemented by Dieter Kraft <a class=\"reference internal\" href=\"#r397802e85ee1-12\" id=\"id31\">[12]</a>. Note that the\nwrapper handles infinite values in bounds by converting them into\nlarge floating values.</p>\n<p>Method <span class=\"xref std std-ref\">trust-constr</span> is a\ntrust-region algorithm for constrained optimization. It swiches\nbetween two implementations depending on the problem definition.\nIt is the most versatile constrained minimization algorithm\nimplemented in SciPy and the most appropriate for large-scale problems.\nFor equality constrained problems it is an implementation of Byrd-Omojokun\nTrust-Region SQP method described in <a class=\"reference internal\" href=\"#r397802e85ee1-17\" id=\"id32\">[17]</a> and in <a class=\"reference internal\" href=\"#r397802e85ee1-5\" id=\"id33\">[5]</a>, p. 549. When\ninequality constraints  are imposed as well, it swiches to the trust-region\ninterior point  method described in <a class=\"reference internal\" href=\"#r397802e85ee1-16\" id=\"id34\">[16]</a>. This interior point algorithm,\nin turn, solves inequality constraints by introducing slack variables\nand solving a sequence of equality-constrained barrier problems\nfor progressively smaller values of the barrier parameter.\nThe previously described equality constrained SQP method is\nused to solve the subproblems with increasing levels of accuracy\nas the iterate gets closer to a solution.</p>\n<p><strong>Finite-Difference Options</strong></p>\n<p>For Method <span class=\"xref std std-ref\">trust-constr</span>\nthe gradient and the Hessian may be approximated using\nthree finite-difference schemes: {\u20182-point\u2019, \u20183-point\u2019, \u2018cs\u2019}.\nThe scheme \u2018cs\u2019 is, potentially, the most accurate but it\nrequires the function to correctly handles complex inputs and to\nbe differentiable in the complex plane. The scheme \u20183-point\u2019 is more\naccurate than \u20182-point\u2019 but requires twice as much operations.</p>\n<p><strong>Custom minimizers</strong></p>\n<p>It may be useful to pass a custom minimization method, for example\nwhen using a frontend to this method such as <cite>scipy.optimize.basinhopping</cite>\nor a different library.  You can simply pass a callable as the <code class=\"docutils literal notranslate\"><span class=\"pre\">method</span></code>\nparameter.</p>\n<p>The callable is called as <code class=\"docutils literal notranslate\"><span class=\"pre\">method(fun,</span> <span class=\"pre\">x0,</span> <span class=\"pre\">args,</span> <span class=\"pre\">**kwargs,</span> <span class=\"pre\">**options)</span></code>\nwhere <code class=\"docutils literal notranslate\"><span class=\"pre\">kwargs</span></code> corresponds to any other parameters passed to <cite>minimize</cite>\n(such as <cite>callback</cite>, <cite>hess</cite>, etc.), except the <cite>options</cite> dict, which has\nits contents also passed as <cite>method</cite> parameters pair by pair.  Also, if\n<cite>jac</cite> has been passed as a bool type, <cite>jac</cite> and <cite>fun</cite> are mangled so that\n<cite>fun</cite> returns just the function values and <cite>jac</cite> is converted to a function\nreturning the Jacobian.  The method shall return an <code class=\"docutils literal notranslate\"><span class=\"pre\">OptimizeResult</span></code>\nobject.</p>\n<p>The provided <cite>method</cite> callable must be able to accept (and possibly ignore)\narbitrary parameters; the set of parameters accepted by <cite>minimize</cite> may\nexpand in future versions and then these parameters will be passed to\nthe method.  You can find an example in the scipy.optimize tutorial.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified\">New in version 0.11.0.</span></p>\n</div>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-1\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[1]</td><td><em>(<a class=\"fn-backref\" href=\"#id12\">1</a>, <a class=\"fn-backref\" href=\"#id35\">2</a>)</em> Nelder, J A, and R Mead. 1965. A Simplex Method for Function\nMinimization. The Computer Journal 7: 308-13.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-2\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[2]</td><td><em>(<a class=\"fn-backref\" href=\"#id13\">1</a>, <a class=\"fn-backref\" href=\"#id36\">2</a>)</em> Wright M H. 1996. Direct search methods: Once scorned, now\nrespectable, in Numerical Analysis 1995: Proceedings of the 1995\nDundee Biennial Conference in Numerical Analysis (Eds. D F\nGriffiths and G A Watson). Addison Wesley Longman, Harlow, UK.\n191-208.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-3\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[3]</td><td><em>(<a class=\"fn-backref\" href=\"#id14\">1</a>, <a class=\"fn-backref\" href=\"#id37\">2</a>)</em> Powell, M J D. 1964. An efficient method for finding the minimum of\na function of several variables without calculating derivatives. The\nComputer Journal 7: 155-162.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-4\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[4]</td><td><em>(<a class=\"fn-backref\" href=\"#id15\">1</a>, <a class=\"fn-backref\" href=\"#id38\">2</a>)</em> Press W, S A Teukolsky, W T Vetterling and B P Flannery.\nNumerical Recipes (any edition), Cambridge University Press.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-5\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[5]</td><td><em>(<a class=\"fn-backref\" href=\"#id16\">1</a>, <a class=\"fn-backref\" href=\"#id17\">2</a>, <a class=\"fn-backref\" href=\"#id18\">3</a>, <a class=\"fn-backref\" href=\"#id19\">4</a>, <a class=\"fn-backref\" href=\"#id20\">5</a>, <a class=\"fn-backref\" href=\"#id26\">6</a>, <a class=\"fn-backref\" href=\"#id33\">7</a>, <a class=\"fn-backref\" href=\"#id39\">8</a>, <a class=\"fn-backref\" href=\"#id52\">9</a>)</em> Nocedal, J, and S J Wright. 2006. Numerical Optimization.\nSpringer New York.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-6\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[6]</td><td><em>(<a class=\"fn-backref\" href=\"#id24\">1</a>, <a class=\"fn-backref\" href=\"#id40\">2</a>)</em> Byrd, R H and P Lu and J. Nocedal. 1995. A Limited Memory\nAlgorithm for Bound Constrained Optimization. SIAM Journal on\nScientific and Statistical Computing 16 (5): 1190-1208.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-7\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[7]</td><td><em>(<a class=\"fn-backref\" href=\"#id25\">1</a>, <a class=\"fn-backref\" href=\"#id41\">2</a>)</em> Zhu, C and R H Byrd and J Nocedal. 1997. L-BFGS-B: Algorithm\n778: L-BFGS-B, FORTRAN routines for large scale bound constrained\noptimization. ACM Transactions on Mathematical Software 23 (4):\n550-560.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-8\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[8]</td><td><em>(<a class=\"fn-backref\" href=\"#id27\">1</a>, <a class=\"fn-backref\" href=\"#id42\">2</a>)</em> Nash, S G. Newton-Type Minimization Via the Lanczos Method.\n1984. SIAM Journal of Numerical Analysis 21: 770-778.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-9\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[9]</td><td><em>(<a class=\"fn-backref\" href=\"#id28\">1</a>, <a class=\"fn-backref\" href=\"#id43\">2</a>)</em> Powell, M J D. A direct search optimization method that models\nthe objective and constraint functions by linear interpolation.\n1994. Advances in Optimization and Numerical Analysis, eds. S. Gomez\nand J-P Hennart, Kluwer Academic (Dordrecht), 51-67.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-10\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[10]</td><td><em>(<a class=\"fn-backref\" href=\"#id29\">1</a>, <a class=\"fn-backref\" href=\"#id44\">2</a>)</em> Powell M J D. Direct search algorithms for optimization\ncalculations. 1998. Acta Numerica 7: 287-336.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-11\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[11]</td><td><em>(<a class=\"fn-backref\" href=\"#id30\">1</a>, <a class=\"fn-backref\" href=\"#id45\">2</a>)</em> Powell M J D. A view of algorithms for optimization without\nderivatives. 2007.Cambridge University Technical Report DAMTP\n2007/NA03</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-12\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[12]</td><td><em>(<a class=\"fn-backref\" href=\"#id31\">1</a>, <a class=\"fn-backref\" href=\"#id46\">2</a>)</em> Kraft, D. A software package for sequential quadratic\nprogramming. 1988. Tech. Rep. DFVLR-FB 88-28, DLR German Aerospace\nCenter \u2013 Institute for Flight Mechanics, Koln, Germany.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-13\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[13]</td><td><em>(<a class=\"fn-backref\" href=\"#id23\">1</a>, <a class=\"fn-backref\" href=\"#id47\">2</a>)</em> Conn, A. R., Gould, N. I., and Toint, P. L.\nTrust region methods. 2000. Siam. pp. 169-200.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-14\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[14]</td><td><em>(<a class=\"fn-backref\" href=\"#id21\">1</a>, <a class=\"fn-backref\" href=\"#id48\">2</a>)</em> F. Lenders, C. Kirches, A. Potschka: \u201ctrlib: A vector-free\nimplementation of the GLTR method for iterative solution of\nthe trust region problem\u201d, <a class=\"reference external\" href=\"https://arxiv.org/abs/1611.04718\">https://arxiv.org/abs/1611.04718</a></td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-15\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[15]</td><td><em>(<a class=\"fn-backref\" href=\"#id22\">1</a>, <a class=\"fn-backref\" href=\"#id49\">2</a>)</em> N. Gould, S. Lucidi, M. Roma, P. Toint: \u201cSolving the\nTrust-Region Subproblem using the Lanczos Method\u201d,\nSIAM J. Optim., 9(2), 504\u2013525, (1999).</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-16\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[16]</td><td><em>(<a class=\"fn-backref\" href=\"#id34\">1</a>, <a class=\"fn-backref\" href=\"#id50\">2</a>)</em> Byrd, Richard H., Mary E. Hribar, and Jorge Nocedal. 1999.\nAn interior point algorithm for large-scale nonlinear  programming.\nSIAM Journal on Optimization 9.4: 877-900.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r397802e85ee1-17\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[17]</td><td><em>(<a class=\"fn-backref\" href=\"#id32\">1</a>, <a class=\"fn-backref\" href=\"#id51\">2</a>)</em> Lalee, Marucha, Jorge Nocedal, and Todd Plantega. 1998. On the\nimplementation of an algorithm for large-scale equality constrained\noptimization. SIAM Journal on Optimization 8.3: 682-706.</td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<p>Let us consider the problem of minimizing the Rosenbrock function. This\nfunction (and its respective derivatives) is implemented in <cite>rosen</cite>\n(resp. <cite>rosen_der</cite>, <cite>rosen_hess</cite>) in the <cite>scipy.optimize</cite>.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">scipy.optimize</span> <span class=\"k\">import</span> <span class=\"n\">minimize</span><span class=\"p\">,</span> <span class=\"n\">rosen</span><span class=\"p\">,</span> <span class=\"n\">rosen_der</span>\n</pre></div>\n</div>\n<p>A simple application of the <em>Nelder-Mead</em> method is:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x0</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mf\">1.3</span><span class=\"p\">,</span> <span class=\"mf\">0.7</span><span class=\"p\">,</span> <span class=\"mf\">0.8</span><span class=\"p\">,</span> <span class=\"mf\">1.9</span><span class=\"p\">,</span> <span class=\"mf\">1.2</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">minimize</span><span class=\"p\">(</span><span class=\"n\">rosen</span><span class=\"p\">,</span> <span class=\"n\">x0</span><span class=\"p\">,</span> <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s1\">&#39;Nelder-Mead&#39;</span><span class=\"p\">,</span> <span class=\"n\">tol</span><span class=\"o\">=</span><span class=\"mf\">1e-6</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">x</span>\n<span class=\"go\">array([ 1.,  1.,  1.,  1.,  1.])</span>\n</pre></div>\n</div>\n<p>Now using the <em>BFGS</em> algorithm, using the first derivative and a few\noptions:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">minimize</span><span class=\"p\">(</span><span class=\"n\">rosen</span><span class=\"p\">,</span> <span class=\"n\">x0</span><span class=\"p\">,</span> <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s1\">&#39;BFGS&#39;</span><span class=\"p\">,</span> <span class=\"n\">jac</span><span class=\"o\">=</span><span class=\"n\">rosen_der</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>               <span class=\"n\">options</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">&#39;gtol&#39;</span><span class=\"p\">:</span> <span class=\"mf\">1e-6</span><span class=\"p\">,</span> <span class=\"s1\">&#39;disp&#39;</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">})</span>\n<span class=\"go\">Optimization terminated successfully.</span>\n<span class=\"go\">         Current function value: 0.000000</span>\n<span class=\"go\">         Iterations: 26</span>\n<span class=\"go\">         Function evaluations: 31</span>\n<span class=\"go\">         Gradient evaluations: 31</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">x</span>\n<span class=\"go\">array([ 1.,  1.,  1.,  1.,  1.])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">message</span><span class=\"p\">)</span>\n<span class=\"go\">Optimization terminated successfully.</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">hess_inv</span>\n<span class=\"go\">array([[ 0.00749589,  0.01255155,  0.02396251,  0.04750988,  0.09495377],  # may vary</span>\n<span class=\"go\">       [ 0.01255155,  0.02510441,  0.04794055,  0.09502834,  0.18996269],</span>\n<span class=\"go\">       [ 0.02396251,  0.04794055,  0.09631614,  0.19092151,  0.38165151],</span>\n<span class=\"go\">       [ 0.04750988,  0.09502834,  0.19092151,  0.38341252,  0.7664427 ],</span>\n<span class=\"go\">       [ 0.09495377,  0.18996269,  0.38165151,  0.7664427,   1.53713523]])</span>\n</pre></div>\n</div>\n<p>Next, consider a minimization problem with several constraints (namely\nExample 16.4 from <a class=\"reference internal\" href=\"#r397802e85ee1-5\" id=\"id52\">[5]</a>). The objective function is:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">fun</span> <span class=\"o\">=</span> <span class=\"k\">lambda</span> <span class=\"n\">x</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"o\">**</span><span class=\"mi\">2</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"mf\">2.5</span><span class=\"p\">)</span><span class=\"o\">**</span><span class=\"mi\">2</span>\n</pre></div>\n</div>\n<p>There are three constraints defined as:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">cons</span> <span class=\"o\">=</span> <span class=\"p\">({</span><span class=\"s1\">&#39;type&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;ineq&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;fun&#39;</span><span class=\"p\">:</span> <span class=\"k\">lambda</span> <span class=\"n\">x</span><span class=\"p\">:</span>  <span class=\"n\">x</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"mi\">2</span> <span class=\"o\">*</span> <span class=\"n\">x</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"mi\">2</span><span class=\"p\">},</span>\n<span class=\"gp\">... </span>        <span class=\"p\">{</span><span class=\"s1\">&#39;type&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;ineq&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;fun&#39;</span><span class=\"p\">:</span> <span class=\"k\">lambda</span> <span class=\"n\">x</span><span class=\"p\">:</span> <span class=\"o\">-</span><span class=\"n\">x</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"mi\">2</span> <span class=\"o\">*</span> <span class=\"n\">x</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"mi\">6</span><span class=\"p\">},</span>\n<span class=\"gp\">... </span>        <span class=\"p\">{</span><span class=\"s1\">&#39;type&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;ineq&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;fun&#39;</span><span class=\"p\">:</span> <span class=\"k\">lambda</span> <span class=\"n\">x</span><span class=\"p\">:</span> <span class=\"o\">-</span><span class=\"n\">x</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"mi\">2</span> <span class=\"o\">*</span> <span class=\"n\">x</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"mi\">2</span><span class=\"p\">})</span>\n</pre></div>\n</div>\n<p>And variables must be positive, hence the following bounds:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bnds</span> <span class=\"o\">=</span> <span class=\"p\">((</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"kc\">None</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n<p>The optimization problem is solved using the SLSQP method as:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">minimize</span><span class=\"p\">(</span><span class=\"n\">fun</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">),</span> <span class=\"n\">method</span><span class=\"o\">=</span><span class=\"s1\">&#39;SLSQP&#39;</span><span class=\"p\">,</span> <span class=\"n\">bounds</span><span class=\"o\">=</span><span class=\"n\">bnds</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>               <span class=\"n\">constraints</span><span class=\"o\">=</span><span class=\"n\">cons</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>It should converge to the theoretical solution (1.4 ,1.7).</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"sparse-nnls\">\n<h3>sparse_nnls<a class=\"headerlink\" href=\"#sparse-nnls\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.optimize.sparse_nnls\">\n<code class=\"descclassname\">dipy.core.optimize.</code><code class=\"descname\">sparse_nnls</code><span class=\"sig-paren\">(</span><em>y</em>, <em>X</em>, <em>momentum=1</em>, <em>step_size=0.01</em>, <em>non_neg=True</em>, <em>check_error_iter=10</em>, <em>max_error_checks=10</em>, <em>converge_on_sse=0.99</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.sparse_nnls\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Solve y=Xh for h, using gradient descent, with X a sparse matrix</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1-d array of shape (N)</span></dt>\n<dd><p class=\"first last\">The data. Needs to be dense.</p>\n</dd>\n<dt><strong>X</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray. May be either sparse or dense. Shape (N, M)</span></dt>\n<dd><p class=\"first last\">The regressors</p>\n</dd>\n<dt><strong>momentum</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float, optional (default: 1).</span></dt>\n<dd><p class=\"first last\">The persistence of the gradient.</p>\n</dd>\n<dt><strong>step_size</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float, optional (default: 0.01).</span></dt>\n<dd><p class=\"first last\">The increment of parameter update in each iteration</p>\n</dd>\n<dt><strong>non_neg</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Boolean, optional (default: True)</span></dt>\n<dd><p class=\"first last\">Whether to enforce non-negativity of the solution.</p>\n</dd>\n<dt><strong>check_error_iter</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int (default:10)</span></dt>\n<dd><p class=\"first last\">How many rounds to run between error evaluation for\nconvergence-checking.</p>\n</dd>\n<dt><strong>max_error_checks</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int (default: 10)</span></dt>\n<dd><p class=\"first last\">Don\u2019t check errors more than this number of times if no improvement in\nr-squared is seen.</p>\n</dd>\n<dt><strong>converge_on_sse</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float (default: 0.99)</span></dt>\n<dd><p class=\"first last\">a percentage improvement in SSE that is required each time to say\nthat things are still going well.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>h_best</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">The best estimate of the parameters.</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"spdot\">\n<h3>spdot<a class=\"headerlink\" href=\"#spdot\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.optimize.spdot\">\n<code class=\"descclassname\">dipy.core.optimize.</code><code class=\"descname\">spdot</code><span class=\"sig-paren\">(</span><em>A</em>, <em>B</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.spdot\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The same as np.dot(A, B), except it works even if A or B or both\nare sparse matrices.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>A, B</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">arrays of shape (m, n), (n, k)</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>The matrix product AB. If both A and B are sparse, the result will be a</strong></dt>\n<dd></dd>\n<dt><strong>sparse matrix. Otherwise, a dense result is returned</strong></dt>\n<dd></dd>\n<dt><strong>See discussion here:</strong></dt>\n<dd></dd>\n<dt><strong>http://mail.scipy.org/pipermail/scipy-user/2010-November/027700.html</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"with-metaclass\">\n<h3>with_metaclass<a class=\"headerlink\" href=\"#with-metaclass\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.optimize.with_metaclass\">\n<code class=\"descclassname\">dipy.core.optimize.</code><code class=\"descname\">with_metaclass</code><span class=\"sig-paren\">(</span><em>meta</em>, <em>*bases</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.optimize.with_metaclass\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a base class with a metaclass.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"profiler\">\n<h3><a class=\"reference internal\" href=\"#dipy.core.profile.Profiler\" title=\"dipy.core.profile.Profiler\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Profiler</span></code></a><a class=\"headerlink\" href=\"#profiler\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.core.profile.Profiler\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.core.profile.</code><code class=\"descname\">Profiler</code><span class=\"sig-paren\">(</span><em>call=None</em>, <em>*args</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.profile.Profiler\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>Profile python/cython files or functions</p>\n<p>If you are profiling cython code you need to add\n# cython: profile=True on the top of your .pyx file</p>\n<p>and for the functions that you do not want to profile you can use\nthis decorator in your cython files</p>\n<p>&#64;cython.profile(False)</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>caller</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">file or function call</span></dt>\n<dd></dd>\n<dt><strong>args</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">function arguments</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">References</p>\n<p><a class=\"reference external\" href=\"http://docs.cython.org/src/tutorial/profiling_tutorial.html\">http://docs.cython.org/src/tutorial/profiling_tutorial.html</a>\n<a class=\"reference external\" href=\"http://docs.python.org/library/profile.html\">http://docs.python.org/library/profile.html</a>\n<a class=\"reference external\" href=\"http://packages.python.org/line_profiler/\">http://packages.python.org/line_profiler/</a></p>\n<p class=\"rubric\">Examples</p>\n<p>from dipy.core.profile import Profiler\nimport numpy as np\np=Profiler(np.sum,np.random.rand(1000000,3))\nfname=\u2019test.py\u2019\np=Profiler(fname)\np.print_stats(10)\np.print_stats(\u2018det\u2019)</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>stats</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">function, stats.print_stats(10) will prin the 10 slower functions</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.profile.Profiler.print_stats\" title=\"dipy.core.profile.Profiler.print_stats\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">print_stats</span></code></a>([N])</td>\n<td>Print stats for profiling</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.core.profile.Profiler.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>call=None</em>, <em>*args</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.profile.Profiler.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.profile.Profiler.print_stats\">\n<code class=\"descname\">print_stats</code><span class=\"sig-paren\">(</span><em>N=10</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.profile.Profiler.print_stats\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Print stats for profiling</p>\n<p>You can use it in all different ways developed in pstats\nfor example\nprint_stats(10) will give you the 10 slowest calls\nor\nprint_stats(\u2018function_name\u2019)\nwill give you the stats for all the calls with name \u2018function_name\u2019</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>N</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">stats.print_stats argument</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"optional-package\">\n<h3>optional_package<a class=\"headerlink\" href=\"#optional-package\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.profile.optional_package\">\n<code class=\"descclassname\">dipy.core.profile.</code><code class=\"descname\">optional_package</code><span class=\"sig-paren\">(</span><em>name</em>, <em>trip_msg=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.profile.optional_package\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return package-like thing and module setup for package <cite>name</cite></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>name</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str</span></dt>\n<dd><p class=\"first last\">package name</p>\n</dd>\n<dt><strong>trip_msg</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">None or str</span></dt>\n<dd><p class=\"first last\">message to give when someone tries to use the return package, but we\ncould not import it, and have returned a TripWire object instead.\nDefault message if None.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>pkg_like</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">module or <code class=\"docutils literal notranslate\"><span class=\"pre\">TripWire</span></code> instance</span></dt>\n<dd><p class=\"first last\">If we can import the package, return it.  Otherwise return an object\nraising an error when accessed</p>\n</dd>\n<dt><strong>have_pkg</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">True if import for package was successful, false otherwise</p>\n</dd>\n<dt><strong>module_setup</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">function</span></dt>\n<dd><p class=\"first last\">callable usually set as <code class=\"docutils literal notranslate\"><span class=\"pre\">setup_module</span></code> in calling namespace, to allow\nskipping tests.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"lecuyer\">\n<h3>LEcuyer<a class=\"headerlink\" href=\"#lecuyer\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.rng.LEcuyer\">\n<code class=\"descclassname\">dipy.core.rng.</code><code class=\"descname\">LEcuyer</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.rng.LEcuyer\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Generate uniformly distributed random numbers using the 32-bit\ngenerator from figure 3 of:</p>\n<blockquote>\n<div>L\u2019Ecuyer, P. Efficient and portable combined random number\ngenerators, C.A.C.M., vol. 31, 742-749 &amp; 774-?, June 1988.</div></blockquote>\n<p>The cycle length is claimed to be 2.30584E+18</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"wichmannhill1982\">\n<h3>WichmannHill1982<a class=\"headerlink\" href=\"#wichmannhill1982\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.rng.WichmannHill1982\">\n<code class=\"descclassname\">dipy.core.rng.</code><code class=\"descname\">WichmannHill1982</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.rng.WichmannHill1982\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Algorithm AS 183 Appl. Statist. (1982) vol.31, no.2</p>\n<p>Returns a pseudo-random number rectangularly distributed\nbetween 0 and 1.   The cycle length is 6.95E+12 (See page 123\nof Applied Statistics (1984) vol.33), not as claimed in the\noriginal article.</p>\n<p>ix, iy and iz should be set to integer values between 1 and\n30000 before the first entry.</p>\n<p>Integer arithmetic up to 5212632 is required.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"wichmannhill2006\">\n<h3>WichmannHill2006<a class=\"headerlink\" href=\"#wichmannhill2006\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.rng.WichmannHill2006\">\n<code class=\"descclassname\">dipy.core.rng.</code><code class=\"descname\">WichmannHill2006</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.rng.WichmannHill2006\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>B.A. Wichmann, I.D. Hill, Generating good pseudo-random numbers,\nComputational Statistics &amp; Data Analysis, Volume 51, Issue 3, 1\nDecember 2006, Pages 1614-1622, ISSN 0167-9473, DOI:\n10.1016/j.csda.2006.05.019.\n(<a class=\"reference external\" href=\"http://www.sciencedirect.com/science/article/B6V8V-4K7F86W-2/2/a3a33291b8264e4c882a8f21b6e43351\">http://www.sciencedirect.com/science/article/B6V8V-4K7F86W-2/2/a3a33291b8264e4c882a8f21b6e43351</a>)\nfor advice on generating many sequences for use together, and on\nalternative algorithms and codes</p>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core</span> <span class=\"k\">import</span> <span class=\"n\">rng</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rng</span><span class=\"o\">.</span><span class=\"n\">ix</span><span class=\"p\">,</span> <span class=\"n\">rng</span><span class=\"o\">.</span><span class=\"n\">iy</span><span class=\"p\">,</span> <span class=\"n\">rng</span><span class=\"o\">.</span><span class=\"n\">iz</span><span class=\"p\">,</span> <span class=\"n\">rng</span><span class=\"o\">.</span><span class=\"n\">it</span> <span class=\"o\">=</span> <span class=\"mi\">100001</span><span class=\"p\">,</span> <span class=\"mi\">200002</span><span class=\"p\">,</span> <span class=\"mi\">300003</span><span class=\"p\">,</span> <span class=\"mi\">400004</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">N</span> <span class=\"o\">=</span> <span class=\"mi\">1000</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">rng</span><span class=\"o\">.</span><span class=\"n\">WichmannHill2006</span><span class=\"p\">()</span> <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"n\">N</span><span class=\"p\">)]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"architecture\">\n<h3>architecture<a class=\"headerlink\" href=\"#architecture\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.rng.architecture\">\n<code class=\"descclassname\">dipy.core.rng.</code><code class=\"descname\">architecture</code><span class=\"sig-paren\">(</span><em>executable='/Users/koudoro/anaconda/envs/dipy_dev_3/bin/python'</em>, <em>bits=''</em>, <em>linkage=''</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.rng.architecture\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Queries the given executable (defaults to the Python interpreter\nbinary) for various architecture information.</p>\n<p>Returns a tuple (bits, linkage) which contains information about\nthe bit architecture and the linkage format used for the\nexecutable. Both values are returned as strings.</p>\n<p>Values that cannot be determined are returned as given by the\nparameter presets. If bits is given as \u2018\u2019, the sizeof(pointer)\n(or sizeof(long) on Python version &lt; 1.5.2) is used as\nindicator for the supported pointer size.</p>\n<p>The function relies on the system\u2019s \u201cfile\u201d command to do the\nactual work. This is available on most if not all Unix\nplatforms. On some non-Unix platforms where the \u201cfile\u201d command\ndoes not exist and the executable is set to the Python interpreter\nbinary defaults from _default_architecture are used.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"floor\">\n<h3>floor<a class=\"headerlink\" href=\"#floor\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.rng.floor\">\n<code class=\"descclassname\">dipy.core.rng.</code><code class=\"descname\">floor</code><span class=\"sig-paren\">(</span><em>x</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.rng.floor\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return the floor of x as an Integral.\nThis is the largest integer &lt;= x.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id53\">\n<h3><a class=\"reference internal\" href=\"#dipy.core.sphere.HemiSphere\" title=\"dipy.core.sphere.HemiSphere\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">HemiSphere</span></code></a><a class=\"headerlink\" href=\"#id53\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.core.sphere.HemiSphere\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.core.sphere.</code><code class=\"descname\">HemiSphere</code><span class=\"sig-paren\">(</span><em>x=None</em>, <em>y=None</em>, <em>z=None</em>, <em>theta=None</em>, <em>phi=None</em>, <em>xyz=None</em>, <em>faces=None</em>, <em>edges=None</em>, <em>tol=1e-05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.HemiSphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.core.sphere.Sphere\" title=\"dipy.core.sphere.Sphere\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.core.sphere.Sphere</span></code></a></p>\n<p>Points on the unit sphere.</p>\n<p>A HemiSphere is similar to a Sphere but it takes antipodal symmetry into\naccount. Antipodal symmetry means that point v on a HemiSphere is the same\nas the point -v. Duplicate points are discarded when constructing a\nHemiSphere (including antipodal duplicates). <cite>edges</cite> and <cite>faces</cite> are\nremapped to the remaining points as closely as possible.</p>\n<p>The HemiSphere can be constructed using one of three conventions:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">HemiSphere</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">z</span><span class=\"p\">)</span>\n<span class=\"n\">HemiSphere</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"n\">HemiSphere</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">theta</span><span class=\"p\">,</span> <span class=\"n\">phi</span><span class=\"o\">=</span><span class=\"n\">phi</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>x, y, z</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1-D array_like</span></dt>\n<dd><p class=\"first last\">Vertices as x-y-z coordinates.</p>\n</dd>\n<dt><strong>theta, phi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1-D array_like</span></dt>\n<dd><p class=\"first last\">Vertices as spherical coordinates.  Theta and phi are the inclination\nand azimuth angles respectively.</p>\n</dd>\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 3) ndarray</span></dt>\n<dd><p class=\"first last\">Vertices as x-y-z coordinates.</p>\n</dd>\n<dt><strong>faces</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 3) ndarray</span></dt>\n<dd><p class=\"first last\">Indices into vertices that form triangular faces.  If unspecified,\nthe faces are computed using a Delaunay triangulation.</p>\n</dd>\n<dt><strong>edges</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 2) ndarray</span></dt>\n<dd><p class=\"first last\">Edges between vertices.  If unspecified, the edges are\nderived from the faces.</p>\n</dd>\n<dt><strong>tol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Angle in degrees. Vertices that are less than tol degrees apart are\ntreated as duplicates.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.core.sphere.Sphere\" title=\"dipy.core.sphere.Sphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Sphere</span></code></a></p>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>x</strong></dt>\n<dd></dd>\n<dt><strong>y</strong></dt>\n<dd></dd>\n<dt><strong>z</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.HemiSphere.find_closest\" title=\"dipy.core.sphere.HemiSphere.find_closest\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">find_closest</span></code></a>(xyz)</td>\n<td>Find the index of the vertex in the Sphere closest to the input vector, taking into account antipodal symmetry</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.HemiSphere.from_sphere\" title=\"dipy.core.sphere.HemiSphere.from_sphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">from_sphere</span></code></a>(sphere[,&nbsp;tol])</td>\n<td>Create instance from a Sphere</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.HemiSphere.mirror\" title=\"dipy.core.sphere.HemiSphere.mirror\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">mirror</span></code></a>()</td>\n<td>Create a full Sphere from a HemiSphere</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.HemiSphere.subdivide\" title=\"dipy.core.sphere.HemiSphere.subdivide\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">subdivide</span></code></a>([n])</td>\n<td>Create a more subdivided HemiSphere</td>\n</tr>\n</tbody>\n</table>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"55%\" />\n<col width=\"45%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>edges</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>faces</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>vertices</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.core.sphere.HemiSphere.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>x=None</em>, <em>y=None</em>, <em>z=None</em>, <em>theta=None</em>, <em>phi=None</em>, <em>xyz=None</em>, <em>faces=None</em>, <em>edges=None</em>, <em>tol=1e-05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.HemiSphere.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a HemiSphere from points</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.sphere.HemiSphere.faces\">\n<code class=\"descname\">faces</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.HemiSphere.faces\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.sphere.HemiSphere.find_closest\">\n<code class=\"descname\">find_closest</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.HemiSphere.find_closest\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Find the index of the vertex in the Sphere closest to the input vector,\ntaking into account antipodal symmetry</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like, 3 elements</span></dt>\n<dd><p class=\"first last\">A unit vector</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"classmethod\">\n<dt id=\"dipy.core.sphere.HemiSphere.from_sphere\">\n<em class=\"property\">classmethod </em><code class=\"descname\">from_sphere</code><span class=\"sig-paren\">(</span><em>sphere</em>, <em>tol=1e-05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.HemiSphere.from_sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create instance from a Sphere</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.sphere.HemiSphere.mirror\">\n<code class=\"descname\">mirror</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.HemiSphere.mirror\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a full Sphere from a HemiSphere</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.sphere.HemiSphere.subdivide\">\n<code class=\"descname\">subdivide</code><span class=\"sig-paren\">(</span><em>n=1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.HemiSphere.subdivide\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a more subdivided HemiSphere</p>\n<p>See Sphere.subdivide for full documentation.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"sphere\">\n<h3><a class=\"reference internal\" href=\"#dipy.core.sphere.Sphere\" title=\"dipy.core.sphere.Sphere\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Sphere</span></code></a><a class=\"headerlink\" href=\"#sphere\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.core.sphere.Sphere\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.core.sphere.</code><code class=\"descname\">Sphere</code><span class=\"sig-paren\">(</span><em>x=None</em>, <em>y=None</em>, <em>z=None</em>, <em>theta=None</em>, <em>phi=None</em>, <em>xyz=None</em>, <em>faces=None</em>, <em>edges=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.Sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>Points on the unit sphere.</p>\n<p>The sphere can be constructed using one of three conventions:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Sphere</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">z</span><span class=\"p\">)</span>\n<span class=\"n\">Sphere</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"n\">Sphere</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">theta</span><span class=\"p\">,</span> <span class=\"n\">phi</span><span class=\"o\">=</span><span class=\"n\">phi</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>x, y, z</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1-D array_like</span></dt>\n<dd><p class=\"first last\">Vertices as x-y-z coordinates.</p>\n</dd>\n<dt><strong>theta, phi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1-D array_like</span></dt>\n<dd><p class=\"first last\">Vertices as spherical coordinates.  Theta and phi are the inclination\nand azimuth angles respectively.</p>\n</dd>\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 3) ndarray</span></dt>\n<dd><p class=\"first last\">Vertices as x-y-z coordinates.</p>\n</dd>\n<dt><strong>faces</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 3) ndarray</span></dt>\n<dd><p class=\"first last\">Indices into vertices that form triangular faces.  If unspecified,\nthe faces are computed using a Delaunay triangulation.</p>\n</dd>\n<dt><strong>edges</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 2) ndarray</span></dt>\n<dd><p class=\"first last\">Edges between vertices.  If unspecified, the edges are\nderived from the faces.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>x</strong></dt>\n<dd></dd>\n<dt><strong>y</strong></dt>\n<dd></dd>\n<dt><strong>z</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.Sphere.find_closest\" title=\"dipy.core.sphere.Sphere.find_closest\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">find_closest</span></code></a>(xyz)</td>\n<td>Find the index of the vertex in the Sphere closest to the input vector</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.sphere.Sphere.subdivide\" title=\"dipy.core.sphere.Sphere.subdivide\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">subdivide</span></code></a>([n])</td>\n<td>Subdivides each face of the sphere into four new faces.</td>\n</tr>\n</tbody>\n</table>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"55%\" />\n<col width=\"45%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>edges</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>faces</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>vertices</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.core.sphere.Sphere.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>x=None</em>, <em>y=None</em>, <em>z=None</em>, <em>theta=None</em>, <em>phi=None</em>, <em>xyz=None</em>, <em>faces=None</em>, <em>edges=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.Sphere.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.sphere.Sphere.edges\">\n<code class=\"descname\">edges</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.Sphere.edges\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.sphere.Sphere.faces\">\n<code class=\"descname\">faces</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.Sphere.faces\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.sphere.Sphere.find_closest\">\n<code class=\"descname\">find_closest</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.Sphere.find_closest\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Find the index of the vertex in the Sphere closest to the input vector</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like, 3 elements</span></dt>\n<dd><p class=\"first last\">A unit vector</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.sphere.Sphere.subdivide\">\n<code class=\"descname\">subdivide</code><span class=\"sig-paren\">(</span><em>n=1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.Sphere.subdivide\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Subdivides each face of the sphere into four new faces.</p>\n<p>New vertices are created at a, b, and c. Then each face [x, y, z] is\ndivided into faces [x, a, c], [y, a, b], [z, b, c], and [a, b, c].</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span>   y\n   /               /               a/____\b\n/\\    /            /  \\  /             /____\\/____          x      c     z\n</pre></div>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>n</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">The number of subdivisions to preform.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>new_sphere</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Sphere</span></dt>\n<dd><p class=\"first last\">The subdivided sphere.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.sphere.Sphere.vertices\">\n<code class=\"descname\">vertices</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.Sphere.vertices\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.core.sphere.Sphere.x\">\n<code class=\"descname\">x</code><a class=\"headerlink\" href=\"#dipy.core.sphere.Sphere.x\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.core.sphere.Sphere.y\">\n<code class=\"descname\">y</code><a class=\"headerlink\" href=\"#dipy.core.sphere.Sphere.y\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.core.sphere.Sphere.z\">\n<code class=\"descname\">z</code><a class=\"headerlink\" href=\"#dipy.core.sphere.Sphere.z\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"xrange\">\n<h3><a class=\"reference internal\" href=\"#dipy.core.sphere.xrange\" title=\"dipy.core.sphere.xrange\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">xrange</span></code></a><a class=\"headerlink\" href=\"#xrange\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"attribute\">\n<dt id=\"dipy.core.sphere.xrange\">\n<code class=\"descclassname\">dipy.core.sphere.</code><code class=\"descname\">xrange</code><a class=\"headerlink\" href=\"#dipy.core.sphere.xrange\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>alias of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">builtins.range</span></code></p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id54\">\n<h3>auto_attr<a class=\"headerlink\" href=\"#id54\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.sphere.auto_attr\">\n<code class=\"descclassname\">dipy.core.sphere.</code><code class=\"descname\">auto_attr</code><span class=\"sig-paren\">(</span><em>func</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.auto_attr\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Decorator to create OneTimeProperty attributes.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>func</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">method</span></dt>\n<dd><p class=\"first last\">The method that will be called the first time to compute a value.\nAfterwards, the method\u2019s name will be a standard attribute holding the\nvalue of this computation.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span> <span class=\"nc\">MagicProp</span><span class=\"p\">(</span><span class=\"nb\">object</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"nd\">@auto_attr</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span> <span class=\"nf\">a</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"k\">return</span> <span class=\"mi\">99</span>\n<span class=\"gp\">...</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">MagicProp</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"s1\">&#39;a&#39;</span> <span class=\"ow\">in</span> <span class=\"n\">x</span><span class=\"o\">.</span><span class=\"vm\">__dict__</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">.</span><span class=\"n\">a</span>\n<span class=\"go\">99</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"s1\">&#39;a&#39;</span> <span class=\"ow\">in</span> <span class=\"n\">x</span><span class=\"o\">.</span><span class=\"vm\">__dict__</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id55\">\n<h3>cart2sphere<a class=\"headerlink\" href=\"#id55\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.sphere.cart2sphere\">\n<code class=\"descclassname\">dipy.core.sphere.</code><code class=\"descname\">cart2sphere</code><span class=\"sig-paren\">(</span><em>x</em>, <em>y</em>, <em>z</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.cart2sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return angles for Cartesian 3D coordinates <cite>x</cite>, <cite>y</cite>, and <cite>z</cite></p>\n<p>See doc for <code class=\"docutils literal notranslate\"><span class=\"pre\">sphere2cart</span></code> for angle conventions and derivation\nof the formulae.</p>\n<p><span class=\"math notranslate nohighlight\">\\(0\\le\\theta\\mathrm{(theta)}\\le\\pi\\)</span> and <span class=\"math notranslate nohighlight\">\\(-\\pi\\le\\phi\\mathrm{(phi)}\\le\\pi\\)</span></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>x</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">x coordinate in Cartesian space</p>\n</dd>\n<dt><strong>y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">y coordinate in Cartesian space</p>\n</dd>\n<dt><strong>z</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">z coordinate</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>r</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">radius</p>\n</dd>\n<dt><strong>theta</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">inclination (polar) angle</p>\n</dd>\n<dt><strong>phi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">azimuth angle</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id56\">\n<h3>disperse_charges<a class=\"headerlink\" href=\"#id56\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.sphere.disperse_charges\">\n<code class=\"descclassname\">dipy.core.sphere.</code><code class=\"descname\">disperse_charges</code><span class=\"sig-paren\">(</span><em>hemi</em>, <em>iters</em>, <em>const=0.2</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.disperse_charges\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Models electrostatic repulsion on the unit sphere</p>\n<p>Places charges on a sphere and simulates the repulsive forces felt by each\none. Allows the charges to move for some number of iterations and returns\ntheir final location as well as the total potential of the system at each\nstep.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>hemi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">HemiSphere</span></dt>\n<dd><p class=\"first last\">Points on a unit sphere.</p>\n</dd>\n<dt><strong>iters</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of iterations to run.</p>\n</dd>\n<dt><strong>const</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Using a smaller const could provide a more accurate result, but will\nneed more iterations to converge.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>hemi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">HemiSphere</span></dt>\n<dd><p class=\"first last\">Distributed points on a unit sphere.</p>\n</dd>\n<dt><strong>potential</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">The electrostatic potential at each iteration. This can be useful to\ncheck if the repulsion converged to a minimum.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"euler-characteristic-check\">\n<h3>euler_characteristic_check<a class=\"headerlink\" href=\"#euler-characteristic-check\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.sphere.euler_characteristic_check\">\n<code class=\"descclassname\">dipy.core.sphere.</code><code class=\"descname\">euler_characteristic_check</code><span class=\"sig-paren\">(</span><em>sphere</em>, <em>chi=2</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.euler_characteristic_check\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Checks the euler characteristic of a sphere</p>\n<p>If <span class=\"math notranslate nohighlight\">\\(f\\)</span> = number of faces, <span class=\"math notranslate nohighlight\">\\(e\\)</span> = number_of_edges and <span class=\"math notranslate nohighlight\">\\(v\\)</span> = number of\nvertices, the Euler formula says <span class=\"math notranslate nohighlight\">\\(f-e+v = 2\\)</span> for a mesh on a sphere. More\ngenerally, whether <span class=\"math notranslate nohighlight\">\\(f -e + v == \\chi\\)</span> where <span class=\"math notranslate nohighlight\">\\(\\chi\\)</span> is the Euler\ncharacteristic of the mesh.</p>\n<ul class=\"simple\">\n<li>Open chain (track) has <span class=\"math notranslate nohighlight\">\\(\\chi=1\\)</span></li>\n<li>Closed chain (loop) has <span class=\"math notranslate nohighlight\">\\(\\chi=0\\)</span></li>\n<li>Disk has <span class=\"math notranslate nohighlight\">\\(\\chi=1\\)</span></li>\n<li>Sphere has <span class=\"math notranslate nohighlight\">\\(\\chi=2\\)</span></li>\n<li>HemiSphere has <span class=\"math notranslate nohighlight\">\\(\\chi=1\\)</span></li>\n</ul>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>sphere</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Sphere</span></dt>\n<dd><p class=\"first last\">A Sphere instance with vertices, edges and faces attributes.</p>\n</dd>\n<dt><strong>chi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">The Euler characteristic of the mesh to be checked</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>check</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">True if the mesh has Euler characteristic <span class=\"math notranslate nohighlight\">\\(\\chi\\)</span></p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">euler_characteristic_check</span><span class=\"p\">(</span><span class=\"n\">unit_octahedron</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">hemisphere</span> <span class=\"o\">=</span> <span class=\"n\">HemiSphere</span><span class=\"o\">.</span><span class=\"n\">from_sphere</span><span class=\"p\">(</span><span class=\"n\">unit_icosahedron</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">euler_characteristic_check</span><span class=\"p\">(</span><span class=\"n\">hemisphere</span><span class=\"p\">,</span> <span class=\"n\">chi</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"faces-from-sphere-vertices\">\n<h3>faces_from_sphere_vertices<a class=\"headerlink\" href=\"#faces-from-sphere-vertices\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.sphere.faces_from_sphere_vertices\">\n<code class=\"descclassname\">dipy.core.sphere.</code><code class=\"descname\">faces_from_sphere_vertices</code><span class=\"sig-paren\">(</span><em>vertices</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.faces_from_sphere_vertices\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Triangulate a set of vertices on the sphere.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>vertices</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(M, 3) ndarray</span></dt>\n<dd><p class=\"first last\">XYZ coordinates of vertices on the sphere.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>faces</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 3) ndarray</span></dt>\n<dd><p class=\"first last\">Indices into vertices; forms triangular faces.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"interp-rbf\">\n<h3>interp_rbf<a class=\"headerlink\" href=\"#interp-rbf\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.sphere.interp_rbf\">\n<code class=\"descclassname\">dipy.core.sphere.</code><code class=\"descname\">interp_rbf</code><span class=\"sig-paren\">(</span><em>data</em>, <em>sphere_origin</em>, <em>sphere_target</em>, <em>function='multiquadric'</em>, <em>epsilon=None</em>, <em>smooth=0.1</em>, <em>norm='angle'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.interp_rbf\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Interpolate data on the sphere, using radial basis functions.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>data</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,) ndarray</span></dt>\n<dd><p class=\"first last\">Function values on the unit sphere.</p>\n</dd>\n<dt><strong>sphere_origin</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Sphere</span></dt>\n<dd><p class=\"first last\">Positions of data values.</p>\n</dd>\n<dt><strong>sphere_target</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Sphere</span></dt>\n<dd><p class=\"first last\">M target positions for which to interpolate.</p>\n</dd>\n<dt><strong>function</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{\u2018multiquadric\u2019, \u2018inverse\u2019, \u2018gaussian\u2019}</span></dt>\n<dd><p class=\"first last\">Radial basis function.</p>\n</dd>\n<dt><strong>epsilon</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Radial basis function spread parameter. Defaults to approximate average\ndistance between nodes.</p>\n</dd>\n<dt><strong>a good start</strong></dt>\n<dd></dd>\n<dt><strong>smooth</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">values greater than zero increase the smoothness of the\napproximation with 0 as pure interpolation. Default: 0.1</p>\n</dd>\n<dt><strong>norm</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str</span></dt>\n<dd><p class=\"first last\">A string indicating the function that returns the\n\u201cdistance\u201d between two points.\n\u2018angle\u2019 - The angle between two vectors\n\u2018euclidean_norm\u2019 - The Euclidean distance</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>v</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(M,) ndarray</span></dt>\n<dd><p class=\"first last\">Interpolated values.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">scipy.interpolate.Rbf</span></code></p>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"remove-similar-vertices\">\n<h3>remove_similar_vertices<a class=\"headerlink\" href=\"#remove-similar-vertices\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.sphere.remove_similar_vertices\">\n<code class=\"descclassname\">dipy.core.sphere.</code><code class=\"descname\">remove_similar_vertices</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.remove_similar_vertices\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Remove vertices that are less than <cite>theta</cite> degrees from any other</p>\n<p>Returns vertices that are at least theta degrees from any other vertex.\nVertex v and -v are considered the same so if v and -v are both in\n<cite>vertices</cite> only one is kept. Also if v and w are both in vertices, w must\nbe separated by theta degrees from both v and -v to be unique.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>vertices</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 3) ndarray</span></dt>\n<dd><p class=\"first last\">N unit vectors.</p>\n</dd>\n<dt><strong>theta</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">The minimum separation between vertices in degrees.</p>\n</dd>\n<dt><strong>return_mapping</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{False, True}, optional</span></dt>\n<dd><p class=\"first last\">If True, return <cite>mapping</cite> as well as <cite>vertices</cite> and maybe <cite>indices</cite>\n(see below).</p>\n</dd>\n<dt><strong>return_indices</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{False, True}, optional</span></dt>\n<dd><p class=\"first last\">If True, return <cite>indices</cite> as well as <cite>vertices</cite> and maybe <cite>mapping</cite>\n(see below).</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>unique_vertices</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(M, 3) ndarray</span></dt>\n<dd><p class=\"first last\">Vertices sufficiently separated from one another.</p>\n</dd>\n<dt><strong>mapping</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,) ndarray</span></dt>\n<dd><p class=\"first last\">For each element <code class=\"docutils literal notranslate\"><span class=\"pre\">vertices[i]</span></code> (<span class=\"math notranslate nohighlight\">\\(i \\in 0..N-1\\)</span>), the index <span class=\"math notranslate nohighlight\">\\(j\\)</span> to a\nvertex in <cite>unique_vertices</cite> that is less than <cite>theta</cite> degrees from\n<code class=\"docutils literal notranslate\"><span class=\"pre\">vertices[i]</span></code>.  Only returned if <cite>return_mapping</cite> is True.</p>\n</dd>\n<dt><strong>indices</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N,) ndarray</span></dt>\n<dd><p class=\"first last\"><cite>indices</cite> gives the reverse of <cite>mapping</cite>.  For each element\n<code class=\"docutils literal notranslate\"><span class=\"pre\">unique_vertices[j]</span></code> (<span class=\"math notranslate nohighlight\">\\(j \\in 0..M-1\\)</span>), the index <span class=\"math notranslate nohighlight\">\\(i\\)</span> to a vertex in\n<cite>vertices</cite> that is less than <cite>theta</cite> degrees from\n<code class=\"docutils literal notranslate\"><span class=\"pre\">unique_vertices[j]</span></code>.  If there is more than one element of\n<cite>vertices</cite> that is less than theta degrees from <cite>unique_vertices[j]</cite>,\nreturn the first (lowest index) matching value.  Only return if\n<cite>return_indices</cite> is True.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id57\">\n<h3>sphere2cart<a class=\"headerlink\" href=\"#id57\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.sphere.sphere2cart\">\n<code class=\"descclassname\">dipy.core.sphere.</code><code class=\"descname\">sphere2cart</code><span class=\"sig-paren\">(</span><em>r</em>, <em>theta</em>, <em>phi</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.sphere2cart\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Spherical to Cartesian coordinates</p>\n<p>This is the standard physics convention where <cite>theta</cite> is the\ninclination (polar) angle, and <cite>phi</cite> is the azimuth angle.</p>\n<p>Imagine a sphere with center (0,0,0).  Orient it with the z axis\nrunning south-north, the y axis running west-east and the x axis\nfrom posterior to anterior.  <cite>theta</cite> (the inclination angle) is the\nangle to rotate from the z-axis (the zenith) around the y-axis,\ntowards the x axis.  Thus the rotation is counter-clockwise from the\npoint of view of positive y.  <cite>phi</cite> (azimuth) gives the angle of\nrotation around the z-axis towards the y axis.  The rotation is\ncounter-clockwise from the point of view of positive z.</p>\n<p>Equivalently, given a point P on the sphere, with coordinates x, y,\nz, <cite>theta</cite> is the angle between P and the z-axis, and <cite>phi</cite> is\nthe angle between the projection of P onto the XY plane, and the X\naxis.</p>\n<p>Geographical nomenclature designates theta as \u2018co-latitude\u2019, and phi\nas \u2018longitude\u2019</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>r</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">radius</p>\n</dd>\n<dt><strong>theta</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">inclination or polar angle</p>\n</dd>\n<dt><strong>phi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">azimuth angle</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>x</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">x coordinate(s) in Cartesion space</p>\n</dd>\n<dt><strong>y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">y coordinate(s) in Cartesian space</p>\n</dd>\n<dt><strong>z</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">z coordinate</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>See these pages:</p>\n<ul class=\"simple\">\n<li><a class=\"reference external\" href=\"http://en.wikipedia.org/wiki/Spherical_coordinate_system\">http://en.wikipedia.org/wiki/Spherical_coordinate_system</a></li>\n<li><a class=\"reference external\" href=\"http://mathworld.wolfram.com/SphericalCoordinates.html\">http://mathworld.wolfram.com/SphericalCoordinates.html</a></li>\n</ul>\n<p>for excellent discussion of the many different conventions\npossible.  Here we use the physics conventions, used in the\nwikipedia page.</p>\n<p>Derivations of the formulae are simple. Consider a vector x, y, z of\nlength r (norm of x, y, z).  The inclination angle (theta) can be\nfound from: cos(theta) == z / r -&gt; z == r * cos(theta).  This gives\nthe hypotenuse of the projection onto the XY plane, which we will\ncall Q. Q == r*sin(theta). Now x / Q == cos(phi) -&gt; x == r *\nsin(theta) * cos(phi) and so on.</p>\n<p>We have deliberately named this function <code class=\"docutils literal notranslate\"><span class=\"pre\">sphere2cart</span></code> rather than\n<code class=\"docutils literal notranslate\"><span class=\"pre\">sph2cart</span></code> to distinguish it from the Matlab function of that\nname, because the Matlab function uses an unusual convention for the\nangles that we did not want to replicate.  The Matlab function is\ntrivial to implement with the formulae given in the Matlab help.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"unique-edges\">\n<h3>unique_edges<a class=\"headerlink\" href=\"#unique-edges\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.sphere.unique_edges\">\n<code class=\"descclassname\">dipy.core.sphere.</code><code class=\"descname\">unique_edges</code><span class=\"sig-paren\">(</span><em>faces</em>, <em>return_mapping=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.unique_edges\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Extract all unique edges from given triangular faces.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>faces</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 3) ndarray</span></dt>\n<dd><p class=\"first last\">Vertex indices forming triangular faces.</p>\n</dd>\n<dt><strong>return_mapping</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">If true, a mapping to the edges of each face is returned.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>edges</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 2) ndarray</span></dt>\n<dd><p class=\"first last\">Unique edges.</p>\n</dd>\n<dt><strong>mapping</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 3)</span></dt>\n<dd><p class=\"first\">For each face, [x, y, z], a mapping to it\u2019s edges [a, b, c].</p>\n<div class=\"last highlight-default notranslate\"><div class=\"highlight\"><pre><span></span>   y\n   /               /               a/    \b\n/                  /                   /__________          x      c     z\n</pre></div>\n</div>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"unique-sets\">\n<h3>unique_sets<a class=\"headerlink\" href=\"#unique-sets\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.sphere.unique_sets\">\n<code class=\"descclassname\">dipy.core.sphere.</code><code class=\"descname\">unique_sets</code><span class=\"sig-paren\">(</span><em>sets</em>, <em>return_inverse=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.unique_sets\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Remove duplicate sets.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>sets</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (N, k)</span></dt>\n<dd><p class=\"first last\">N sets of size k.</p>\n</dd>\n<dt><strong>return_inverse</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">If True, also returns the indices of unique_sets that can be used\nto reconstruct <cite>sets</cite> (the original ordering of each set may not be\npreserved).</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id58\">\n<h3>vector_norm<a class=\"headerlink\" href=\"#id58\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.sphere.vector_norm\">\n<code class=\"descclassname\">dipy.core.sphere.</code><code class=\"descname\">vector_norm</code><span class=\"sig-paren\">(</span><em>vec</em>, <em>axis=-1</em>, <em>keepdims=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere.vector_norm\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return vector Euclidean (L2) norm</p>\n<p>See <a class=\"reference internal\" href=\"../../glossary/#term-unit-vector\"><span class=\"xref std std-term\">unit vector</span></a> and <a class=\"reference internal\" href=\"../../glossary/#term-euclidean-norm\"><span class=\"xref std std-term\">Euclidean norm</span></a></p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>vec</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">Vectors to norm.</p>\n</dd>\n<dt><strong>axis</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Axis over which to norm. By default norm over last axis. If <cite>axis</cite> is\nNone, <cite>vec</cite> is flattened then normed.</p>\n</dd>\n<dt><strong>keepdims</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">If True, the output will have the same number of dimensions as <cite>vec</cite>,\nwith shape 1 on <cite>axis</cite>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>norm</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">Euclidean norms of vectors.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">vec</span> <span class=\"o\">=</span> <span class=\"p\">[[</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">15</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">36</span><span class=\"p\">,</span> <span class=\"mi\">77</span><span class=\"p\">]]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">vector_norm</span><span class=\"p\">(</span><span class=\"n\">vec</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 17.,  85.])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">vector_norm</span><span class=\"p\">(</span><span class=\"n\">vec</span><span class=\"p\">,</span> <span class=\"n\">keepdims</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"go\">array([[ 17.],</span>\n<span class=\"go\">       [ 85.]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">vector_norm</span><span class=\"p\">(</span><span class=\"n\">vec</span><span class=\"p\">,</span> <span class=\"n\">axis</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"go\">array([  8.,  39.,  77.])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"permutations\">\n<h3><a class=\"reference internal\" href=\"#dipy.core.sphere_stats.permutations\" title=\"dipy.core.sphere_stats.permutations\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">permutations</span></code></a><a class=\"headerlink\" href=\"#permutations\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.core.sphere_stats.permutations\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.core.sphere_stats.</code><code class=\"descname\">permutations</code><a class=\"headerlink\" href=\"#dipy.core.sphere_stats.permutations\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>permutations(iterable[, r]) \u2013&gt; permutations object</p>\n<p>Return successive r-length permutations of elements in the iterable.</p>\n<p>permutations(range(3), 2) \u2013&gt; (0,1), (0,2), (1,0), (1,2), (2,0), (2,1)</p>\n<dl class=\"method\">\n<dt id=\"dipy.core.sphere_stats.permutations.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere_stats.permutations.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"angular-similarity\">\n<h3>angular_similarity<a class=\"headerlink\" href=\"#angular-similarity\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.sphere_stats.angular_similarity\">\n<code class=\"descclassname\">dipy.core.sphere_stats.</code><code class=\"descname\">angular_similarity</code><span class=\"sig-paren\">(</span><em>S</em>, <em>T</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere_stats.angular_similarity\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Computes the cosine distance of the best match between\npoints of two sets of vectors S and T</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>S</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (m,d)</span></dt>\n<dd></dd>\n<dt><strong>T</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (n,d)</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>max_cosine_distance:float</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core.sphere_stats</span> <span class=\"k\">import</span> <span class=\"n\">angular_similarity</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">S</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">T</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">angular_similarity</span><span class=\"p\">(</span><span class=\"n\">S</span><span class=\"p\">,</span><span class=\"n\">T</span><span class=\"p\">)</span>\n<span class=\"go\">2.0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">T</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">S</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">angular_similarity</span><span class=\"p\">(</span><span class=\"n\">S</span><span class=\"p\">,</span><span class=\"n\">T</span><span class=\"p\">)</span>\n<span class=\"go\">2.0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">S</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">T</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">angular_similarity</span><span class=\"p\">(</span><span class=\"n\">S</span><span class=\"p\">,</span><span class=\"n\">T</span><span class=\"p\">)</span>\n<span class=\"go\">2.0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">T</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">S</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">angular_similarity</span><span class=\"p\">(</span><span class=\"n\">S</span><span class=\"p\">,</span><span class=\"n\">T</span><span class=\"p\">)</span>\n<span class=\"go\">3.0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">S</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">T</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"mf\">2.</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"mf\">2.</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">angular_similarity</span><span class=\"p\">(</span><span class=\"n\">S</span><span class=\"p\">,</span><span class=\"n\">T</span><span class=\"p\">)</span>\n<span class=\"go\">2.7071067811865475</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">S</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">T</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">angular_similarity</span><span class=\"p\">(</span><span class=\"n\">S</span><span class=\"p\">,</span><span class=\"n\">T</span><span class=\"p\">)</span>\n<span class=\"go\">1.0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">S</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">T</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">angular_similarity</span><span class=\"p\">(</span><span class=\"n\">S</span><span class=\"p\">,</span><span class=\"n\">T</span><span class=\"p\">)</span>\n<span class=\"go\">0.0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">S</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">T</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"mf\">2.</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"mf\">2.</span><span class=\"p\">]])</span>\n</pre></div>\n</div>\n<p>Now we use <code class=\"docutils literal notranslate\"><span class=\"pre\">print</span></code> to reduce the precision of of the printed output\n(so the doctests don\u2019t detect unimportant differences)</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"si\">%.12f</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"n\">angular_similarity</span><span class=\"p\">(</span><span class=\"n\">S</span><span class=\"p\">,</span><span class=\"n\">T</span><span class=\"p\">))</span>\n<span class=\"go\">0.707106781187</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">S</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">T</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"mf\">2.</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"mf\">2.</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"si\">%.12f</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"n\">angular_similarity</span><span class=\"p\">(</span><span class=\"n\">S</span><span class=\"p\">,</span><span class=\"n\">T</span><span class=\"p\">))</span>\n<span class=\"go\">0.707106781187</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">S</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">T</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"mf\">2.</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"mf\">2.</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;</span><span class=\"si\">%.12f</span><span class=\"s1\">&#39;</span> <span class=\"o\">%</span> <span class=\"n\">angular_similarity</span><span class=\"p\">(</span><span class=\"n\">S</span><span class=\"p\">,</span><span class=\"n\">T</span><span class=\"p\">))</span>\n<span class=\"go\">0.707106781187</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"compare-orientation-sets\">\n<h3>compare_orientation_sets<a class=\"headerlink\" href=\"#compare-orientation-sets\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.sphere_stats.compare_orientation_sets\">\n<code class=\"descclassname\">dipy.core.sphere_stats.</code><code class=\"descname\">compare_orientation_sets</code><span class=\"sig-paren\">(</span><em>S</em>, <em>T</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere_stats.compare_orientation_sets\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Computes the mean cosine distance of the best match between\npoints of two sets of vectors S and T (angular similarity)</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>S</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (m,d)</span></dt>\n<dd><p class=\"first last\">First set of vectors.</p>\n</dd>\n<dt><strong>T</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (n,d)</span></dt>\n<dd><p class=\"first last\">Second set of vectors.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>max_mean_cosine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Maximum mean cosine distance.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core.sphere_stats</span> <span class=\"k\">import</span> <span class=\"n\">compare_orientation_sets</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">S</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">T</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">compare_orientation_sets</span><span class=\"p\">(</span><span class=\"n\">S</span><span class=\"p\">,</span><span class=\"n\">T</span><span class=\"p\">)</span>\n<span class=\"go\">1.0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">T</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">S</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">compare_orientation_sets</span><span class=\"p\">(</span><span class=\"n\">S</span><span class=\"p\">,</span><span class=\"n\">T</span><span class=\"p\">)</span>\n<span class=\"go\">1.0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core.sphere_stats</span> <span class=\"k\">import</span> <span class=\"n\">compare_orientation_sets</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">S</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">T</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">compare_orientation_sets</span><span class=\"p\">(</span><span class=\"n\">S</span><span class=\"p\">,</span><span class=\"n\">T</span><span class=\"p\">)</span>\n<span class=\"go\">1.0</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"eigenstats\">\n<h3>eigenstats<a class=\"headerlink\" href=\"#eigenstats\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.sphere_stats.eigenstats\">\n<code class=\"descclassname\">dipy.core.sphere_stats.</code><code class=\"descname\">eigenstats</code><span class=\"sig-paren\">(</span><em>points</em>, <em>alpha=0.05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere_stats.eigenstats\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Principal direction and confidence ellipse</p>\n<p>Implements equations in section 6.3.1(ii) of Fisher, Lewis and\nEmbleton, supplemented by equations in section 3.2.5.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>points</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">arraey_like (N,3)</span></dt>\n<dd><p class=\"first last\">array of points on the sphere of radius 1 in <span class=\"math notranslate nohighlight\">\\(\\mathbb{R}^3\\)</span></p>\n</dd>\n<dt><strong>alpha</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">real or None</span></dt>\n<dd><p class=\"first last\">1 minus the coverage for the confidence ellipsoid, e.g. 0.05 for 95%\ncoverage.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>centre</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">vector (3,)</span></dt>\n<dd><p class=\"first last\">centre of ellipsoid</p>\n</dd>\n<dt><strong>b1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">vector (2,)</span></dt>\n<dd><p class=\"first last\">lengths of semi-axes of ellipsoid</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"random-uniform-on-sphere\">\n<h3>random_uniform_on_sphere<a class=\"headerlink\" href=\"#random-uniform-on-sphere\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.sphere_stats.random_uniform_on_sphere\">\n<code class=\"descclassname\">dipy.core.sphere_stats.</code><code class=\"descname\">random_uniform_on_sphere</code><span class=\"sig-paren\">(</span><em>n=1</em>, <em>coords='xyz'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.sphere_stats.random_uniform_on_sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Random unit vectors from a uniform distribution on the sphere.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>n</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of random vectors</p>\n</dd>\n<dt><strong>coords</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{\u2018xyz\u2019, \u2018radians\u2019, \u2018degrees\u2019}</span></dt>\n<dd><p class=\"first last\">\u2018xyz\u2019 for cartesian form\n\u2018radians\u2019 for spherical form in rads\n\u2018degrees\u2019 for spherical form in degrees</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>X</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (n,3) if coords=\u2019xyz\u2019 or shape (n,2) otherwise</span></dt>\n<dd><p class=\"first last\">Uniformly distributed vectors on the unit sphere.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>The uniform distribution on the sphere, parameterized by spherical\ncoordinates <span class=\"math notranslate nohighlight\">\\((\\theta, \\phi)\\)</span>, should verify <span class=\"math notranslate nohighlight\">\\(\\phi\\sim U[0,2\\pi]\\)</span>, while\n<span class=\"math notranslate nohighlight\">\\(z=\\cos(\\theta)\\sim U[-1,1]\\)</span>.</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r855e1bb248b7-1\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id59\">[1]</a></td><td><a class=\"reference external\" href=\"http://mathworld.wolfram.com/SpherePointPicking.html\">http://mathworld.wolfram.com/SpherePointPicking.html</a>.</td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core.sphere_stats</span> <span class=\"k\">import</span> <span class=\"n\">random_uniform_on_sphere</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">X</span> <span class=\"o\">=</span> <span class=\"n\">random_uniform_on_sphere</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"s1\">&#39;radians&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">X</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">X</span> <span class=\"o\">=</span> <span class=\"n\">random_uniform_on_sphere</span><span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"s1\">&#39;xyz&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">X</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id60\">\n<h3><a class=\"reference internal\" href=\"#dipy.core.subdivide_octahedron.HemiSphere\" title=\"dipy.core.subdivide_octahedron.HemiSphere\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">HemiSphere</span></code></a><a class=\"headerlink\" href=\"#id60\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.core.subdivide_octahedron.HemiSphere\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.core.subdivide_octahedron.</code><code class=\"descname\">HemiSphere</code><span class=\"sig-paren\">(</span><em>x=None</em>, <em>y=None</em>, <em>z=None</em>, <em>theta=None</em>, <em>phi=None</em>, <em>xyz=None</em>, <em>faces=None</em>, <em>edges=None</em>, <em>tol=1e-05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.subdivide_octahedron.HemiSphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.core.sphere.Sphere\" title=\"dipy.core.sphere.Sphere\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.core.sphere.Sphere</span></code></a></p>\n<p>Points on the unit sphere.</p>\n<p>A HemiSphere is similar to a Sphere but it takes antipodal symmetry into\naccount. Antipodal symmetry means that point v on a HemiSphere is the same\nas the point -v. Duplicate points are discarded when constructing a\nHemiSphere (including antipodal duplicates). <cite>edges</cite> and <cite>faces</cite> are\nremapped to the remaining points as closely as possible.</p>\n<p>The HemiSphere can be constructed using one of three conventions:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">HemiSphere</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">z</span><span class=\"p\">)</span>\n<span class=\"n\">HemiSphere</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"n\">HemiSphere</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">theta</span><span class=\"p\">,</span> <span class=\"n\">phi</span><span class=\"o\">=</span><span class=\"n\">phi</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>x, y, z</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1-D array_like</span></dt>\n<dd><p class=\"first last\">Vertices as x-y-z coordinates.</p>\n</dd>\n<dt><strong>theta, phi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1-D array_like</span></dt>\n<dd><p class=\"first last\">Vertices as spherical coordinates.  Theta and phi are the inclination\nand azimuth angles respectively.</p>\n</dd>\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 3) ndarray</span></dt>\n<dd><p class=\"first last\">Vertices as x-y-z coordinates.</p>\n</dd>\n<dt><strong>faces</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 3) ndarray</span></dt>\n<dd><p class=\"first last\">Indices into vertices that form triangular faces.  If unspecified,\nthe faces are computed using a Delaunay triangulation.</p>\n</dd>\n<dt><strong>edges</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, 2) ndarray</span></dt>\n<dd><p class=\"first last\">Edges between vertices.  If unspecified, the edges are\nderived from the faces.</p>\n</dd>\n<dt><strong>tol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Angle in degrees. Vertices that are less than tol degrees apart are\ntreated as duplicates.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Sphere</span></code></p>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>x</strong></dt>\n<dd></dd>\n<dt><strong>y</strong></dt>\n<dd></dd>\n<dt><strong>z</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.subdivide_octahedron.HemiSphere.find_closest\" title=\"dipy.core.subdivide_octahedron.HemiSphere.find_closest\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">find_closest</span></code></a>(xyz)</td>\n<td>Find the index of the vertex in the Sphere closest to the input vector, taking into account antipodal symmetry</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.subdivide_octahedron.HemiSphere.from_sphere\" title=\"dipy.core.subdivide_octahedron.HemiSphere.from_sphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">from_sphere</span></code></a>(sphere[,&nbsp;tol])</td>\n<td>Create instance from a Sphere</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.core.subdivide_octahedron.HemiSphere.mirror\" title=\"dipy.core.subdivide_octahedron.HemiSphere.mirror\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">mirror</span></code></a>()</td>\n<td>Create a full Sphere from a HemiSphere</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.core.subdivide_octahedron.HemiSphere.subdivide\" title=\"dipy.core.subdivide_octahedron.HemiSphere.subdivide\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">subdivide</span></code></a>([n])</td>\n<td>Create a more subdivided HemiSphere</td>\n</tr>\n</tbody>\n</table>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"55%\" />\n<col width=\"45%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>edges</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>faces</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>vertices</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.core.subdivide_octahedron.HemiSphere.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>x=None</em>, <em>y=None</em>, <em>z=None</em>, <em>theta=None</em>, <em>phi=None</em>, <em>xyz=None</em>, <em>faces=None</em>, <em>edges=None</em>, <em>tol=1e-05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.subdivide_octahedron.HemiSphere.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a HemiSphere from points</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.subdivide_octahedron.HemiSphere.faces\">\n<code class=\"descname\">faces</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.subdivide_octahedron.HemiSphere.faces\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.subdivide_octahedron.HemiSphere.find_closest\">\n<code class=\"descname\">find_closest</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.subdivide_octahedron.HemiSphere.find_closest\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Find the index of the vertex in the Sphere closest to the input vector,\ntaking into account antipodal symmetry</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like, 3 elements</span></dt>\n<dd><p class=\"first last\">A unit vector</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"classmethod\">\n<dt id=\"dipy.core.subdivide_octahedron.HemiSphere.from_sphere\">\n<em class=\"property\">classmethod </em><code class=\"descname\">from_sphere</code><span class=\"sig-paren\">(</span><em>sphere</em>, <em>tol=1e-05</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.subdivide_octahedron.HemiSphere.from_sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create instance from a Sphere</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.subdivide_octahedron.HemiSphere.mirror\">\n<code class=\"descname\">mirror</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.subdivide_octahedron.HemiSphere.mirror\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a full Sphere from a HemiSphere</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.core.subdivide_octahedron.HemiSphere.subdivide\">\n<code class=\"descname\">subdivide</code><span class=\"sig-paren\">(</span><em>n=1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.subdivide_octahedron.HemiSphere.subdivide\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Create a more subdivided HemiSphere</p>\n<p>See Sphere.subdivide for full documentation.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"create-unit-hemisphere\">\n<h3>create_unit_hemisphere<a class=\"headerlink\" href=\"#create-unit-hemisphere\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.subdivide_octahedron.create_unit_hemisphere\">\n<code class=\"descclassname\">dipy.core.subdivide_octahedron.</code><code class=\"descname\">create_unit_hemisphere</code><span class=\"sig-paren\">(</span><em>recursion_level=2</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.subdivide_octahedron.create_unit_hemisphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Creates a unit sphere by subdividing a unit octahedron, returns half\nthe sphere.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>recursion_level</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Level of subdivision, recursion_level=1 will return an octahedron,\nanything bigger will return a more subdivided sphere. The sphere will\nhave <span class=\"math notranslate nohighlight\">\\((4^recursion_level+2)/2\\)</span> vertices.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>HemiSphere :</strong></dt>\n<dd><p class=\"first last\">Half of a unit sphere.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.core.subdivide_octahedron.create_unit_sphere\" title=\"dipy.core.subdivide_octahedron.create_unit_sphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">create_unit_sphere</span></code></a>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Sphere</span></code>, <a class=\"reference internal\" href=\"#dipy.core.subdivide_octahedron.HemiSphere\" title=\"dipy.core.subdivide_octahedron.HemiSphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">HemiSphere</span></code></a></p>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"create-unit-sphere\">\n<h3>create_unit_sphere<a class=\"headerlink\" href=\"#create-unit-sphere\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.subdivide_octahedron.create_unit_sphere\">\n<code class=\"descclassname\">dipy.core.subdivide_octahedron.</code><code class=\"descname\">create_unit_sphere</code><span class=\"sig-paren\">(</span><em>recursion_level=2</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.subdivide_octahedron.create_unit_sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Creates a unit sphere by subdividing a unit octahedron.</p>\n<p>Starts with a unit octahedron and subdivides the faces, projecting the\nresulting points onto the surface of a unit sphere.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>recursion_level</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Level of subdivision, recursion_level=1 will return an octahedron,\nanything bigger will return a more subdivided sphere. The sphere will\nhave <span class=\"math notranslate nohighlight\">\\(4^recursion_level+2\\)</span> vertices.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>Sphere :</strong></dt>\n<dd><p class=\"first last\">The unit sphere.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.core.subdivide_octahedron.create_unit_hemisphere\" title=\"dipy.core.subdivide_octahedron.create_unit_hemisphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">create_unit_hemisphere</span></code></a>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Sphere</span></code></p>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"afb3d\">\n<h3>afb3D<a class=\"headerlink\" href=\"#afb3d\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.wavelet.afb3D\">\n<code class=\"descclassname\">dipy.core.wavelet.</code><code class=\"descname\">afb3D</code><span class=\"sig-paren\">(</span><em>x</em>, <em>af1</em>, <em>af2=None</em>, <em>af3=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.wavelet.afb3D\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>3D Analysis Filter Bank</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>x</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">3D ndarray</span></dt>\n<dd><p class=\"first last\">N1 by N2 by N3 array matrix, where\n1) N1, N2, N3 all even\n2) N1 &gt;= 2*len(af1)\n3) N2 &gt;= 2*len(af2)\n4) N3 &gt;= 2*len(af3)</p>\n</dd>\n<dt><strong>afi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D ndarray</span></dt>\n<dd><p class=\"first last\">analysis filters for dimension i\nafi[:, 1] - lowpass filter\nafi[:, 2] - highpass filter</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>lo</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1D array</span></dt>\n<dd><p class=\"first last\">lowpass subband</p>\n</dd>\n<dt><strong>hi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1D array</span></dt>\n<dd><p class=\"first last\">highpass subbands, h[d]- d = 1..7</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"afb3d-a\">\n<h3>afb3D_A<a class=\"headerlink\" href=\"#afb3d-a\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.wavelet.afb3D_A\">\n<code class=\"descclassname\">dipy.core.wavelet.</code><code class=\"descname\">afb3D_A</code><span class=\"sig-paren\">(</span><em>x</em>, <em>af</em>, <em>d</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.wavelet.afb3D_A\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><dl class=\"docutils\">\n<dt>3D Analysis Filter Bank</dt>\n<dd>(along one dimension only)</dd>\n</dl>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>x</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">3D ndarray</span></dt>\n<dd><dl class=\"first last docutils\">\n<dt>N1xN2xN2 matrix, where min(N1,N2,N3) &gt; 2*length(filter)</dt>\n<dd><p class=\"first last\">(Ni are even)</p>\n</dd>\n</dl>\n</dd>\n<dt><strong>af</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D ndarray</span></dt>\n<dd><p class=\"first last\">analysis filter for the columns\naf[:, 1] - lowpass filter\naf[:, 2] - highpass filter</p>\n</dd>\n<dt><strong>d</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">dimension of filtering (d = 1, 2 or 3)</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>lo</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1D array</span></dt>\n<dd><p class=\"first last\">lowpass subbands</p>\n</dd>\n<dt><strong>hi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1D array</span></dt>\n<dd><p class=\"first last\">highpass subbands</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"cshift3d\">\n<h3>cshift3D<a class=\"headerlink\" href=\"#cshift3d\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.wavelet.cshift3D\">\n<code class=\"descclassname\">dipy.core.wavelet.</code><code class=\"descname\">cshift3D</code><span class=\"sig-paren\">(</span><em>x</em>, <em>m</em>, <em>d</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.wavelet.cshift3D\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>3D Circular Shift</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>x</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">3D ndarray</span></dt>\n<dd><p class=\"first last\">N1 by N2 by N3 array</p>\n</dd>\n<dt><strong>m</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">amount of shift</p>\n</dd>\n<dt><strong>d</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">dimension of shift (d = 1,2,3)</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">3D ndarray</span></dt>\n<dd><p class=\"first last\">array x will be shifed by m samples down\nalong dimension d</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"dwt3d\">\n<h3>dwt3D<a class=\"headerlink\" href=\"#dwt3d\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.wavelet.dwt3D\">\n<code class=\"descclassname\">dipy.core.wavelet.</code><code class=\"descname\">dwt3D</code><span class=\"sig-paren\">(</span><em>x</em>, <em>J</em>, <em>af</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.wavelet.dwt3D\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>3-D Discrete Wavelet Transform</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>x</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">3D ndarray</span></dt>\n<dd><p class=\"first last\">N1 x N2 x N3 matrix\n1) Ni all even\n2) min(Ni) &gt;= 2^(J-1)*length(af)</p>\n</dd>\n<dt><strong>J</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">number of stages</p>\n</dd>\n<dt><strong>af</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D ndarray</span></dt>\n<dd><p class=\"first last\">analysis filters</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>w</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">cell array</span></dt>\n<dd><p class=\"first last\">wavelet coefficients</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"idwt3d\">\n<h3>idwt3D<a class=\"headerlink\" href=\"#idwt3d\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.wavelet.idwt3D\">\n<code class=\"descclassname\">dipy.core.wavelet.</code><code class=\"descname\">idwt3D</code><span class=\"sig-paren\">(</span><em>w</em>, <em>J</em>, <em>sf</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.wavelet.idwt3D\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Inverse 3-D Discrete Wavelet Transform</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>w</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">cell array</span></dt>\n<dd><p class=\"first last\">wavelet coefficient</p>\n</dd>\n<dt><strong>J</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">number of stages</p>\n</dd>\n<dt><strong>sf</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D ndarray</span></dt>\n<dd><p class=\"first last\">synthesis filters</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">3D ndarray</span></dt>\n<dd><p class=\"first last\">output array</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"permutationinverse\">\n<h3>permutationinverse<a class=\"headerlink\" href=\"#permutationinverse\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.wavelet.permutationinverse\">\n<code class=\"descclassname\">dipy.core.wavelet.</code><code class=\"descname\">permutationinverse</code><span class=\"sig-paren\">(</span><em>perm</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.wavelet.permutationinverse\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Function generating inverse of the permutation</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>perm</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1D array</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>inverse</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1D array</span></dt>\n<dd><p class=\"first last\">permutation inverse of the input</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"sfb3d\">\n<h3>sfb3D<a class=\"headerlink\" href=\"#sfb3d\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.wavelet.sfb3D\">\n<code class=\"descclassname\">dipy.core.wavelet.</code><code class=\"descname\">sfb3D</code><span class=\"sig-paren\">(</span><em>lo</em>, <em>hi</em>, <em>sf1</em>, <em>sf2=None</em>, <em>sf3=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.wavelet.sfb3D\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>3D Synthesis Filter Bank</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>lo</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1D array</span></dt>\n<dd><p class=\"first last\">lowpass subbands</p>\n</dd>\n<dt><strong>hi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1D array</span></dt>\n<dd><p class=\"first last\">highpass subbands</p>\n</dd>\n<dt><strong>sfi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D ndarray</span></dt>\n<dd><p class=\"first last\">synthesis filters for dimension i</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">3D ndarray</span></dt>\n<dd><p class=\"first last\">output array</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"sfb3d-a\">\n<h3>sfb3D_A<a class=\"headerlink\" href=\"#sfb3d-a\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.core.wavelet.sfb3D_A\">\n<code class=\"descclassname\">dipy.core.wavelet.</code><code class=\"descname\">sfb3D_A</code><span class=\"sig-paren\">(</span><em>lo</em>, <em>hi</em>, <em>sf</em>, <em>d</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.core.wavelet.sfb3D_A\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><dl class=\"docutils\">\n<dt>3D Synthesis Filter Bank</dt>\n<dd>(along single dimension only)</dd>\n</dl>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>lo</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1D array</span></dt>\n<dd><p class=\"first last\">lowpass subbands</p>\n</dd>\n<dt><strong>hi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1D array</span></dt>\n<dd><p class=\"first last\">highpass subbands</p>\n</dd>\n<dt><strong>sf</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">2D ndarray</span></dt>\n<dd><p class=\"first last\">synthesis filters</p>\n</dd>\n<dt><strong>d</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">dimension of filtering</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">3D ndarray</span></dt>\n<dd><p class=\"first last\">the N1xN2xN3 matrix</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["reference/dipy.boots", "<code class=\"docutils literal notranslate\"><span class=\"pre\">boots</span></code>", "P", "previous"]], "sourcename": "reference/dipy.core.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"docutils literal notranslate\"><span class=\"pre\">core</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#module-dipy.core.geometry\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">core.geometry</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.core.gradients\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">core.gradients</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.core.graph\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">core.graph</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.core.histeq\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">core.histeq</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.core.ndindex\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">core.ndindex</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.core.onetime\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">core.onetime</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#references\">References</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#module-dipy.core.optimize\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">core.optimize</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.core.profile\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">core.profile</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.core.rng\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">core.rng</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.core.sphere\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">core.sphere</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.core.sphere_stats\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">core.sphere_stats</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.core.subdivide_octahedron\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">core.subdivide_octahedron</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.core.wavelet\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">core.wavelet</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#test\">test</a></li>\n<li><a class=\"reference internal\" href=\"#cart2sphere\">cart2sphere</a></li>\n<li><a class=\"reference internal\" href=\"#cart-distance\">cart_distance</a></li>\n<li><a class=\"reference internal\" href=\"#circumradius\">circumradius</a></li>\n<li><a class=\"reference internal\" href=\"#compose-matrix\">compose_matrix</a></li>\n<li><a class=\"reference internal\" href=\"#compose-transformations\">compose_transformations</a></li>\n<li><a class=\"reference internal\" href=\"#decompose-matrix\">decompose_matrix</a></li>\n<li><a class=\"reference internal\" href=\"#dist-to-corner\">dist_to_corner</a></li>\n<li><a class=\"reference internal\" href=\"#euler-matrix\">euler_matrix</a></li>\n<li><a class=\"reference internal\" href=\"#lambert-equal-area-projection-cart\">lambert_equal_area_projection_cart</a></li>\n<li><a class=\"reference internal\" href=\"#lambert-equal-area-projection-polar\">lambert_equal_area_projection_polar</a></li>\n<li><a class=\"reference internal\" href=\"#nearest-pos-semi-def\">nearest_pos_semi_def</a></li>\n<li><a class=\"reference internal\" href=\"#normalized-vector\">normalized_vector</a></li>\n<li><a class=\"reference internal\" href=\"#perpendicular-directions\">perpendicular_directions</a></li>\n<li><a class=\"reference internal\" href=\"#rodrigues-axis-rotation\">rodrigues_axis_rotation</a></li>\n<li><a class=\"reference internal\" href=\"#setup-test\">setup_test</a></li>\n<li><a class=\"reference internal\" href=\"#sph2latlon\">sph2latlon</a></li>\n<li><a class=\"reference internal\" href=\"#sphere2cart\">sphere2cart</a></li>\n<li><a class=\"reference internal\" href=\"#sphere-distance\">sphere_distance</a></li>\n<li><a class=\"reference internal\" href=\"#vec2vec-rotmat\">vec2vec_rotmat</a></li>\n<li><a class=\"reference internal\" href=\"#vector-cosine\">vector_cosine</a></li>\n<li><a class=\"reference internal\" href=\"#vector-norm\">vector_norm</a></li>\n<li><a class=\"reference internal\" href=\"#gradienttable\"><code class=\"docutils literal notranslate\"><span class=\"pre\">GradientTable</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#hemisphere\"><code class=\"docutils literal notranslate\"><span class=\"pre\">HemiSphere</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#auto-attr\">auto_attr</a></li>\n<li><a class=\"reference internal\" href=\"#check-multi-b\">check_multi_b</a></li>\n<li><a class=\"reference internal\" href=\"#disperse-charges\">disperse_charges</a></li>\n<li><a class=\"reference internal\" href=\"#generate-bvecs\">generate_bvecs</a></li>\n<li><a class=\"reference internal\" href=\"#gradient-table\">gradient_table</a></li>\n<li><a class=\"reference internal\" href=\"#gradient-table-from-bvals-bvecs\">gradient_table_from_bvals_bvecs</a></li>\n<li><a class=\"reference internal\" href=\"#gradient-table-from-gradient-strength-bvecs\">gradient_table_from_gradient_strength_bvecs</a></li>\n<li><a class=\"reference internal\" href=\"#gradient-table-from-qvals-bvecs\">gradient_table_from_qvals_bvecs</a></li>\n<li><a class=\"reference internal\" href=\"#inv\">inv</a></li>\n<li><a class=\"reference internal\" href=\"#polar\">polar</a></li>\n<li><a class=\"reference internal\" href=\"#reorient-bvecs\">reorient_bvecs</a></li>\n<li><a class=\"reference internal\" href=\"#id10\">vector_norm</a></li>\n<li><a class=\"reference internal\" href=\"#warn\">warn</a></li>\n<li><a class=\"reference internal\" href=\"#graph\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Graph</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#histeq\">histeq</a></li>\n<li><a class=\"reference internal\" href=\"#as-strided\">as_strided</a></li>\n<li><a class=\"reference internal\" href=\"#ndindex\">ndindex</a></li>\n<li><a class=\"reference internal\" href=\"#onetimeproperty\"><code class=\"docutils literal notranslate\"><span class=\"pre\">OneTimeProperty</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#resetmixin\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ResetMixin</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id11\">auto_attr</a></li>\n<li><a class=\"reference internal\" href=\"#setattr-on-read\">setattr_on_read</a></li>\n<li><a class=\"reference internal\" href=\"#looseversion\"><code class=\"docutils literal notranslate\"><span class=\"pre\">LooseVersion</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#nonnegativeleastsquares\"><code class=\"docutils literal notranslate\"><span class=\"pre\">NonNegativeLeastSquares</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#optimizer\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Optimizer</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#sklearnlinearsolver\"><code class=\"docutils literal notranslate\"><span class=\"pre\">SKLearnLinearSolver</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#minimize\">minimize</a></li>\n<li><a class=\"reference internal\" href=\"#sparse-nnls\">sparse_nnls</a></li>\n<li><a class=\"reference internal\" href=\"#spdot\">spdot</a></li>\n<li><a class=\"reference internal\" href=\"#with-metaclass\">with_metaclass</a></li>\n<li><a class=\"reference internal\" href=\"#profiler\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Profiler</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#optional-package\">optional_package</a></li>\n<li><a class=\"reference internal\" href=\"#lecuyer\">LEcuyer</a></li>\n<li><a class=\"reference internal\" href=\"#wichmannhill1982\">WichmannHill1982</a></li>\n<li><a class=\"reference internal\" href=\"#wichmannhill2006\">WichmannHill2006</a></li>\n<li><a class=\"reference internal\" href=\"#architecture\">architecture</a></li>\n<li><a class=\"reference internal\" href=\"#floor\">floor</a></li>\n<li><a class=\"reference internal\" href=\"#id53\"><code class=\"docutils literal notranslate\"><span class=\"pre\">HemiSphere</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#sphere\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Sphere</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#xrange\"><code class=\"docutils literal notranslate\"><span class=\"pre\">xrange</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id54\">auto_attr</a></li>\n<li><a class=\"reference internal\" href=\"#id55\">cart2sphere</a></li>\n<li><a class=\"reference internal\" href=\"#id56\">disperse_charges</a></li>\n<li><a class=\"reference internal\" href=\"#euler-characteristic-check\">euler_characteristic_check</a></li>\n<li><a class=\"reference internal\" href=\"#faces-from-sphere-vertices\">faces_from_sphere_vertices</a></li>\n<li><a class=\"reference internal\" href=\"#interp-rbf\">interp_rbf</a></li>\n<li><a class=\"reference internal\" href=\"#remove-similar-vertices\">remove_similar_vertices</a></li>\n<li><a class=\"reference internal\" href=\"#id57\">sphere2cart</a></li>\n<li><a class=\"reference internal\" href=\"#unique-edges\">unique_edges</a></li>\n<li><a class=\"reference internal\" href=\"#unique-sets\">unique_sets</a></li>\n<li><a class=\"reference internal\" href=\"#id58\">vector_norm</a></li>\n<li><a class=\"reference internal\" href=\"#permutations\"><code class=\"docutils literal notranslate\"><span class=\"pre\">permutations</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#angular-similarity\">angular_similarity</a></li>\n<li><a class=\"reference internal\" href=\"#compare-orientation-sets\">compare_orientation_sets</a></li>\n<li><a class=\"reference internal\" href=\"#eigenstats\">eigenstats</a></li>\n<li><a class=\"reference internal\" href=\"#random-uniform-on-sphere\">random_uniform_on_sphere</a></li>\n<li><a class=\"reference internal\" href=\"#id60\"><code class=\"docutils literal notranslate\"><span class=\"pre\">HemiSphere</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#create-unit-hemisphere\">create_unit_hemisphere</a></li>\n<li><a class=\"reference internal\" href=\"#create-unit-sphere\">create_unit_sphere</a></li>\n<li><a class=\"reference internal\" href=\"#afb3d\">afb3D</a></li>\n<li><a class=\"reference internal\" href=\"#afb3d-a\">afb3D_A</a></li>\n<li><a class=\"reference internal\" href=\"#cshift3d\">cshift3D</a></li>\n<li><a class=\"reference internal\" href=\"#dwt3d\">dwt3D</a></li>\n<li><a class=\"reference internal\" href=\"#idwt3d\">idwt3D</a></li>\n<li><a class=\"reference internal\" href=\"#permutationinverse\">permutationinverse</a></li>\n<li><a class=\"reference internal\" href=\"#sfb3d\">sfb3D</a></li>\n<li><a class=\"reference internal\" href=\"#sfb3d-a\">sfb3D_A</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "reference/dipy.core", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.11"}