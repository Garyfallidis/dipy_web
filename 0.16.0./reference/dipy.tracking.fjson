{"parents": [{"link": "../../documentation/", "title": "Documentation"}, {"link": "../", "title": "API Reference"}], "prev": null, "next": null, "title": "<code class=\"docutils literal notranslate\"><span class=\"pre\">tracking</span></code>", "meta": {}, "body": "<div class=\"section\" id=\"module-dipy.tracking\">\n<span id=\"tracking\"></span><h1><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">tracking</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>Tracking objects</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Streamlines</span></code></a></td>\n<td>alias of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">nibabel.streamlines.array_sequence.ArraySequence</span></code></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.bench\" title=\"dipy.tracking.bench\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">bench</span></code></a></td>\n<td>Run benchmarks for module using nose.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.test\" title=\"dipy.tracking.test\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">test</span></code></a></td>\n<td>Run tests for module using nose.</td>\n</tr>\n</tbody>\n</table>\n<div class=\"section\" id=\"module-dipy.tracking._utils\">\n<span id=\"module-tracking-utils\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">tracking._utils</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking._utils\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking._utils.warn\" title=\"dipy.tracking._utils.warn\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">warn</span></code></a></td>\n<td>Issue a warning, or maybe ignore it or raise an exception.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.benchmarks\">\n<span id=\"module-tracking-benchmarks\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">tracking.benchmarks</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.benchmarks\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.benchmarks.bench_streamline\">\n<span id=\"module-tracking-benchmarks-bench-streamline\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">tracking.benchmarks.bench_streamline</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.benchmarks.bench_streamline\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Benchmarks for functions related to streamline</p>\n<p>Run all benchmarks with:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">dipy.tracking</span> <span class=\"k\">as</span> <span class=\"nn\">dipytracking</span>\n<span class=\"n\">dipytracking</span><span class=\"o\">.</span><span class=\"n\">bench</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>With Pytest, Run this benchmark with:</p>\n<blockquote>\n<div>pytest -svv -c bench.ini /path/to/bench_streamline.py</div></blockquote>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.Streamlines\" title=\"dipy.tracking.benchmarks.bench_streamline.Streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Streamlines</span></code></a></td>\n<td>alias of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">nibabel.streamlines.array_sequence.ArraySequence</span></code></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.assert_array_almost_equal\" title=\"dipy.tracking.benchmarks.bench_streamline.assert_array_almost_equal\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_array_almost_equal</span></code></a>(x,&nbsp;y[,&nbsp;decimal,&nbsp;\u2026])</td>\n<td>Raises an AssertionError if two objects are not equal up to desired precision.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.assert_array_equal\" title=\"dipy.tracking.benchmarks.bench_streamline.assert_array_equal\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_array_equal</span></code></a>(x,&nbsp;y[,&nbsp;err_msg,&nbsp;verbose])</td>\n<td>Raises an AssertionError if two array_like objects are not equal.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.bench_compress_streamlines\" title=\"dipy.tracking.benchmarks.bench_streamline.bench_compress_streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">bench_compress_streamlines</span></code></a>()</td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.bench_length\" title=\"dipy.tracking.benchmarks.bench_streamline.bench_length\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">bench_length</span></code></a>()</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.bench_set_number_of_points\" title=\"dipy.tracking.benchmarks.bench_streamline.bench_set_number_of_points\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">bench_set_number_of_points</span></code></a>()</td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.compress_streamlines\" title=\"dipy.tracking.benchmarks.bench_streamline.compress_streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">compress_streamlines</span></code></a></td>\n<td>Compress streamlines by linearization as in <a class=\"reference internal\" href=\"#r0354129d978f-presseau15\" id=\"id1\">[Presseau15]</a>.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.compress_streamlines_python\" title=\"dipy.tracking.benchmarks.bench_streamline.compress_streamlines_python\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">compress_streamlines_python</span></code></a>(streamline[,&nbsp;\u2026])</td>\n<td>Python version of the FiberCompression found on <a class=\"reference external\" href=\"https://github.com/scilus/FiberCompression\">https://github.com/scilus/FiberCompression</a>.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.generate_streamlines\" title=\"dipy.tracking.benchmarks.bench_streamline.generate_streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">generate_streamlines</span></code></a>(nb_streamlines,&nbsp;\u2026)</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.get_fnames\" title=\"dipy.tracking.benchmarks.bench_streamline.get_fnames\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">get_fnames</span></code></a>([name])</td>\n<td>provides filenames of some test datasets or other useful parametrisations</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.length\" title=\"dipy.tracking.benchmarks.bench_streamline.length\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">length</span></code></a></td>\n<td>Euclidean length of streamlines</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.length_python\" title=\"dipy.tracking.benchmarks.bench_streamline.length_python\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">length_python</span></code></a>(xyz[,&nbsp;along])</td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.measure\" title=\"dipy.tracking.benchmarks.bench_streamline.measure\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">measure</span></code></a>(code_str[,&nbsp;times,&nbsp;label])</td>\n<td>Return elapsed time for executing code in the namespace of the caller.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.set_number_of_points\" title=\"dipy.tracking.benchmarks.bench_streamline.set_number_of_points\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">set_number_of_points</span></code></a></td>\n<td>Change the number of points of streamlines</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.set_number_of_points_python\" title=\"dipy.tracking.benchmarks.bench_streamline.set_number_of_points_python\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">set_number_of_points_python</span></code></a>(xyz[,&nbsp;n_pols])</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.setup\" title=\"dipy.tracking.benchmarks.bench_streamline.setup\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">setup</span></code></a>()</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.eudx\">\n<span id=\"module-tracking-eudx\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">tracking.eudx</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.eudx\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.eudx.EuDX\" title=\"dipy.tracking.eudx.EuDX\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">EuDX</span></code></a>(a,&nbsp;ind,&nbsp;seeds,&nbsp;odf_vertices[,&nbsp;a_low,&nbsp;\u2026])</td>\n<td>Euler Delta Crossings</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.eudx.eudx_both_directions\" title=\"dipy.tracking.eudx.eudx_both_directions\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">eudx_both_directions</span></code></a></td>\n<td><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"></td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.eudx.get_sphere\" title=\"dipy.tracking.eudx.get_sphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">get_sphere</span></code></a>([name])</td>\n<td>provide triangulated spheres</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.learning\">\n<span id=\"module-tracking-learning\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">tracking.learning</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.learning\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Learning algorithms for tractography</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.learning.detect_corresponding_tracks\" title=\"dipy.tracking.learning.detect_corresponding_tracks\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">detect_corresponding_tracks</span></code></a>(indices,&nbsp;\u2026)</td>\n<td>Detect corresponding tracks from list tracks1 to list tracks2 where tracks1 &amp; tracks2 are lists of tracks</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.learning.detect_corresponding_tracks_plus\" title=\"dipy.tracking.learning.detect_corresponding_tracks_plus\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">detect_corresponding_tracks_plus</span></code></a>(indices,&nbsp;\u2026)</td>\n<td>Detect corresponding tracks from 1 to 2 where tracks1 &amp; tracks2 are sequences of tracks</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.life\">\n<span id=\"module-tracking-life\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">tracking.life</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.life\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>This is an implementation of the Linear Fascicle Evaluation (LiFE) algorithm\ndescribed in:</p>\n<p>Pestilli, F., Yeatman, J, Rokem, A. Kay, K. and Wandell B.A. (2014). Validation\nand statistical inference in living connectomes. Nature Methods 11:\n1058-1063. doi:10.1038/nmeth.3098</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.FiberFit\" title=\"dipy.tracking.life.FiberFit\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">FiberFit</span></code></a>(fiber_model,&nbsp;life_matrix,&nbsp;\u2026)</td>\n<td>A fit of the LiFE model to diffusion data</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.FiberModel\" title=\"dipy.tracking.life.FiberModel\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">FiberModel</span></code></a>(gtab)</td>\n<td>A class for representing and solving predictive models based on tractography solutions.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.LifeSignalMaker\" title=\"dipy.tracking.life.LifeSignalMaker\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">LifeSignalMaker</span></code></a>(gtab[,&nbsp;evals,&nbsp;sphere])</td>\n<td>A class for generating signals from streamlines in an efficient and speedy manner.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.ReconstFit\" title=\"dipy.tracking.life.ReconstFit\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ReconstFit</span></code></a>(model,&nbsp;data)</td>\n<td>Abstract class which holds the fit result of ReconstModel</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.ReconstModel\" title=\"dipy.tracking.life.ReconstModel\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ReconstModel</span></code></a>(gtab)</td>\n<td>Abstract class for signal reconstruction models</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.range\" title=\"dipy.tracking.life.range\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">range</span></code></a>(stop)</td>\n<td>range(start, stop[, step]) -&gt; range object</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.grad_tensor\" title=\"dipy.tracking.life.grad_tensor\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">grad_tensor</span></code></a>(grad,&nbsp;evals)</td>\n<td>Calculate the 3 by 3 tensor for a given spatial gradient, given a canonical tensor shape (also as a 3 by 3), pointing at [1,0,0]</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.gradient\" title=\"dipy.tracking.life.gradient\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">gradient</span></code></a>(f)</td>\n<td>Return the gradient of an N-dimensional array.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.streamline_gradients\" title=\"dipy.tracking.life.streamline_gradients\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">streamline_gradients</span></code></a>(streamline)</td>\n<td>Calculate the gradients of the streamline along the spatial dimension</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.streamline_signal\" title=\"dipy.tracking.life.streamline_signal\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">streamline_signal</span></code></a>(streamline,&nbsp;gtab[,&nbsp;evals])</td>\n<td>The signal from a single streamline estimate along each of its nodes.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.streamline_tensors\" title=\"dipy.tracking.life.streamline_tensors\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">streamline_tensors</span></code></a>(streamline[,&nbsp;evals])</td>\n<td>The tensors generated by this fiber.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.transform_streamlines\" title=\"dipy.tracking.life.transform_streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">transform_streamlines</span></code></a>(streamlines,&nbsp;mat[,&nbsp;\u2026])</td>\n<td>Apply affine transformation to streamlines</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.unique_rows\" title=\"dipy.tracking.life.unique_rows\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">unique_rows</span></code></a>(in_array[,&nbsp;dtype])</td>\n<td>This (quickly) finds the unique rows in an array</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.voxel2streamline\" title=\"dipy.tracking.life.voxel2streamline\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">voxel2streamline</span></code></a>(streamline[,&nbsp;transformed,&nbsp;\u2026])</td>\n<td>Maps voxels to streamlines and streamlines to voxels, for setting up the LiFE equations matrix</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.local\">\n<span id=\"module-tracking-local\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">tracking.local</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.local\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.ActTissueClassifier\" title=\"dipy.tracking.local.ActTissueClassifier\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ActTissueClassifier</span></code></a></td>\n<td>Anatomically-Constrained Tractography (ACT) stopping criteria from <a class=\"reference internal\" href=\"#rbfabf9ccccc8-1\" id=\"id2\">[1]</a>.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.BinaryTissueClassifier\" title=\"dipy.tracking.local.BinaryTissueClassifier\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">BinaryTissueClassifier</span></code></a></td>\n<td>cdef:</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.CmcTissueClassifier\" title=\"dipy.tracking.local.CmcTissueClassifier\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">CmcTissueClassifier</span></code></a></td>\n<td>Continuous map criterion (CMC) stopping criteria from <a class=\"reference internal\" href=\"#rd8ba60cb5ae5-1\" id=\"id3\">[1]</a>.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.ConstrainedTissueClassifier\" title=\"dipy.tracking.local.ConstrainedTissueClassifier\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ConstrainedTissueClassifier</span></code></a></td>\n<td>Abstract class that takes as input included and excluded tissue maps.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.DirectionGetter\" title=\"dipy.tracking.local.DirectionGetter\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">DirectionGetter</span></code></a></td>\n<td><p class=\"rubric\">Methods</p>\n</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.LocalTracking\" title=\"dipy.tracking.local.LocalTracking\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">LocalTracking</span></code></a>(direction_getter,&nbsp;\u2026[,&nbsp;\u2026])</td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.ParticleFilteringTracking\" title=\"dipy.tracking.local.ParticleFilteringTracking\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ParticleFilteringTracking</span></code></a>(direction_getter,&nbsp;\u2026)</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.ThresholdTissueClassifier\" title=\"dipy.tracking.local.ThresholdTissueClassifier\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ThresholdTissueClassifier</span></code></a></td>\n<td># Declarations from tissue_classifier.pxd bellow cdef:     double threshold, interp_out_double[1]     double[:]  interp_out_view = interp_out_view     double[:, :, :] metric_map</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.TissueClassifier\" title=\"dipy.tracking.local.TissueClassifier\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">TissueClassifier</span></code></a></td>\n<td><p class=\"rubric\">Methods</p>\n</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.local.localtracking\">\n<span id=\"module-tracking-local-localtracking\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">tracking.local.localtracking</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.local.localtracking\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.Bunch\" title=\"dipy.tracking.local.localtracking.Bunch\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Bunch</span></code></a>(**kwds)</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.ConstrainedTissueClassifier\" title=\"dipy.tracking.local.localtracking.ConstrainedTissueClassifier\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ConstrainedTissueClassifier</span></code></a></td>\n<td>Abstract class that takes as input included and excluded tissue maps.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.LocalTracking\" title=\"dipy.tracking.local.localtracking.LocalTracking\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">LocalTracking</span></code></a>(direction_getter,&nbsp;\u2026[,&nbsp;\u2026])</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.ParticleFilteringTracking\" title=\"dipy.tracking.local.localtracking.ParticleFilteringTracking\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ParticleFilteringTracking</span></code></a>(direction_getter,&nbsp;\u2026)</td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.local_tracker\" title=\"dipy.tracking.local.localtracking.local_tracker\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">local_tracker</span></code></a></td>\n<td>Tracks one direction from a seed.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.pft_tracker\" title=\"dipy.tracking.local.localtracking.pft_tracker\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">pft_tracker</span></code></a></td>\n<td>Tracks one direction from a seed using the particle filtering algorithm.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.metrics\">\n<span id=\"module-tracking-metrics\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">tracking.metrics</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.metrics\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Metrics for tracks, where tracks are arrays of points</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.xrange\" title=\"dipy.tracking.metrics.xrange\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">xrange</span></code></a></td>\n<td>alias of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">builtins.range</span></code></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.arbitrarypoint\" title=\"dipy.tracking.metrics.arbitrarypoint\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">arbitrarypoint</span></code></a>(xyz,&nbsp;distance)</td>\n<td>Select an arbitrary point along distance on the track (curve)</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.bytes\" title=\"dipy.tracking.metrics.bytes\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">bytes</span></code></a>(xyz)</td>\n<td>Size of track in bytes.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.center_of_mass\" title=\"dipy.tracking.metrics.center_of_mass\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">center_of_mass</span></code></a>(xyz)</td>\n<td>Center of mass of streamline</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.downsample\" title=\"dipy.tracking.metrics.downsample\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">downsample</span></code></a>(xyz[,&nbsp;n_pols])</td>\n<td>downsample for a specific number of points along the curve/track</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.endpoint\" title=\"dipy.tracking.metrics.endpoint\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">endpoint</span></code></a>(xyz)</td>\n<td><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"></td>\n</tr>\n</tbody>\n</table>\n</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.frenet_serret\" title=\"dipy.tracking.metrics.frenet_serret\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">frenet_serret</span></code></a>(xyz)</td>\n<td>Frenet-Serret Space Curve Invariants</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.generate_combinations\" title=\"dipy.tracking.metrics.generate_combinations\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">generate_combinations</span></code></a>(items,&nbsp;n)</td>\n<td>Combine sets of size n from items</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.inside_sphere\" title=\"dipy.tracking.metrics.inside_sphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">inside_sphere</span></code></a>(xyz,&nbsp;center,&nbsp;radius)</td>\n<td>If any point of the track is inside a sphere of a specified center and radius return True otherwise False.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.inside_sphere_points\" title=\"dipy.tracking.metrics.inside_sphere_points\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">inside_sphere_points</span></code></a>(xyz,&nbsp;center,&nbsp;radius)</td>\n<td>If a track intersects with a sphere of a specified center and radius return the points that are inside the sphere otherwise False.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.intersect_sphere\" title=\"dipy.tracking.metrics.intersect_sphere\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">intersect_sphere</span></code></a>(xyz,&nbsp;center,&nbsp;radius)</td>\n<td>If any segment of the track is intersecting with a sphere of specific center and radius return True otherwise False</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.length\" title=\"dipy.tracking.metrics.length\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">length</span></code></a>(xyz[,&nbsp;along])</td>\n<td>Euclidean length of track line</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.longest_track_bundle\" title=\"dipy.tracking.metrics.longest_track_bundle\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">longest_track_bundle</span></code></a>(bundle[,&nbsp;sort])</td>\n<td>Return longest track or length sorted track indices in <cite>bundle</cite></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.magn\" title=\"dipy.tracking.metrics.magn\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">magn</span></code></a>(xyz[,&nbsp;n])</td>\n<td>magnitude of vector</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.mean_curvature\" title=\"dipy.tracking.metrics.mean_curvature\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">mean_curvature</span></code></a>(xyz)</td>\n<td>Calculates the mean curvature of a curve</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.mean_orientation\" title=\"dipy.tracking.metrics.mean_orientation\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">mean_orientation</span></code></a>(xyz)</td>\n<td>Calculates the mean orientation of a curve</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.midpoint\" title=\"dipy.tracking.metrics.midpoint\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">midpoint</span></code></a>(xyz)</td>\n<td>Midpoint of track</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.midpoint2point\" title=\"dipy.tracking.metrics.midpoint2point\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">midpoint2point</span></code></a>(xyz,&nbsp;p)</td>\n<td>Calculate distance from midpoint of a curve to arbitrary point p</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.principal_components\" title=\"dipy.tracking.metrics.principal_components\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">principal_components</span></code></a>(xyz)</td>\n<td>We use PCA to calculate the 3 principal directions for a track</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.splev\" title=\"dipy.tracking.metrics.splev\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">splev</span></code></a>(x,&nbsp;tck[,&nbsp;der,&nbsp;ext])</td>\n<td>Evaluate a B-spline or its derivatives.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.spline\" title=\"dipy.tracking.metrics.spline\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">spline</span></code></a>(xyz[,&nbsp;s,&nbsp;k,&nbsp;nest])</td>\n<td>Generate B-splines as documented in <a class=\"reference external\" href=\"http://www.scipy.org/Cookbook/Interpolation\">http://www.scipy.org/Cookbook/Interpolation</a></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.splprep\" title=\"dipy.tracking.metrics.splprep\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">splprep</span></code></a>(x[,&nbsp;w,&nbsp;u,&nbsp;ub,&nbsp;ue,&nbsp;k,&nbsp;task,&nbsp;s,&nbsp;t,&nbsp;\u2026])</td>\n<td>Find the B-spline representation of an N-dimensional curve.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.startpoint\" title=\"dipy.tracking.metrics.startpoint\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">startpoint</span></code></a>(xyz)</td>\n<td>First point of the track</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.metrics.winding\" title=\"dipy.tracking.metrics.winding\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">winding</span></code></a>(xyz)</td>\n<td>Total turning angle projected.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.streamline\">\n<span id=\"module-tracking-streamline\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">tracking.streamline</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.streamline\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.LooseVersion\" title=\"dipy.tracking.streamline.LooseVersion\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">LooseVersion</span></code></a>([vstring])</td>\n<td>Version numbering for anarchists and software realists.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.Streamlines\" title=\"dipy.tracking.streamline.Streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">Streamlines</span></code></a></td>\n<td>alias of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">nibabel.streamlines.array_sequence.ArraySequence</span></code></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.apply_affine\" title=\"dipy.tracking.streamline.apply_affine\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">apply_affine</span></code></a>(aff,&nbsp;pts)</td>\n<td>Apply affine matrix <cite>aff</cite> to points <cite>pts</cite></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.bundles_distances_mdf\" title=\"dipy.tracking.streamline.bundles_distances_mdf\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">bundles_distances_mdf</span></code></a></td>\n<td>Calculate distances between list of tracks A and list of tracks B</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.cdist\" title=\"dipy.tracking.streamline.cdist\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">cdist</span></code></a>(XA,&nbsp;XB[,&nbsp;metric])</td>\n<td>Compute distance between each pair of the two collections of inputs.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.center_streamlines\" title=\"dipy.tracking.streamline.center_streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">center_streamlines</span></code></a>(streamlines)</td>\n<td>Move streamlines to the origin</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.cluster_confidence\" title=\"dipy.tracking.streamline.cluster_confidence\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">cluster_confidence</span></code></a>(streamlines[,&nbsp;max_mdf,&nbsp;\u2026])</td>\n<td>Computes the cluster confidence index (cci), which is an estimation of the support a set of streamlines gives to a particular pathway.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.compress_streamlines\" title=\"dipy.tracking.streamline.compress_streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">compress_streamlines</span></code></a></td>\n<td>Compress streamlines by linearization as in <a class=\"reference internal\" href=\"#ra77703c9b98b-presseau15\" id=\"id4\">[Presseau15]</a>.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.deepcopy\" title=\"dipy.tracking.streamline.deepcopy\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">deepcopy</span></code></a>(x[,&nbsp;memo,&nbsp;_nil])</td>\n<td>Deep copy operation on arbitrary Python objects.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.deform_streamlines\" title=\"dipy.tracking.streamline.deform_streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">deform_streamlines</span></code></a>(streamlines,&nbsp;\u2026)</td>\n<td>Apply deformation field to streamlines</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.dist_to_corner\" title=\"dipy.tracking.streamline.dist_to_corner\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dist_to_corner</span></code></a>(affine)</td>\n<td>Calculate the maximal distance from the center to a corner of a voxel, given an affine</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.length\" title=\"dipy.tracking.streamline.length\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">length</span></code></a></td>\n<td>Euclidean length of streamlines</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.nbytes\" title=\"dipy.tracking.streamline.nbytes\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">nbytes</span></code></a>(streamlines)</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.orient_by_rois\" title=\"dipy.tracking.streamline.orient_by_rois\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">orient_by_rois</span></code></a>(streamlines,&nbsp;roi1,&nbsp;roi2[,&nbsp;\u2026])</td>\n<td>Orient a set of streamlines according to a pair of ROIs</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.orient_by_streamline\" title=\"dipy.tracking.streamline.orient_by_streamline\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">orient_by_streamline</span></code></a>(streamlines,&nbsp;standard)</td>\n<td>Orient a bundle of streamlines to a standard streamline.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.relist_streamlines\" title=\"dipy.tracking.streamline.relist_streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">relist_streamlines</span></code></a>(points,&nbsp;offsets)</td>\n<td>Given a representation of a set of streamlines as a large array and an offsets array return the streamlines as a list of shorter arrays.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.select_by_rois\" title=\"dipy.tracking.streamline.select_by_rois\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">select_by_rois</span></code></a>(streamlines,&nbsp;rois,&nbsp;include[,&nbsp;\u2026])</td>\n<td>Select streamlines based on logical relations with several regions of interest (ROIs).</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.select_random_set_of_streamlines\" title=\"dipy.tracking.streamline.select_random_set_of_streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">select_random_set_of_streamlines</span></code></a>(\u2026[,&nbsp;rng])</td>\n<td>Select a random set of streamlines</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.set_number_of_points\" title=\"dipy.tracking.streamline.set_number_of_points\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">set_number_of_points</span></code></a></td>\n<td>Change the number of points of streamlines</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.streamline_near_roi\" title=\"dipy.tracking.streamline.streamline_near_roi\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">streamline_near_roi</span></code></a>(streamline,&nbsp;roi_coords,&nbsp;tol)</td>\n<td>Is a streamline near an ROI.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.transform_streamlines\" title=\"dipy.tracking.streamline.transform_streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">transform_streamlines</span></code></a>(streamlines,&nbsp;mat[,&nbsp;\u2026])</td>\n<td>Apply affine transformation to streamlines</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.unlist_streamlines\" title=\"dipy.tracking.streamline.unlist_streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">unlist_streamlines</span></code></a>(streamlines)</td>\n<td>Return the streamlines not as a list but as an array and an offset</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.values_from_volume\" title=\"dipy.tracking.streamline.values_from_volume\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">values_from_volume</span></code></a>(data,&nbsp;streamlines[,&nbsp;affine])</td>\n<td>Extract values of a scalar/vector along each streamline from a volume.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.streamline.warn\" title=\"dipy.tracking.streamline.warn\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">warn</span></code></a></td>\n<td>Issue a warning, or maybe ignore it or raise an exception.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"module-dipy.tracking.utils\">\n<span id=\"id5\"></span><h2>Module: <code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">tracking.utils</span></code><a class=\"headerlink\" href=\"#module-dipy.tracking.utils\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Various tools related to creating and working with streamlines</p>\n<p>This module provides tools for targeting streamlines using ROIs, for making\nconnectivity matrices from whole brain fiber tracking and some other tools that\nallow streamlines to interact with image data.</p>\n<div class=\"section\" id=\"important-note\">\n<h3>Important Note:<a class=\"headerlink\" href=\"#important-note\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Dipy uses affine matrices to represent the relationship between streamline\npoints, which are defined as points in a continuous 3d space, and image voxels,\nwhich are typically arranged in a discrete 3d grid. Dipy uses a convention\nsimilar to nifti files to interpret these affine matrices. This convention is\nthat the point at the center of voxel <code class=\"docutils literal notranslate\"><span class=\"pre\">[i,</span> <span class=\"pre\">j,</span> <span class=\"pre\">k]</span></code> is represented by the point\n<code class=\"docutils literal notranslate\"><span class=\"pre\">[x,</span> <span class=\"pre\">y,</span> <span class=\"pre\">z]</span></code> where <code class=\"docutils literal notranslate\"><span class=\"pre\">[x,</span> <span class=\"pre\">y,</span> <span class=\"pre\">z,</span> <span class=\"pre\">1]</span> <span class=\"pre\">=</span> <span class=\"pre\">affine</span> <span class=\"pre\">*</span> <span class=\"pre\">[i,</span> <span class=\"pre\">j,</span> <span class=\"pre\">k,</span> <span class=\"pre\">1]</span></code>.  Also when the\nphrase \u201cvoxel coordinates\u201d is used, it is understood to be the same as <code class=\"docutils literal notranslate\"><span class=\"pre\">affine</span>\n<span class=\"pre\">=</span> <span class=\"pre\">eye(4)</span></code>.</p>\n<p>As an example, lets take a 2d image where the affine is:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">[[</span><span class=\"mf\">1.</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">],</span>\n <span class=\"p\">[</span><span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">2.</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">],</span>\n <span class=\"p\">[</span><span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">1.</span><span class=\"p\">]]</span>\n</pre></div>\n</div>\n<p>The pixels of an image with this affine would look something like:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">A</span><span class=\"o\">------------</span>\n<span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>\n<span class=\"o\">|</span> <span class=\"n\">C</span> <span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>\n<span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>\n<span class=\"o\">----</span><span class=\"n\">B</span><span class=\"o\">--------</span>\n<span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>\n<span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>\n<span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>\n<span class=\"o\">-------------</span>\n<span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>\n<span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>\n<span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>   <span class=\"o\">|</span>\n<span class=\"o\">------------</span><span class=\"n\">D</span>\n</pre></div>\n</div>\n<p>And the letters A-D represent the following points in\n\u201creal world coordinates\u201d:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">A</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"o\">-.</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">1.</span><span class=\"p\">]</span>\n<span class=\"n\">B</span> <span class=\"o\">=</span> <span class=\"p\">[</span> <span class=\"o\">.</span><span class=\"mi\">5</span><span class=\"p\">,</span>  <span class=\"mf\">1.</span><span class=\"p\">]</span>\n<span class=\"n\">C</span> <span class=\"o\">=</span> <span class=\"p\">[</span> <span class=\"mf\">0.</span><span class=\"p\">,</span>  <span class=\"mf\">0.</span><span class=\"p\">]</span>\n<span class=\"n\">D</span> <span class=\"o\">=</span> <span class=\"p\">[</span> <span class=\"mf\">2.5</span><span class=\"p\">,</span>  <span class=\"mf\">5.</span><span class=\"p\">]</span>\n</pre></div>\n</div>\n</div>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.defaultdict\" title=\"dipy.tracking.utils.defaultdict\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">defaultdict</span></code></a></td>\n<td>defaultdict(default_factory[, \u2026]) \u2013&gt; dict with default factory</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.map\" title=\"dipy.tracking.utils.map\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">map</span></code></a></td>\n<td>map(func, <a href=\"#id6\"><span class=\"problematic\" id=\"id7\">*</span></a>iterables) \u2013&gt; map object</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.xrange\" title=\"dipy.tracking.utils.xrange\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">xrange</span></code></a></td>\n<td>alias of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">builtins.range</span></code></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.affine_for_trackvis\" title=\"dipy.tracking.utils.affine_for_trackvis\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">affine_for_trackvis</span></code></a>(voxel_size[,&nbsp;\u2026])</td>\n<td>Returns an affine which maps points for voxel indices to trackvis space.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.affine_from_fsl_mat_file\" title=\"dipy.tracking.utils.affine_from_fsl_mat_file\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">affine_from_fsl_mat_file</span></code></a>(mat_affine,&nbsp;\u2026)</td>\n<td>Converts an affine matrix from flirt (FSLdot) and a given voxel size for input and output images and returns an adjusted affine matrix for trackvis.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.apply_affine\" title=\"dipy.tracking.utils.apply_affine\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">apply_affine</span></code></a>(aff,&nbsp;pts)</td>\n<td>Apply affine matrix <cite>aff</cite> to points <cite>pts</cite></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.asarray\" title=\"dipy.tracking.utils.asarray\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">asarray</span></code></a>(a[,&nbsp;dtype,&nbsp;order])</td>\n<td>Convert the input to an array.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.cdist\" title=\"dipy.tracking.utils.cdist\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">cdist</span></code></a>(XA,&nbsp;XB[,&nbsp;metric])</td>\n<td>Compute distance between each pair of the two collections of inputs.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.connectivity_matrix\" title=\"dipy.tracking.utils.connectivity_matrix\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">connectivity_matrix</span></code></a>(streamlines,&nbsp;label_volume)</td>\n<td>Counts the streamlines that start and end at each label pair.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.density_map\" title=\"dipy.tracking.utils.density_map\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">density_map</span></code></a>(streamlines,&nbsp;vol_dims[,&nbsp;\u2026])</td>\n<td>Counts the number of unique streamlines that pass through each voxel.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.dist_to_corner\" title=\"dipy.tracking.utils.dist_to_corner\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dist_to_corner</span></code></a>(affine)</td>\n<td>Calculate the maximal distance from the center to a corner of a voxel, given an affine</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.dot\" title=\"dipy.tracking.utils.dot\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dot</span></code></a>(a,&nbsp;b[,&nbsp;out])</td>\n<td>Dot product of two arrays.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.empty\" title=\"dipy.tracking.utils.empty\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">empty</span></code></a>(shape[,&nbsp;dtype,&nbsp;order])</td>\n<td>Return a new array of given shape and type, without initializing entries.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.eye\" title=\"dipy.tracking.utils.eye\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">eye</span></code></a>(N[,&nbsp;M,&nbsp;k,&nbsp;dtype,&nbsp;order])</td>\n<td>Return a 2-D array with ones on the diagonal and zeros elsewhere.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.flexi_tvis_affine\" title=\"dipy.tracking.utils.flexi_tvis_affine\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">flexi_tvis_affine</span></code></a>(sl_vox_order,&nbsp;grid_affine,&nbsp;\u2026)</td>\n<td>Computes the mapping from voxel indices to streamline points,</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.get_flexi_tvis_affine\" title=\"dipy.tracking.utils.get_flexi_tvis_affine\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">get_flexi_tvis_affine</span></code></a>(tvis_hdr,&nbsp;nii_aff)</td>\n<td>Computes the mapping from voxel indices to streamline points,</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.length\" title=\"dipy.tracking.utils.length\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">length</span></code></a>(streamlines[,&nbsp;affine])</td>\n<td>Calculate the lengths of many streamlines in a bundle.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.minimum_at\" title=\"dipy.tracking.utils.minimum_at\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">minimum_at</span></code></a>(a,&nbsp;indices[,&nbsp;b])</td>\n<td>Performs unbuffered in place operation on operand \u2018a\u2019 for elements specified by \u2018indices\u2019.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.move_streamlines\" title=\"dipy.tracking.utils.move_streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">move_streamlines</span></code></a>(streamlines,&nbsp;output_space)</td>\n<td>Applies a linear transformation, given by affine, to streamlines.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.ndbincount\" title=\"dipy.tracking.utils.ndbincount\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ndbincount</span></code></a>(x[,&nbsp;weights,&nbsp;shape])</td>\n<td>Like bincount, but for nd-indicies.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.near_roi\" title=\"dipy.tracking.utils.near_roi\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">near_roi</span></code></a>(streamlines,&nbsp;region_of_interest[,&nbsp;\u2026])</td>\n<td>Provide filtering criteria for a set of streamlines based on whether they fall within a tolerance distance from an ROI</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.orientation_from_string\" title=\"dipy.tracking.utils.orientation_from_string\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">orientation_from_string</span></code></a>(string_ornt)</td>\n<td>Returns an array representation of an ornt string</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.ornt_mapping\" title=\"dipy.tracking.utils.ornt_mapping\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ornt_mapping</span></code></a>(ornt1,&nbsp;ornt2)</td>\n<td>Calculates the mapping needing to get from orn1 to orn2</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.path_length\" title=\"dipy.tracking.utils.path_length\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">path_length</span></code></a>(streamlines,&nbsp;aoi,&nbsp;affine[,&nbsp;\u2026])</td>\n<td>Computes the shortest path, along any streamline, between aoi and each voxel.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.random_seeds_from_mask\" title=\"dipy.tracking.utils.random_seeds_from_mask\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">random_seeds_from_mask</span></code></a>(mask[,&nbsp;seeds_count,&nbsp;\u2026])</td>\n<td>Creates randomly placed seeds for fiber tracking from a binary mask.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.ravel_multi_index\" title=\"dipy.tracking.utils.ravel_multi_index\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ravel_multi_index</span></code></a>(multi_index,&nbsp;dims[,&nbsp;mode,&nbsp;\u2026])</td>\n<td>Converts a tuple of index arrays into an array of flat indices, applying boundary modes to the multi-index.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.reduce_labels\" title=\"dipy.tracking.utils.reduce_labels\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">reduce_labels</span></code></a>(label_volume)</td>\n<td>Reduces an array of labels to the integers from 0 to n with smallest possible n.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.reduce_rois\" title=\"dipy.tracking.utils.reduce_rois\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">reduce_rois</span></code></a>(rois,&nbsp;include)</td>\n<td>Reduce multiple ROIs to one inclusion and one exclusion ROI</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.reorder_voxels_affine\" title=\"dipy.tracking.utils.reorder_voxels_affine\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">reorder_voxels_affine</span></code></a>(input_ornt,&nbsp;\u2026)</td>\n<td>Calculates a linear transformation equivalent to changing voxel order.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.seeds_from_mask\" title=\"dipy.tracking.utils.seeds_from_mask\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">seeds_from_mask</span></code></a>(mask[,&nbsp;density,&nbsp;voxel_size,&nbsp;\u2026])</td>\n<td>Creates seeds for fiber tracking from a binary mask.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.streamline_near_roi\" title=\"dipy.tracking.utils.streamline_near_roi\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">streamline_near_roi</span></code></a>(streamline,&nbsp;roi_coords,&nbsp;tol)</td>\n<td>Is a streamline near an ROI.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.subsegment\" title=\"dipy.tracking.utils.subsegment\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">subsegment</span></code></a>(streamlines,&nbsp;max_segment_length)</td>\n<td>Splits the segments of the streamlines into small segments.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.target\" title=\"dipy.tracking.utils.target\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">target</span></code></a>(streamlines,&nbsp;target_mask,&nbsp;affine[,&nbsp;\u2026])</td>\n<td>Filters streamlines based on whether or not they pass through an ROI.</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.target_line_based\" title=\"dipy.tracking.utils.target_line_based\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">target_line_based</span></code></a>(streamlines,&nbsp;target_mask)</td>\n<td>Filters streamlines based on whether or not they pass through a ROI, using a line-based algorithm.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.unique_rows\" title=\"dipy.tracking.utils.unique_rows\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">unique_rows</span></code></a>(in_array[,&nbsp;dtype])</td>\n<td>This (quickly) finds the unique rows in an array</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.warn\" title=\"dipy.tracking.utils.warn\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">warn</span></code></a></td>\n<td>Issue a warning, or maybe ignore it or raise an exception.</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.wraps\" title=\"dipy.tracking.utils.wraps\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">wraps</span></code></a>(wrapped[,&nbsp;assigned,&nbsp;updated])</td>\n<td>Decorator factory to apply update_wrapper() to a wrapper function</td>\n</tr>\n</tbody>\n</table>\n<div class=\"section\" id=\"streamlines\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Streamlines</span></code></a><a class=\"headerlink\" href=\"#streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"attribute\">\n<dt id=\"dipy.tracking.Streamlines\">\n<code class=\"descclassname\">dipy.tracking.</code><code class=\"descname\">Streamlines</code><a class=\"headerlink\" href=\"#dipy.tracking.Streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>alias of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">nibabel.streamlines.array_sequence.ArraySequence</span></code></p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"bench\">\n<h3>bench<a class=\"headerlink\" href=\"#bench\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.bench\">\n<code class=\"descclassname\">dipy.tracking.</code><code class=\"descname\">bench</code><span class=\"sig-paren\">(</span><em>label='fast'</em>, <em>verbose=1</em>, <em>extra_argv=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.bench\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Run benchmarks for module using nose.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>label</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{\u2018fast\u2019, \u2018full\u2019, \u2018\u2019, attribute identifier}, optional</span></dt>\n<dd><p class=\"first\">Identifies the benchmarks to run. This can be a string to pass to\nthe nosetests executable with the \u2018-A\u2019 option, or one of several\nspecial values.  Special values are:\n* \u2018fast\u2019 - the default - which corresponds to the <code class=\"docutils literal notranslate\"><span class=\"pre\">nosetests</span> <span class=\"pre\">-A</span></code></p>\n<blockquote>\n<div><p>option of \u2018not slow\u2019.</p>\n</div></blockquote>\n<ul class=\"simple\">\n<li>\u2018full\u2019 - fast (as above) and slow benchmarks as in the\n\u2018no -A\u2019 option to nosetests - this is the same as \u2018\u2019.</li>\n<li>None or \u2018\u2019 - run all tests.</li>\n</ul>\n<p class=\"last\">attribute_identifier - string passed directly to nosetests as \u2018-A\u2019.</p>\n</dd>\n<dt><strong>verbose</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">Verbosity value for benchmark outputs, in the range 1-10. Default is 1.</p>\n</dd>\n<dt><strong>extra_argv</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list, optional</span></dt>\n<dd><p class=\"first last\">List with any extra arguments to pass to nosetests.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>success</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">Returns True if running the benchmarks works, False if an error\noccurred.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>Benchmarks are like tests, but have names starting with \u201cbench\u201d instead\nof \u201ctest\u201d, and can be found under the \u201cbenchmarks\u201d sub-directory of the\nmodule.</p>\n<p>Each NumPy module exposes <cite>bench</cite> in its namespace to run all benchmarks\nfor it.</p>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">success</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">bench</span><span class=\"p\">()</span> \n<span class=\"go\">Running benchmarks for numpy.lib</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">using 562341 items:</span>\n<span class=\"go\">unique:</span>\n<span class=\"go\">0.11</span>\n<span class=\"go\">unique1d:</span>\n<span class=\"go\">0.11</span>\n<span class=\"go\">ratio: 1.0</span>\n<span class=\"go\">nUnique: 56230 == 56230</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">OK</span>\n</pre></div>\n</div>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">success</span> \n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"test\">\n<h3>test<a class=\"headerlink\" href=\"#test\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.test\">\n<code class=\"descclassname\">dipy.tracking.</code><code class=\"descname\">test</code><span class=\"sig-paren\">(</span><em>label='fast'</em>, <em>verbose=1</em>, <em>extra_argv=None</em>, <em>doctests=False</em>, <em>coverage=False</em>, <em>raise_warnings=None</em>, <em>timer=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.test\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Run tests for module using nose.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>label</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{\u2018fast\u2019, \u2018full\u2019, \u2018\u2019, attribute identifier}, optional</span></dt>\n<dd><p class=\"first\">Identifies the tests to run. This can be a string to pass to\nthe nosetests executable with the \u2018-A\u2019 option, or one of several\nspecial values.  Special values are:\n* \u2018fast\u2019 - the default - which corresponds to the <code class=\"docutils literal notranslate\"><span class=\"pre\">nosetests</span> <span class=\"pre\">-A</span></code></p>\n<blockquote>\n<div><p>option of \u2018not slow\u2019.</p>\n</div></blockquote>\n<ul class=\"simple\">\n<li>\u2018full\u2019 - fast (as above) and slow tests as in the\n\u2018no -A\u2019 option to nosetests - this is the same as \u2018\u2019.</li>\n<li>None or \u2018\u2019 - run all tests.</li>\n</ul>\n<p class=\"last\">attribute_identifier - string passed directly to nosetests as \u2018-A\u2019.</p>\n</dd>\n<dt><strong>verbose</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">Verbosity value for test outputs, in the range 1-10. Default is 1.</p>\n</dd>\n<dt><strong>extra_argv</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list, optional</span></dt>\n<dd><p class=\"first last\">List with any extra arguments to pass to nosetests.</p>\n</dd>\n<dt><strong>doctests</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><p class=\"first last\">If True, run doctests in module. Default is False.</p>\n</dd>\n<dt><strong>coverage</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><p class=\"first\">If True, report coverage of NumPy code. Default is False.\n(This requires the <a href=\"#id8\"><span class=\"problematic\" id=\"id9\">`</span></a>coverage module:</p>\n<blockquote class=\"last\">\n<div><p>&lt;<a class=\"reference external\" href=\"http://nedbatchelder.com/code/modules/coverage.html\">http://nedbatchelder.com/code/modules/coverage.html</a>&gt;`_).</p>\n</div></blockquote>\n</dd>\n<dt><strong>raise_warnings</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">None, str or sequence of warnings, optional</span></dt>\n<dd><p class=\"first\">This specifies which warnings to configure as \u2018raise\u2019 instead\nof being shown once during the test execution.  Valid strings are:</p>\n<blockquote>\n<div><ul class=\"simple\">\n<li>\u201cdevelop\u201d : equals <code class=\"docutils literal notranslate\"><span class=\"pre\">(Warning,)</span></code></li>\n<li>\u201crelease\u201d : equals <code class=\"docutils literal notranslate\"><span class=\"pre\">()</span></code>, don\u2019t raise on any warnings.</li>\n</ul>\n</div></blockquote>\n<p class=\"last\">The default is to use the class initialization value.</p>\n</dd>\n<dt><strong>timer</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool or int, optional</span></dt>\n<dd><p class=\"first last\">Timing of individual tests with <code class=\"docutils literal notranslate\"><span class=\"pre\">nose-timer</span></code> (which needs to be\ninstalled).  If True, time tests and report on all of them.\nIf an integer (say <code class=\"docutils literal notranslate\"><span class=\"pre\">N</span></code>), report timing results for <code class=\"docutils literal notranslate\"><span class=\"pre\">N</span></code> slowest\ntests.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>result</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">object</span></dt>\n<dd><p class=\"first last\">Returns the result of running the tests as a\n<code class=\"docutils literal notranslate\"><span class=\"pre\">nose.result.TextTestResult</span></code> object.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>Each NumPy module exposes <cite>test</cite> in its namespace to run all tests for it.\nFor example, to run all tests for numpy.lib:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">test</span><span class=\"p\">()</span> \n</pre></div>\n</div>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">lib</span><span class=\"o\">.</span><span class=\"n\">test</span><span class=\"p\">()</span> \n<span class=\"go\">Running unit tests for numpy.lib</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">Ran 976 tests in 3.933s</span>\n</pre></div>\n</div>\n<p>OK</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">result</span><span class=\"o\">.</span><span class=\"n\">errors</span> \n<span class=\"go\">[]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">result</span><span class=\"o\">.</span><span class=\"n\">knownfail</span> \n<span class=\"go\">[]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"warn\">\n<h3>warn<a class=\"headerlink\" href=\"#warn\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking._utils.warn\">\n<code class=\"descclassname\">dipy.tracking._utils.</code><code class=\"descname\">warn</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking._utils.warn\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Issue a warning, or maybe ignore it or raise an exception.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id10\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.benchmarks.bench_streamline.Streamlines\" title=\"dipy.tracking.benchmarks.bench_streamline.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Streamlines</span></code></a><a class=\"headerlink\" href=\"#id10\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"attribute\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.Streamlines\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">Streamlines</code><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.Streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>alias of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">nibabel.streamlines.array_sequence.ArraySequence</span></code></p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"assert-array-almost-equal\">\n<h3>assert_array_almost_equal<a class=\"headerlink\" href=\"#assert-array-almost-equal\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.assert_array_almost_equal\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">assert_array_almost_equal</code><span class=\"sig-paren\">(</span><em>x</em>, <em>y</em>, <em>decimal=6</em>, <em>err_msg=''</em>, <em>verbose=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.assert_array_almost_equal\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Raises an AssertionError if two objects are not equal up to desired\nprecision.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">It is recommended to use one of <cite>assert_allclose</cite>,\n<cite>assert_array_almost_equal_nulp</cite> or <cite>assert_array_max_ulp</cite>\ninstead of this function for more consistent floating point\ncomparisons.</p>\n</div>\n<p>The test verifies identical shapes and that the elements of <code class=\"docutils literal notranslate\"><span class=\"pre\">actual</span></code> and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">desired</span></code> satisfy.</p>\n<blockquote>\n<div><code class=\"docutils literal notranslate\"><span class=\"pre\">abs(desired-actual)</span> <span class=\"pre\">&lt;</span> <span class=\"pre\">1.5</span> <span class=\"pre\">*</span> <span class=\"pre\">10**(-decimal)</span></code></div></blockquote>\n<p>That is a looser test than originally documented, but agrees with what the\nactual implementation did up to rounding vagaries. An exception is raised\nat shape mismatch or conflicting values. In contrast to the standard usage\nin numpy, NaNs are compared like numbers, no assertion is raised if both\nobjects have NaNs in the same positions.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>x</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">The actual object to check.</p>\n</dd>\n<dt><strong>y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">The desired, expected object.</p>\n</dd>\n<dt><strong>decimal</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">Desired precision, default is 6.</p>\n</dd>\n<dt><strong>err_msg</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str, optional</span></dt>\n<dd><p class=\"first last\">The error message to be printed in case of failure.</p>\n</dd>\n<dt><strong>verbose</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><p class=\"first last\">If True, the conflicting values are appended to the error message.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Raises:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>AssertionError</strong></dt>\n<dd><p class=\"first last\">If actual and desired are not equal up to specified precision.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<dl class=\"docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_allclose</span></code></dt>\n<dd>Compare two array_like objects for equality with desired relative and/or absolute precision.</dd>\n</dl>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_array_almost_equal_nulp</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_array_max_ulp</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_equal</span></code></p>\n</div>\n<p class=\"rubric\">Examples</p>\n<p>the first assert does not raise an exception</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">testing</span><span class=\"o\">.</span><span class=\"n\">assert_array_almost_equal</span><span class=\"p\">([</span><span class=\"mf\">1.0</span><span class=\"p\">,</span><span class=\"mf\">2.333</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">nan</span><span class=\"p\">],</span>\n<span class=\"go\">                                         [1.0,2.333,np.nan])</span>\n</pre></div>\n</div>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">testing</span><span class=\"o\">.</span><span class=\"n\">assert_array_almost_equal</span><span class=\"p\">([</span><span class=\"mf\">1.0</span><span class=\"p\">,</span><span class=\"mf\">2.33333</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">nan</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                                     <span class=\"p\">[</span><span class=\"mf\">1.0</span><span class=\"p\">,</span><span class=\"mf\">2.33339</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">nan</span><span class=\"p\">],</span> <span class=\"n\">decimal</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">&lt;type &#39;exceptions.AssertionError&#39;&gt;:</span>\n<span class=\"go\">AssertionError:</span>\n<span class=\"go\">Arrays are not almost equal</span>\n\n<span class=\"go\">(mismatch 50.0%)</span>\n<span class=\"go\"> x: array([ 1.     ,  2.33333,      NaN])</span>\n<span class=\"go\"> y: array([ 1.     ,  2.33339,      NaN])</span>\n</pre></div>\n</div>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">testing</span><span class=\"o\">.</span><span class=\"n\">assert_array_almost_equal</span><span class=\"p\">([</span><span class=\"mf\">1.0</span><span class=\"p\">,</span><span class=\"mf\">2.33333</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">nan</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                                     <span class=\"p\">[</span><span class=\"mf\">1.0</span><span class=\"p\">,</span><span class=\"mf\">2.33333</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">],</span> <span class=\"n\">decimal</span><span class=\"o\">=</span><span class=\"mi\">5</span><span class=\"p\">)</span>\n<span class=\"go\">&lt;type &#39;exceptions.ValueError&#39;&gt;:</span>\n<span class=\"go\">ValueError:</span>\n<span class=\"go\">Arrays are not almost equal</span>\n<span class=\"go\"> x: array([ 1.     ,  2.33333,      NaN])</span>\n<span class=\"go\"> y: array([ 1.     ,  2.33333,  5.     ])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"assert-array-equal\">\n<h3>assert_array_equal<a class=\"headerlink\" href=\"#assert-array-equal\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.assert_array_equal\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">assert_array_equal</code><span class=\"sig-paren\">(</span><em>x</em>, <em>y</em>, <em>err_msg=''</em>, <em>verbose=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.assert_array_equal\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Raises an AssertionError if two array_like objects are not equal.</p>\n<p>Given two array_like objects, check that the shape is equal and all\nelements of these objects are equal. An exception is raised at\nshape mismatch or conflicting values. In contrast to the standard usage\nin numpy, NaNs are compared like numbers, no assertion is raised if\nboth objects have NaNs in the same positions.</p>\n<p>The usual caution for verifying equality with floating point numbers is\nadvised.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>x</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">The actual object to check.</p>\n</dd>\n<dt><strong>y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">The desired, expected object.</p>\n</dd>\n<dt><strong>err_msg</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str, optional</span></dt>\n<dd><p class=\"first last\">The error message to be printed in case of failure.</p>\n</dd>\n<dt><strong>verbose</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><p class=\"first last\">If True, the conflicting values are appended to the error message.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Raises:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>AssertionError</strong></dt>\n<dd><p class=\"first last\">If actual and desired objects are not equal.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<dl class=\"docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_allclose</span></code></dt>\n<dd>Compare two array_like objects for equality with desired relative and/or absolute precision.</dd>\n</dl>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_array_almost_equal_nulp</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_array_max_ulp</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">assert_equal</span></code></p>\n</div>\n<p class=\"rubric\">Examples</p>\n<p>The first assert does not raise an exception:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">testing</span><span class=\"o\">.</span><span class=\"n\">assert_array_equal</span><span class=\"p\">([</span><span class=\"mf\">1.0</span><span class=\"p\">,</span><span class=\"mf\">2.33333</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">nan</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                              <span class=\"p\">[</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">exp</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">),</span><span class=\"mf\">2.33333</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">nan</span><span class=\"p\">])</span>\n</pre></div>\n</div>\n<p>Assert fails with numerical inprecision with floats:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">testing</span><span class=\"o\">.</span><span class=\"n\">assert_array_equal</span><span class=\"p\">([</span><span class=\"mf\">1.0</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">nan</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                              <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">)</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">nan</span><span class=\"p\">])</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">&lt;type &#39;exceptions.ValueError&#39;&gt;:</span>\n<span class=\"go\">AssertionError:</span>\n<span class=\"go\">Arrays are not equal</span>\n\n<span class=\"go\">(mismatch 50.0%)</span>\n<span class=\"go\"> x: array([ 1.        ,  3.14159265,         NaN])</span>\n<span class=\"go\"> y: array([ 1.        ,  3.14159265,         NaN])</span>\n</pre></div>\n</div>\n<p>Use <cite>assert_allclose</cite> or one of the nulp (number of floating point values)\nfunctions for these cases instead:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">testing</span><span class=\"o\">.</span><span class=\"n\">assert_allclose</span><span class=\"p\">([</span><span class=\"mf\">1.0</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">nan</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">)</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">nan</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">rtol</span><span class=\"o\">=</span><span class=\"mf\">1e-10</span><span class=\"p\">,</span> <span class=\"n\">atol</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"bench-compress-streamlines\">\n<h3>bench_compress_streamlines<a class=\"headerlink\" href=\"#bench-compress-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.bench_compress_streamlines\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">bench_compress_streamlines</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.bench_compress_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"bench-length\">\n<h3>bench_length<a class=\"headerlink\" href=\"#bench-length\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.bench_length\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">bench_length</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.bench_length\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"bench-set-number-of-points\">\n<h3>bench_set_number_of_points<a class=\"headerlink\" href=\"#bench-set-number-of-points\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.bench_set_number_of_points\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">bench_set_number_of_points</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.bench_set_number_of_points\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"compress-streamlines\">\n<h3>compress_streamlines<a class=\"headerlink\" href=\"#compress-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.compress_streamlines\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">compress_streamlines</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.compress_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Compress streamlines by linearization as in <a class=\"reference internal\" href=\"#r0354129d978f-presseau15\" id=\"id11\">[Presseau15]</a>.</p>\n<p>The compression consists in merging consecutive segments that are\nnearly collinear. The merging is achieved by removing the point the two\nsegments have in common.</p>\n<p>The linearization process <a class=\"reference internal\" href=\"#r0354129d978f-presseau15\" id=\"id12\">[Presseau15]</a> ensures that every point being\nremoved are within a certain margin (in mm) of the resulting streamline.\nRecommendations for setting this margin can be found in <a class=\"reference internal\" href=\"#r0354129d978f-presseau15\" id=\"id13\">[Presseau15]</a>\n(in which they called it tolerance error).</p>\n<p>The compression also ensures that two consecutive points won\u2019t be too far\nfrom each other (precisely less or equal than <a href=\"#id14\"><span class=\"problematic\" id=\"id15\">`</span></a>max_segment_length`mm).\nThis is a tradeoff to speed up the linearization process <a class=\"reference internal\" href=\"#r0354129d978f-rheault15\" id=\"id16\">[Rheault15]</a>. A low\nvalue will result in a faster linearization but low compression, whereas\na high value will result in a slower linearization but high compression.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">one or a list of array-like of shape (N,3)</span></dt>\n<dd><p class=\"first last\">Array representing x,y,z of N points in a streamline.</p>\n</dd>\n<dt><strong>tol_error</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float (optional)</span></dt>\n<dd><p class=\"first last\">Tolerance error in mm (default: 0.01). A rule of thumb is to set it\nto 0.01mm for deterministic streamlines and 0.1mm for probabilitic\nstreamlines.</p>\n</dd>\n<dt><strong>max_segment_length</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float (optional)</span></dt>\n<dd><p class=\"first last\">Maximum length in mm of any given segment produced by the compression.\nThe default is 10mm. (In <a class=\"reference internal\" href=\"#r0354129d978f-presseau15\" id=\"id17\">[Presseau15]</a>, they used a value of <cite>np.inf</cite>).</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>compressed_streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">one or a list of array-like</span></dt>\n<dd><p class=\"first last\">Results of the linearization process.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>Be aware that compressed streamlines have variable step sizes. One needs to\nbe careful when computing streamlines-based metrics <a class=\"reference internal\" href=\"#r0354129d978f-houde15\" id=\"id18\">[Houde15]</a>.</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r0354129d978f-presseau15\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Presseau15]</td><td><em>(<a class=\"fn-backref\" href=\"#id1\">1</a>, <a class=\"fn-backref\" href=\"#id11\">2</a>, <a class=\"fn-backref\" href=\"#id12\">3</a>, <a class=\"fn-backref\" href=\"#id13\">4</a>, <a class=\"fn-backref\" href=\"#id17\">5</a>, <a class=\"fn-backref\" href=\"#id19\">6</a>)</em> Presseau C. et al., A new compression format for fiber\ntracking datasets, NeuroImage, no 109, 73-83, 2015.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r0354129d978f-rheault15\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Rheault15]</td><td><em>(<a class=\"fn-backref\" href=\"#id16\">1</a>, <a class=\"fn-backref\" href=\"#id20\">2</a>)</em> Rheault F. et al., Real Time Interaction with Millions of\nStreamlines, ISMRM, 2015.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r0354129d978f-houde15\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Houde15]</td><td><em>(<a class=\"fn-backref\" href=\"#id18\">1</a>, <a class=\"fn-backref\" href=\"#id21\">2</a>)</em> Houde J.-C. et al. How to Avoid Biased Streamlines-Based\nMetrics for Streamlines with Variable Step Sizes, ISMRM, 2015.</td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.streamline</span> <span class=\"k\">import</span> <span class=\"n\">compress_streamlines</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># One streamline: a wiggling line</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rng</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">RandomState</span><span class=\"p\">(</span><span class=\"mi\">42</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"o\">*</span><span class=\"mi\">3</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">reshape</span><span class=\"p\">((</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">+=</span> <span class=\"mf\">0.2</span> <span class=\"o\">*</span> <span class=\"n\">rng</span><span class=\"o\">.</span><span class=\"n\">rand</span><span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c_streamline</span> <span class=\"o\">=</span> <span class=\"n\">compress_streamlines</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">tol_error</span><span class=\"o\">=</span><span class=\"mf\">0.2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">)</span>\n<span class=\"go\">100</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">c_streamline</span><span class=\"p\">)</span>\n<span class=\"go\">10</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Multiple streamlines</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">streamline</span><span class=\"p\">[::</span><span class=\"mi\">2</span><span class=\"p\">]]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c_streamlines</span> <span class=\"o\">=</span> <span class=\"n\">compress_streamlines</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"n\">tol_error</span><span class=\"o\">=</span><span class=\"mf\">0.2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[100, 50]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">c_streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[10, 7]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"compress-streamlines-python\">\n<h3>compress_streamlines_python<a class=\"headerlink\" href=\"#compress-streamlines-python\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.compress_streamlines_python\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">compress_streamlines_python</code><span class=\"sig-paren\">(</span><em>streamline</em>, <em>tol_error=0.01</em>, <em>max_segment_length=10</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.compress_streamlines_python\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Python version of the FiberCompression found on\n<a class=\"reference external\" href=\"https://github.com/scilus/FiberCompression\">https://github.com/scilus/FiberCompression</a>.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"generate-streamlines\">\n<h3>generate_streamlines<a class=\"headerlink\" href=\"#generate-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.generate_streamlines\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">generate_streamlines</code><span class=\"sig-paren\">(</span><em>nb_streamlines</em>, <em>min_nb_points</em>, <em>max_nb_points</em>, <em>rng</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.generate_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"get-fnames\">\n<h3>get_fnames<a class=\"headerlink\" href=\"#get-fnames\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.get_fnames\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">get_fnames</code><span class=\"sig-paren\">(</span><em>name='small_64D'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.get_fnames\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>provides filenames of some test datasets or other useful parametrisations</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>name</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str</span></dt>\n<dd><p class=\"first\">the filename/s of which dataset to return, one of:\n\u2018small_64D\u2019 small region of interest nifti,bvecs,bvals 64 directions\n\u2018small_101D\u2019 small region of interest nifti,bvecs,bvals 101 directions\n\u2018aniso_vox\u2019 volume with anisotropic voxel size as Nifti\n\u2018fornix\u2019 300 tracks in Trackvis format (from Pittsburgh</p>\n<blockquote>\n<div><p>Brain Competition)</p>\n</div></blockquote>\n<dl class=\"docutils\">\n<dt>\u2018gqi_vectors\u2019 the scanner wave vectors needed for a GQI acquisitions</dt>\n<dd><p class=\"first last\">of 101 directions tested on Siemens 3T Trio</p>\n</dd>\n</dl>\n<p class=\"last\">\u2018small_25\u2019 small ROI (10x8x2) DTI data (b value 2000, 25 directions)\n\u2018test_piesno\u2019 slice of N=8, K=14 diffusion data\n\u2018reg_c\u2019 small 2D image used for validating registration\n\u2018reg_o\u2019 small 2D image used for validation registration\n\u2018cb_2\u2019 two vectorized cingulum bundles</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>fnames</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">tuple</span></dt>\n<dd><p class=\"first last\">filenames for dataset</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.data</span> <span class=\"k\">import</span> <span class=\"n\">get_fnames</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">fimg</span><span class=\"p\">,</span><span class=\"n\">fbvals</span><span class=\"p\">,</span><span class=\"n\">fbvecs</span><span class=\"o\">=</span><span class=\"n\">get_fnames</span><span class=\"p\">(</span><span class=\"s1\">&#39;small_101D&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvals</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">loadtxt</span><span class=\"p\">(</span><span class=\"n\">fbvals</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvecs</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">loadtxt</span><span class=\"p\">(</span><span class=\"n\">fbvecs</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">nibabel</span> <span class=\"k\">as</span> <span class=\"nn\">nib</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">img</span><span class=\"o\">=</span><span class=\"n\">nib</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"n\">fimg</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span><span class=\"o\">=</span><span class=\"n\">img</span><span class=\"o\">.</span><span class=\"n\">get_data</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">102</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvals</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">102</span><span class=\"p\">,)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bvecs</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">102</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"length\">\n<h3>length<a class=\"headerlink\" href=\"#length\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.length\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">length</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.length\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Euclidean length of streamlines</p>\n<p>Length is in mm only if streamlines are expressed in world coordinates.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray or a list or <a class=\"reference internal\" href=\"#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a></span></dt>\n<dd><p class=\"first last\">If ndarray, must have shape (N,3) where N is the number of points\nof the streamline.\nIf list, each item must be ndarray shape (Ni,3) where Ni is the number\nof points of streamline i.\nIf <a class=\"reference internal\" href=\"#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a>, its <cite>common_shape</cite> must be 3.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>lengths</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">scalar or ndarray shape (N,)</span></dt>\n<dd><p class=\"first last\">If there is only one streamline, a scalar representing the length of the\nstreamline.\nIf there are several streamlines, ndarray containing the length of every\nstreamline.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.streamline</span> <span class=\"k\">import</span> <span class=\"n\">length</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">expected_length</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"o\">+</span><span class=\"mi\">2</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">3</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">3</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">4</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"n\">expected_length</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">([</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">streamline</span><span class=\"p\">[::</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">expected_lengths</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">expected_length</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"o\">*</span><span class=\"n\">expected_length</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">lengths</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]),</span> <span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">allclose</span><span class=\"p\">(</span><span class=\"n\">lengths</span><span class=\"p\">,</span> <span class=\"n\">expected_lengths</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">([])</span>\n<span class=\"go\">0.0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]]))</span>\n<span class=\"go\">0.0</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"length-python\">\n<h3>length_python<a class=\"headerlink\" href=\"#length-python\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.length_python\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">length_python</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>along=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.length_python\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"measure\">\n<h3>measure<a class=\"headerlink\" href=\"#measure\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.measure\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">measure</code><span class=\"sig-paren\">(</span><em>code_str</em>, <em>times=1</em>, <em>label=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.measure\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return elapsed time for executing code in the namespace of the caller.</p>\n<p>The supplied code string is compiled with the Python builtin <code class=\"docutils literal notranslate\"><span class=\"pre\">compile</span></code>.\nThe precision of the timing is 10 milli-seconds. If the code will execute\nfast on this timescale, it can be executed many times to get reasonable\ntiming accuracy.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>code_str</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str</span></dt>\n<dd><p class=\"first last\">The code to be timed.</p>\n</dd>\n<dt><strong>times</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">The number of times the code is executed. Default is 1. The code is\nonly compiled once.</p>\n</dd>\n<dt><strong>label</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str, optional</span></dt>\n<dd><p class=\"first last\">A label to identify <cite>code_str</cite> with. This is passed into <code class=\"docutils literal notranslate\"><span class=\"pre\">compile</span></code>\nas the second argument (for run-time error messages).</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>elapsed</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Total elapsed time in seconds for executing <cite>code_str</cite> <cite>times</cite> times.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">etime</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">testing</span><span class=\"o\">.</span><span class=\"n\">measure</span><span class=\"p\">(</span><span class=\"s1\">&#39;for i in range(1000): np.sqrt(i**2)&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">times</span><span class=\"o\">=</span><span class=\"n\">times</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&quot;Time for a single execution : &quot;</span><span class=\"p\">,</span> <span class=\"n\">etime</span> <span class=\"o\">/</span> <span class=\"n\">times</span><span class=\"p\">,</span> <span class=\"s2\">&quot;s&quot;</span><span class=\"p\">)</span>\n<span class=\"go\">Time for a single execution :  0.005 s</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"set-number-of-points\">\n<h3>set_number_of_points<a class=\"headerlink\" href=\"#set-number-of-points\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.set_number_of_points\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">set_number_of_points</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.set_number_of_points\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><dl class=\"docutils\">\n<dt>Change the number of points of streamlines</dt>\n<dd>(either by downsampling or upsampling)</dd>\n</dl>\n<p>Change the number of points of streamlines in order to obtain\n<cite>nb_points</cite>-1 segments of equal length. Points of streamlines will be\nmodified along the curve.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray or a list or <a class=\"reference internal\" href=\"#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a></span></dt>\n<dd><p class=\"first last\">If ndarray, must have shape (N,3) where N is the number of points\nof the streamline.\nIf list, each item must be ndarray shape (Ni,3) where Ni is the number\nof points of streamline i.\nIf <a class=\"reference internal\" href=\"#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a>, its <cite>common_shape</cite> must be 3.</p>\n</dd>\n<dt><strong>nb_points</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">integer representing number of points wanted along the curve.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>new_streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray or a list or <a class=\"reference internal\" href=\"#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a></span></dt>\n<dd><p class=\"first last\">Results of the downsampling or upsampling process.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.streamline</span> <span class=\"k\">import</span> <span class=\"n\">set_number_of_points</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n</pre></div>\n</div>\n<p>One streamline, a semi-circle:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span> <span class=\"o\">=</span> <span class=\"mi\">0</span> <span class=\"o\">*</span> <span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">modified_streamline</span> <span class=\"o\">=</span> <span class=\"n\">set_number_of_points</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">modified_streamline</span><span class=\"p\">)</span>\n<span class=\"go\">3</span>\n</pre></div>\n</div>\n<p>Multiple streamlines:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">streamline</span><span class=\"p\">[::</span><span class=\"mi\">2</span><span class=\"p\">]]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">new_streamlines</span> <span class=\"o\">=</span> <span class=\"n\">set_number_of_points</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[100, 50]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">new_streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[10, 10]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"set-number-of-points-python\">\n<h3>set_number_of_points_python<a class=\"headerlink\" href=\"#set-number-of-points-python\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.set_number_of_points_python\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">set_number_of_points_python</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>n_pols=3</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.set_number_of_points_python\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"setup\">\n<h3>setup<a class=\"headerlink\" href=\"#setup\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.benchmarks.bench_streamline.setup\">\n<code class=\"descclassname\">dipy.tracking.benchmarks.bench_streamline.</code><code class=\"descname\">setup</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.benchmarks.bench_streamline.setup\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"eudx\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.eudx.EuDX\" title=\"dipy.tracking.eudx.EuDX\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">EuDX</span></code></a><a class=\"headerlink\" href=\"#eudx\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.eudx.EuDX\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.eudx.</code><code class=\"descname\">EuDX</code><span class=\"sig-paren\">(</span><em>a</em>, <em>ind</em>, <em>seeds</em>, <em>odf_vertices</em>, <em>a_low=0.0239</em>, <em>step_sz=0.5</em>, <em>ang_thr=60.0</em>, <em>length_thr=0.0</em>, <em>total_weight=0.5</em>, <em>max_points=1000</em>, <em>affine=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.eudx.EuDX\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>Euler Delta Crossings</p>\n<p>Generates tracks with termination criteria defined by a delta function <a class=\"reference internal\" href=\"#r88b4b9a3ae90-1\" id=\"id22\">[1]</a>\nand it has similarities with FACT algorithm <a class=\"reference internal\" href=\"#r88b4b9a3ae90-2\" id=\"id23\">[2]</a> and Basser\u2019s method\nbut uses trilinear interpolation.</p>\n<p>Can be used with any reconstruction method as DTI, DSI, QBI, GQI which can\ncalculate an orientation distribution function and find the local peaks of\nthat function. For example a single tensor model can give you only\none peak a dual tensor model 2 peaks and quantitative anisotropy\nmethod as used in GQI can give you 3,4,5 or even more peaks.</p>\n<p>The parameters of the delta function are checking thresholds for the\ndirection propagation magnitude and the angle of propagation.</p>\n<p>A specific number of seeds is defined randomly and then the tracks\nare generated for that seed if the delta function returns true.</p>\n<p>Trilinear interpolation is being used for defining the weights of\nthe propagation.</p>\n<p class=\"rubric\">Notes</p>\n<p>The coordinate system of the tractography is that of native space of image\ncoordinates not native space world coordinates therefore voxel size is\nalways considered as having size (1,1,1).  Therefore, the origin is at the\ncenter of the center of the first voxel of the volume and all i,j,k\ncoordinates start from the center of the voxel they represent.</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r88b4b9a3ae90-1\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[1]</td><td><em>(<a class=\"fn-backref\" href=\"#id22\">1</a>, <a class=\"fn-backref\" href=\"#id24\">2</a>)</em> Garyfallidis, Towards an accurate brain tractography, PhD thesis,\nUniversity of Cambridge, 2012.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r88b4b9a3ae90-2\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[2]</td><td><em>(<a class=\"fn-backref\" href=\"#id23\">1</a>, <a class=\"fn-backref\" href=\"#id25\">2</a>)</em> Mori et al. Three-dimensional tracking of axonal projections\nin the brain by magnetic resonance imaging. Ann. Neurol. 1999.</td></tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.eudx.EuDX.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>a</em>, <em>ind</em>, <em>seeds</em>, <em>odf_vertices</em>, <em>a_low=0.0239</em>, <em>step_sz=0.5</em>, <em>ang_thr=60.0</em>, <em>length_thr=0.0</em>, <em>total_weight=0.5</em>, <em>max_points=1000</em>, <em>affine=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.eudx.EuDX.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Euler integration with multiple stopping criteria and supporting\nmultiple multiple fibres in crossings <a class=\"reference internal\" href=\"#r9912de428e90-1\" id=\"id26\">[1]</a>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>a</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array,</span></dt>\n<dd><p class=\"first last\">Shape (I, J, K, Np), magnitude of the peak of a scalar anisotropic\nfunction e.g. QA (quantitative anisotropy) where Np is the number\nof peaks or a different function of shape (I, J, K) e.g FA or GFA.</p>\n</dd>\n<dt><strong>ind</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape(x, y, z, Np)</span></dt>\n<dd><p class=\"first last\">indices of orientations of the scalar anisotropic peaks found on\nthe resampling sphere</p>\n</dd>\n<dt><strong>seeds</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int or ndarray</span></dt>\n<dd><p class=\"first last\">If an int is specified then that number of random seeds is\ngenerated in the volume. If an (N, 3) array of points is given,\neach of the N points is used as a seed. Seed points should be given\nin the point space of the track (see <code class=\"docutils literal notranslate\"><span class=\"pre\">affine</span></code>). The latter is\nuseful when you need to track from specific regions e.g. the\nwhite/gray matter interface or a specific ROI e.g. in the corpus\ncallosum.</p>\n</dd>\n<dt><strong>odf_vertices</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray, shape (N, 3)</span></dt>\n<dd><p class=\"first last\">sphere points which define a discrete representation of\norientations for the peaks, the same for all voxels. Usually the\nsame sphere is used as an input for a reconstruction algorithm\ne.g. DSI.</p>\n</dd>\n<dt><strong>a_low</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float, optional</span></dt>\n<dd><p class=\"first last\">low threshold for QA(typical 0.023)  or FA(typical 0.2) or any\nother anisotropic function</p>\n</dd>\n<dt><strong>step_sz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float, optional</span></dt>\n<dd><p class=\"first last\">euler propagation step size</p>\n</dd>\n<dt><strong>ang_thr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float, optional</span></dt>\n<dd><p class=\"first last\">if turning angle is bigger than this threshold then tracking stops.</p>\n</dd>\n<dt><strong>total_weight</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float, optional</span></dt>\n<dd><p class=\"first last\">total weighting threshold</p>\n</dd>\n<dt><strong>max_points</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">maximum number of points in a track. Used to stop tracks from\nlooping forever.</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (4, 4) optional</span></dt>\n<dd><p class=\"first last\">An affine mapping from the voxel indices of the input data to the\npoint space of the streamlines. That is if <code class=\"docutils literal notranslate\"><span class=\"pre\">[x,</span> <span class=\"pre\">y,</span> <span class=\"pre\">z,</span> <span class=\"pre\">1]</span> <span class=\"pre\">==</span>\n<span class=\"pre\">point_space</span> <span class=\"pre\">*</span> <span class=\"pre\">[i,</span> <span class=\"pre\">j,</span> <span class=\"pre\">k,</span> <span class=\"pre\">1]</span></code>, then the streamline with point\n<code class=\"docutils literal notranslate\"><span class=\"pre\">[x,</span> <span class=\"pre\">y,</span> <span class=\"pre\">z]</span></code> passes though the center of voxel <code class=\"docutils literal notranslate\"><span class=\"pre\">[i,</span> <span class=\"pre\">j,</span> <span class=\"pre\">k]</span></code>. If\nno point_space is given, the point space will be in voxel\ncoordinates.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>generator</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">obj</span></dt>\n<dd><p class=\"first last\">By iterating this generator you can obtain all the streamlines.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>This works as an iterator class because otherwise it could fill your\nentire memory if you generate many tracks.  Something very common as\nyou can easily generate millions of tracks if you have many seeds.</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r9912de428e90-1\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[1]</td><td><em>(<a class=\"fn-backref\" href=\"#id26\">1</a>, <a class=\"fn-backref\" href=\"#id27\">2</a>)</em> E. Garyfallidis (2012), \u201cTowards an accurate brain\ntractography\u201d, PhD thesis, University of Cambridge, UK.</td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">nibabel</span> <span class=\"k\">as</span> <span class=\"nn\">nib</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.reconst.dti</span> <span class=\"k\">import</span> <span class=\"n\">TensorModel</span><span class=\"p\">,</span> <span class=\"n\">quantize_evecs</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.data</span> <span class=\"k\">import</span> <span class=\"n\">get_fnames</span><span class=\"p\">,</span> <span class=\"n\">get_sphere</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.core.gradients</span> <span class=\"k\">import</span> <span class=\"n\">gradient_table</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">fimg</span><span class=\"p\">,</span><span class=\"n\">fbvals</span><span class=\"p\">,</span><span class=\"n\">fbvecs</span> <span class=\"o\">=</span> <span class=\"n\">get_fnames</span><span class=\"p\">(</span><span class=\"s1\">&#39;small_101D&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">img</span> <span class=\"o\">=</span> <span class=\"n\">nib</span><span class=\"o\">.</span><span class=\"n\">load</span><span class=\"p\">(</span><span class=\"n\">fimg</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">affine</span> <span class=\"o\">=</span> <span class=\"n\">img</span><span class=\"o\">.</span><span class=\"n\">affine</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">img</span><span class=\"o\">.</span><span class=\"n\">get_data</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gtab</span> <span class=\"o\">=</span> <span class=\"n\">gradient_table</span><span class=\"p\">(</span><span class=\"n\">fbvals</span><span class=\"p\">,</span> <span class=\"n\">fbvecs</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">TensorModel</span><span class=\"p\">(</span><span class=\"n\">gtab</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ten</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"o\">.</span><span class=\"n\">fit</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sphere</span> <span class=\"o\">=</span> <span class=\"n\">get_sphere</span><span class=\"p\">(</span><span class=\"s1\">&#39;symmetric724&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ind</span> <span class=\"o\">=</span> <span class=\"n\">quantize_evecs</span><span class=\"p\">(</span><span class=\"n\">ten</span><span class=\"o\">.</span><span class=\"n\">evecs</span><span class=\"p\">,</span> <span class=\"n\">sphere</span><span class=\"o\">.</span><span class=\"n\">vertices</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">eu</span> <span class=\"o\">=</span> <span class=\"n\">EuDX</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"o\">=</span><span class=\"n\">ten</span><span class=\"o\">.</span><span class=\"n\">fa</span><span class=\"p\">,</span> <span class=\"n\">ind</span><span class=\"o\">=</span><span class=\"n\">ind</span><span class=\"p\">,</span> <span class=\"n\">seeds</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"n\">odf_vertices</span><span class=\"o\">=</span><span class=\"n\">sphere</span><span class=\"o\">.</span><span class=\"n\">vertices</span><span class=\"p\">,</span> <span class=\"n\">a_low</span><span class=\"o\">=.</span><span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">tracks</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">e</span> <span class=\"k\">for</span> <span class=\"n\">e</span> <span class=\"ow\">in</span> <span class=\"n\">eu</span><span class=\"p\">]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"eudx-both-directions\">\n<h3>eudx_both_directions<a class=\"headerlink\" href=\"#eudx-both-directions\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.eudx.eudx_both_directions\">\n<code class=\"descclassname\">dipy.tracking.eudx.</code><code class=\"descname\">eudx_both_directions</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.eudx.eudx_both_directions\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>seed</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float64 shape (3,)</span></dt>\n<dd><p class=\"first last\">Point where the tracking starts.</p>\n</dd>\n<dt><strong>ref</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">cnp.npy_intp int</span></dt>\n<dd><p class=\"first last\">Index of peak to follow first.</p>\n</dd>\n<dt><strong>qa</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float64 shape (X, Y, Z, Np)</span></dt>\n<dd><p class=\"first last\">Anisotropy matrix, where <code class=\"docutils literal notranslate\"><span class=\"pre\">Np</span></code> is the number of maximum allowed peaks.</p>\n</dd>\n<dt><strong>ind</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float64 shape(x, y, z, Np)</span></dt>\n<dd><p class=\"first last\">Index of the track orientation.</p>\n</dd>\n<dt><strong>odf_vertices</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">double array shape (N, 3)</span></dt>\n<dd><p class=\"first last\">Sampling directions on the sphere.</p>\n</dd>\n<dt><strong>qa_thr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Threshold for QA, we want everything higher than this threshold.</p>\n</dd>\n<dt><strong>ang_thr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Angle threshold, we only select fiber orientation within this range.</p>\n</dd>\n<dt><strong>step_sz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">double</span></dt>\n<dd></dd>\n<dt><strong>total_weight</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">double</span></dt>\n<dd></dd>\n<dt><strong>max_points</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">cnp.npy_intp</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>track</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (N,3)</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"get-sphere\">\n<h3>get_sphere<a class=\"headerlink\" href=\"#get-sphere\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.eudx.get_sphere\">\n<code class=\"descclassname\">dipy.tracking.eudx.</code><code class=\"descname\">get_sphere</code><span class=\"sig-paren\">(</span><em>name='symmetric362'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.eudx.get_sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>provide triangulated spheres</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>name</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str</span></dt>\n<dd><p class=\"first last\">which sphere - one of:\n* \u2018symmetric362\u2019\n* \u2018symmetric642\u2019\n* \u2018symmetric724\u2019\n* \u2018repulsion724\u2019\n* \u2018repulsion100\u2019\n* \u2018repulsion200\u2019</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>sphere</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">a dipy.core.sphere.Sphere class instance</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.data</span> <span class=\"k\">import</span> <span class=\"n\">get_sphere</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sphere</span> <span class=\"o\">=</span> <span class=\"n\">get_sphere</span><span class=\"p\">(</span><span class=\"s1\">&#39;symmetric362&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">verts</span><span class=\"p\">,</span> <span class=\"n\">faces</span> <span class=\"o\">=</span> <span class=\"n\">sphere</span><span class=\"o\">.</span><span class=\"n\">vertices</span><span class=\"p\">,</span> <span class=\"n\">sphere</span><span class=\"o\">.</span><span class=\"n\">faces</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">verts</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">362</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">faces</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"mi\">720</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">verts</span><span class=\"p\">,</span> <span class=\"n\">faces</span> <span class=\"o\">=</span> <span class=\"n\">get_sphere</span><span class=\"p\">(</span><span class=\"s1\">&#39;not a sphere name&#39;</span><span class=\"p\">)</span> \n<span class=\"gt\">Traceback (most recent call last):</span>\n    <span class=\"o\">...</span>\n<span class=\"gr\">DataError</span>: <span class=\"n\">No sphere called &quot;not a sphere name&quot;</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"detect-corresponding-tracks\">\n<h3>detect_corresponding_tracks<a class=\"headerlink\" href=\"#detect-corresponding-tracks\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.learning.detect_corresponding_tracks\">\n<code class=\"descclassname\">dipy.tracking.learning.</code><code class=\"descname\">detect_corresponding_tracks</code><span class=\"sig-paren\">(</span><em>indices</em>, <em>tracks1</em>, <em>tracks2</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.learning.detect_corresponding_tracks\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Detect corresponding tracks from list tracks1 to list tracks2\nwhere tracks1 &amp; tracks2 are lists of tracks</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>indices</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of indices of tracks1 that are to be detected in tracks2</p>\n</dd>\n<dt><strong>tracks1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of tracks as arrays, shape (N1,3) .. (Nm,3)</p>\n</dd>\n<dt><strong>tracks2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of tracks as arrays, shape (M1,3) .. (Mm,3)</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>track2track</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (N,2) where N is len(indices) of int</span></dt>\n<dd><p class=\"first last\">it shows the correspondance in the following way:\nthe first column is the current index in tracks1\nthe second column is the corresponding index in tracks2</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>To find the corresponding tracks we use mam_distances with \u2018avg\u2019 option.\nThen we calculate the argmin of all the calculated distances and return it\nfor every index. (See 3rd column of arr in the example given below.)</p>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">dipy.tracking.learning</span> <span class=\"k\">as</span> <span class=\"nn\">tl</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">A</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">B</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">C</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bundle1</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">A</span><span class=\"p\">,</span> <span class=\"n\">B</span><span class=\"p\">,</span> <span class=\"n\">C</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bundle2</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">B</span><span class=\"p\">,</span> <span class=\"n\">A</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">indices</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">arr</span> <span class=\"o\">=</span> <span class=\"n\">tl</span><span class=\"o\">.</span><span class=\"n\">detect_corresponding_tracks</span><span class=\"p\">(</span><span class=\"n\">indices</span><span class=\"p\">,</span> <span class=\"n\">bundle1</span><span class=\"p\">,</span> <span class=\"n\">bundle2</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"detect-corresponding-tracks-plus\">\n<h3>detect_corresponding_tracks_plus<a class=\"headerlink\" href=\"#detect-corresponding-tracks-plus\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.learning.detect_corresponding_tracks_plus\">\n<code class=\"descclassname\">dipy.tracking.learning.</code><code class=\"descname\">detect_corresponding_tracks_plus</code><span class=\"sig-paren\">(</span><em>indices</em>, <em>tracks1</em>, <em>indices2</em>, <em>tracks2</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.learning.detect_corresponding_tracks_plus\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Detect corresponding tracks from 1 to 2 where tracks1 &amp; tracks2 are\nsequences of tracks</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>indices</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of indices of tracks1 that are to be detected in tracks2</p>\n</dd>\n<dt><strong>tracks1</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of tracks as arrays, shape (N1,3) .. (Nm,3)</p>\n</dd>\n<dt><strong>indices2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of indices of tracks2 in the initial brain</p>\n</dd>\n<dt><strong>tracks2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of tracks as arrays, shape (M1,3) .. (Mm,3)</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>track2track</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (N,2) where N is len(indices)</span></dt>\n<dd><p class=\"first last\">of int showing the correspondance in th following way\nthe first colum is the current index of tracks1\nthe second column is the corresponding index in tracks2</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">distances.mam_distances</span></code></p>\n</div>\n<p class=\"rubric\">Notes</p>\n<p>To find the corresponding tracks we use mam_distances with \u2018avg\u2019 option.\nThen we calculate the argmin of all the calculated distances and return it\nfor every index. (See 3rd column of arr in the example given below.)</p>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">dipy.tracking.learning</span> <span class=\"k\">as</span> <span class=\"nn\">tl</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">A</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">B</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">C</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bundle1</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">A</span><span class=\"p\">,</span> <span class=\"n\">B</span><span class=\"p\">,</span> <span class=\"n\">C</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bundle2</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">B</span><span class=\"p\">,</span> <span class=\"n\">A</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">indices</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">indices2</span> <span class=\"o\">=</span> <span class=\"n\">indices</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">arr</span> <span class=\"o\">=</span> <span class=\"n\">tl</span><span class=\"o\">.</span><span class=\"n\">detect_corresponding_tracks_plus</span><span class=\"p\">(</span><span class=\"n\">indices</span><span class=\"p\">,</span> <span class=\"n\">bundle1</span><span class=\"p\">,</span> <span class=\"n\">indices2</span><span class=\"p\">,</span> <span class=\"n\">bundle2</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"fiberfit\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.life.FiberFit\" title=\"dipy.tracking.life.FiberFit\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">FiberFit</span></code></a><a class=\"headerlink\" href=\"#fiberfit\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.life.FiberFit\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">FiberFit</code><span class=\"sig-paren\">(</span><em>fiber_model</em>, <em>life_matrix</em>, <em>vox_coords</em>, <em>to_fit</em>, <em>beta</em>, <em>weighted_signal</em>, <em>b0_signal</em>, <em>relative_signal</em>, <em>mean_sig</em>, <em>vox_data</em>, <em>streamline</em>, <em>affine</em>, <em>evals</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.FiberFit\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"../dipy.reconst/#dipy.reconst.base.ReconstFit\" title=\"dipy.reconst.base.ReconstFit\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.reconst.base.ReconstFit</span></code></a></p>\n<p>A fit of the LiFE model to diffusion data</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.FiberFit.predict\" title=\"dipy.tracking.life.FiberFit.predict\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">predict</span></code></a>([gtab,&nbsp;S0])</td>\n<td>Predict the signal</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.FiberFit.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>fiber_model</em>, <em>life_matrix</em>, <em>vox_coords</em>, <em>to_fit</em>, <em>beta</em>, <em>weighted_signal</em>, <em>b0_signal</em>, <em>relative_signal</em>, <em>mean_sig</em>, <em>vox_data</em>, <em>streamline</em>, <em>affine</em>, <em>evals</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.FiberFit.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>fiber_model</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">A FiberModel class instance</span></dt>\n<dd></dd>\n<dt><strong>params</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">the parameters derived from a fit of the model to the data.</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.FiberFit.predict\">\n<code class=\"descname\">predict</code><span class=\"sig-paren\">(</span><em>gtab=None</em>, <em>S0=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.FiberFit.predict\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Predict the signal</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>gtab</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">GradientTable</span></dt>\n<dd><p class=\"first last\">Default: use self.gtab</p>\n</dd>\n<dt><strong>S0</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float or array</span></dt>\n<dd><p class=\"first last\">The non-diffusion-weighted signal in the voxels for which a\nprediction is made. Default: use self.b0_signal</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>prediction</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray of shape (voxels, bvecs)</span></dt>\n<dd><p class=\"first last\">An array with a prediction of the signal in each voxel/direction</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"fibermodel\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.life.FiberModel\" title=\"dipy.tracking.life.FiberModel\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">FiberModel</span></code></a><a class=\"headerlink\" href=\"#fibermodel\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.life.FiberModel\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">FiberModel</code><span class=\"sig-paren\">(</span><em>gtab</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.FiberModel\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"../dipy.reconst/#dipy.reconst.base.ReconstModel\" title=\"dipy.reconst.base.ReconstModel\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.reconst.base.ReconstModel</span></code></a></p>\n<p>A class for representing and solving predictive models based on\ntractography solutions.</p>\n<p class=\"rubric\">Notes</p>\n<p>This is an implementation of the LiFE model described in <a href=\"#id74\"><span class=\"problematic\" id=\"id28\">[1]_</span></a></p>\n<dl class=\"docutils\">\n<dt>[1] Pestilli, F., Yeatman, J, Rokem, A. Kay, K. and Wandell</dt>\n<dd>B.A. (2014). Validation and statistical inference in living\nconnectomes. Nature Methods.</dd>\n</dl>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.FiberModel.fit\" title=\"dipy.tracking.life.FiberModel.fit\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">fit</span></code></a>(data,&nbsp;streamline[,&nbsp;affine,&nbsp;evals,&nbsp;sphere])</td>\n<td>Fit the LiFE FiberModel for data and a set of streamlines associated with this data</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.FiberModel.setup\" title=\"dipy.tracking.life.FiberModel.setup\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">setup</span></code></a>(streamline,&nbsp;affine[,&nbsp;evals,&nbsp;sphere])</td>\n<td>Set up the necessary components for the LiFE model: the matrix of fiber-contributions to the DWI signal, and the coordinates of voxels for which the equations will be solved</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.FiberModel.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>gtab</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.FiberModel.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>gtab</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">a GradientTable class instance</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.FiberModel.fit\">\n<code class=\"descname\">fit</code><span class=\"sig-paren\">(</span><em>data, streamline, affine=None, evals=[0.001, 0, 0], sphere=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.FiberModel.fit\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Fit the LiFE FiberModel for data and a set of streamlines associated\nwith this data</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>data</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">4D array</span></dt>\n<dd><p class=\"first last\">Diffusion-weighted data</p>\n</dd>\n<dt><strong>streamline</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list</span></dt>\n<dd><p class=\"first last\">A bunch of streamlines</p>\n</dd>\n<dt><strong>affine: 4 by 4 array (optional)</strong></dt>\n<dd><p class=\"first last\">The affine to go from the streamline coordinates to the data\ncoordinates. Defaults to use <cite>np.eye(4)</cite></p>\n</dd>\n<dt><strong>evals</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list (optional)</span></dt>\n<dd><p class=\"first last\">The eigenvalues of the tensor response function used in constructing\nthe model signal. Default: [0.001, 0, 0]</p>\n</dd>\n<dt><strong>sphere: `dipy.core.Sphere` instance, or False</strong></dt>\n<dd><p class=\"first last\">Whether to approximate (and cache) the signal on a discrete\nsphere. This may confer a significant speed-up in setting up the\nproblem, but is not as accurate. If <cite>False</cite>, we use the exact\ngradients along the streamlines to calculate the matrix, instead of\nan approximation.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>FiberFit class instance</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.FiberModel.setup\">\n<code class=\"descname\">setup</code><span class=\"sig-paren\">(</span><em>streamline, affine, evals=[0.001, 0, 0], sphere=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.FiberModel.setup\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Set up the necessary components for the LiFE model: the matrix of\nfiber-contributions to the DWI signal, and the coordinates of voxels\nfor which the equations will be solved</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>streamline</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list</span></dt>\n<dd><p class=\"first last\">Streamlines, each is an array of shape (n, 3)</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">4 by 4 array</span></dt>\n<dd><p class=\"first last\">Mapping from the streamline coordinates to the data</p>\n</dd>\n<dt><strong>evals</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list (3 items, optional)</span></dt>\n<dd><p class=\"first last\">The eigenvalues of the canonical tensor used as a response\nfunction. Default:[0.001, 0, 0].</p>\n</dd>\n<dt><strong>sphere: `dipy.core.Sphere` instance.</strong></dt>\n<dd><p class=\"first last\">Whether to approximate (and cache) the signal on a discrete\nsphere. This may confer a significant speed-up in setting up the\nproblem, but is not as accurate. If <cite>False</cite>, we use the exact\ngradients along the streamlines to calculate the matrix, instead of\nan approximation. Defaults to use the 724-vertex symmetric sphere\nfrom <a class=\"reference internal\" href=\"../dipy.data/#module-dipy.data\" title=\"dipy.data\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">dipy.data</span></code></a></p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"lifesignalmaker\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.life.LifeSignalMaker\" title=\"dipy.tracking.life.LifeSignalMaker\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">LifeSignalMaker</span></code></a><a class=\"headerlink\" href=\"#lifesignalmaker\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.life.LifeSignalMaker\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">LifeSignalMaker</code><span class=\"sig-paren\">(</span><em>gtab, evals=[0.001, 0, 0], sphere=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.LifeSignalMaker\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>A class for generating signals from streamlines in an efficient and speedy\nmanner.</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.LifeSignalMaker.streamline_signal\" title=\"dipy.tracking.life.LifeSignalMaker.streamline_signal\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">streamline_signal</span></code></a>(streamline)</td>\n<td>Approximate the signal for a given streamline</td>\n</tr>\n</tbody>\n</table>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"60%\" />\n<col width=\"40%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>calc_signal</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.LifeSignalMaker.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>gtab, evals=[0.001, 0, 0], sphere=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.LifeSignalMaker.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize a signal maker</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>gtab</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">GradientTable class instance</span></dt>\n<dd><p class=\"first last\">The gradient table on which the signal is calculated.</p>\n</dd>\n<dt><strong>evals</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list of 3 items</span></dt>\n<dd><p class=\"first last\">The eigenvalues of the canonical tensor to use in calculating the\nsignal.</p>\n</dd>\n<dt><strong>n_points</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\"><cite>dipy.core.Sphere</cite> class instance</span></dt>\n<dd><p class=\"first last\">The discrete sphere to use as an approximation for the continuous\nsphere on which the signal is represented. If integer - we will use\nan instance of one of the symmetric spheres cached in\n<cite>dps.get_sphere</cite>. If a \u2018dipy.core.Sphere\u2019 class instance is\nprovided, we will use this object. Default: the <a class=\"reference internal\" href=\"../dipy.data/#module-dipy.data\" title=\"dipy.data\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">dipy.data</span></code></a>\nsymmetric sphere with 724 vertices</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.LifeSignalMaker.calc_signal\">\n<code class=\"descname\">calc_signal</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.LifeSignalMaker.calc_signal\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.LifeSignalMaker.streamline_signal\">\n<code class=\"descname\">streamline_signal</code><span class=\"sig-paren\">(</span><em>streamline</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.LifeSignalMaker.streamline_signal\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Approximate the signal for a given streamline</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"reconstfit\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.life.ReconstFit\" title=\"dipy.tracking.life.ReconstFit\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ReconstFit</span></code></a><a class=\"headerlink\" href=\"#reconstfit\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.life.ReconstFit\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">ReconstFit</code><span class=\"sig-paren\">(</span><em>model</em>, <em>data</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.ReconstFit\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>Abstract class which holds the fit result of ReconstModel</p>\n<p>For example that could be holding FA or GFA etc.</p>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.ReconstFit.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>model</em>, <em>data</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.ReconstFit.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"reconstmodel\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.life.ReconstModel\" title=\"dipy.tracking.life.ReconstModel\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ReconstModel</span></code></a><a class=\"headerlink\" href=\"#reconstmodel\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.life.ReconstModel\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">ReconstModel</code><span class=\"sig-paren\">(</span><em>gtab</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.ReconstModel\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>Abstract class for signal reconstruction models</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"41%\" />\n<col width=\"59%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>fit</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.ReconstModel.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>gtab</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.ReconstModel.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialization of the abstract class for signal reconstruction models</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>gtab</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">GradientTable class instance</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.ReconstModel.fit\">\n<code class=\"descname\">fit</code><span class=\"sig-paren\">(</span><em>data</em>, <em>mask=None</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.ReconstModel.fit\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"range\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.life.range\" title=\"dipy.tracking.life.range\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">range</span></code></a><a class=\"headerlink\" href=\"#range\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.life.range\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">range</code><span class=\"sig-paren\">(</span><em>stop</em><span class=\"sig-paren\">)</span> &#x2192; range object<a class=\"headerlink\" href=\"#dipy.tracking.life.range\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>range(start, stop[, step]) -&gt; range object</p>\n<p>Return an object that produces a sequence of integers from start (inclusive)\nto stop (exclusive) by step.  range(i, j) produces i, i+1, i+2, \u2026, j-1.\nstart defaults to 0, and stop is omitted!  range(4) produces 0, 1, 2, 3.\nThese are exactly the valid indices for a list of 4 elements.\nWhen step is given, it specifies the increment (or decrement).</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>start</strong></dt>\n<dd></dd>\n<dt><strong>step</strong></dt>\n<dd></dd>\n<dt><strong>stop</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.range.count\" title=\"dipy.tracking.life.range.count\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">count</span></code></a>(value)</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.life.range.index\" title=\"dipy.tracking.life.range.index\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">index</span></code></a>(value,&nbsp;[start,&nbsp;[stop]])</td>\n<td>Raise ValueError if the value is not present.</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.range.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.range.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.range.count\">\n<code class=\"descname\">count</code><span class=\"sig-paren\">(</span><em>value</em><span class=\"sig-paren\">)</span> &#x2192; integer -- return number of occurrences of value<a class=\"headerlink\" href=\"#dipy.tracking.life.range.count\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.life.range.index\">\n<code class=\"descname\">index</code><span class=\"sig-paren\">(</span><em>value</em><span class=\"optional\">[</span>, <em>start</em><span class=\"optional\">[</span>, <em>stop</em><span class=\"optional\">]</span><span class=\"optional\">]</span><span class=\"sig-paren\">)</span> &#x2192; integer -- return index of value.<a class=\"headerlink\" href=\"#dipy.tracking.life.range.index\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Raise ValueError if the value is not present.</p>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.tracking.life.range.start\">\n<code class=\"descname\">start</code><a class=\"headerlink\" href=\"#dipy.tracking.life.range.start\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.tracking.life.range.step\">\n<code class=\"descname\">step</code><a class=\"headerlink\" href=\"#dipy.tracking.life.range.step\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.tracking.life.range.stop\">\n<code class=\"descname\">stop</code><a class=\"headerlink\" href=\"#dipy.tracking.life.range.stop\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"grad-tensor\">\n<h3>grad_tensor<a class=\"headerlink\" href=\"#grad-tensor\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.life.grad_tensor\">\n<code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">grad_tensor</code><span class=\"sig-paren\">(</span><em>grad</em>, <em>evals</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.grad_tensor\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculate the 3 by 3 tensor for a given spatial gradient, given a canonical\ntensor shape (also as a 3 by 3), pointing at [1,0,0]</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>grad</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">1d array of shape (3,)</span></dt>\n<dd><p class=\"first last\">The spatial gradient (e.g between two nodes of a streamline).</p>\n</dd>\n<dt><strong>evals: 1d array of shape (3,)</strong></dt>\n<dd><p class=\"first last\">The eigenvalues of a canonical tensor to be used as a response\nfunction.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"gradient\">\n<h3>gradient<a class=\"headerlink\" href=\"#gradient\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.life.gradient\">\n<code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">gradient</code><span class=\"sig-paren\">(</span><em>f</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.gradient\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return the gradient of an N-dimensional array.</p>\n<p>The gradient is computed using central differences in the interior\nand first differences at the boundaries. The returned gradient hence has\nthe same shape as the input array.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>f</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">An N-dimensional array containing samples of a scalar function.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>gradient</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">N arrays of the same shape as <cite>f</cite> giving the derivative of <cite>f</cite> with\nrespect to each dimension.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"mi\">16</span><span class=\"p\">],</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">float</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gradient</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 1. ,  1.5,  2.5,  3.5,  4.5,  5. ])</span>\n</pre></div>\n</div>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">gradient</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">]],</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">float</span><span class=\"p\">))</span>\n<span class=\"go\">[array([[ 2.,  2., -1.],</span>\n<span class=\"go\">       [ 2.,  2., -1.]]), array([[ 1. ,  2.5,  4. ],</span>\n<span class=\"go\">       [ 1. ,  1. ,  1. ]])]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"streamline-gradients\">\n<h3>streamline_gradients<a class=\"headerlink\" href=\"#streamline-gradients\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.life.streamline_gradients\">\n<code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">streamline_gradients</code><span class=\"sig-paren\">(</span><em>streamline</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.streamline_gradients\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculate the gradients of the streamline along the spatial dimension</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamline</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like of shape (n, 3)</span></dt>\n<dd><p class=\"first last\">The 3d coordinates of a single streamline</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>Array of shape (3, n): Spatial gradients along the length of the</strong></dt>\n<dd></dd>\n<dt><strong>streamline.</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"streamline-signal\">\n<h3>streamline_signal<a class=\"headerlink\" href=\"#streamline-signal\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.life.streamline_signal\">\n<code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">streamline_signal</code><span class=\"sig-paren\">(</span><em>streamline, gtab, evals=[0.001, 0, 0]</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.streamline_signal\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The signal from a single streamline estimate along each of its nodes.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>streamline</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">a single streamline</span></dt>\n<dd></dd>\n<dt><strong>gtab</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">GradientTable class instance</span></dt>\n<dd></dd>\n<dt><strong>evals</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list of length 3 (optional. Default: [0.001, 0, 0])</span></dt>\n<dd><p class=\"first last\">The eigenvalues of the canonical tensor used as an estimate of the\nsignal generated by each node of the streamline.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"streamline-tensors\">\n<h3>streamline_tensors<a class=\"headerlink\" href=\"#streamline-tensors\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.life.streamline_tensors\">\n<code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">streamline_tensors</code><span class=\"sig-paren\">(</span><em>streamline, evals=[0.001, 0, 0]</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.streamline_tensors\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The tensors generated by this fiber.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamline</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like of shape (n, 3)</span></dt>\n<dd><p class=\"first last\">The 3d coordinates of a single streamline</p>\n</dd>\n<dt><strong>evals</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">iterable with three entries</span></dt>\n<dd><p class=\"first last\">The estimated eigenvalues of a single fiber tensor.\n(default: [0.001, 0, 0]).</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>An n_nodes by 3 by 3 array with the tensor for each node in the fiber.</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"transform-streamlines\">\n<h3>transform_streamlines<a class=\"headerlink\" href=\"#transform-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.life.transform_streamlines\">\n<code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">transform_streamlines</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>mat</em>, <em>in_place=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.transform_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Apply affine transformation to streamlines</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines</span></dt>\n<dd><p class=\"first last\">Streamlines object</p>\n</dd>\n<dt><strong>mat</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, (4, 4)</span></dt>\n<dd><p class=\"first last\">transformation matrix</p>\n</dd>\n<dt><strong>in_place</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">If True then change data in place.\nBe careful changes input streamlines.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>new_streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines</span></dt>\n<dd><p class=\"first last\">Sequence transformed 2D ndarrays of shape[-1]==3</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"unique-rows\">\n<h3>unique_rows<a class=\"headerlink\" href=\"#unique-rows\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.life.unique_rows\">\n<code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">unique_rows</code><span class=\"sig-paren\">(</span><em>in_array</em>, <em>dtype='f4'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.unique_rows\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>This (quickly) finds the unique rows in an array</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>in_array: ndarray</strong></dt>\n<dd><p class=\"first last\">The array for which the unique rows should be found</p>\n</dd>\n<dt><strong>dtype: str, optional</strong></dt>\n<dd><p class=\"first last\">This determines the intermediate representation used for the\nvalues. Should at least preserve the values of the input array.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>u_return: ndarray</strong></dt>\n<dd><p class=\"first last\">Array with the unique rows of the original array.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"voxel2streamline\">\n<h3>voxel2streamline<a class=\"headerlink\" href=\"#voxel2streamline\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.life.voxel2streamline\">\n<code class=\"descclassname\">dipy.tracking.life.</code><code class=\"descname\">voxel2streamline</code><span class=\"sig-paren\">(</span><em>streamline</em>, <em>transformed=False</em>, <em>affine=None</em>, <em>unique_idx=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.life.voxel2streamline\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Maps voxels to streamlines and streamlines to voxels, for setting up\nthe LiFE equations matrix</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamline</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list</span></dt>\n<dd><p class=\"first last\">A collection of streamlines, each n by 3, with n being the number of\nnodes in the fiber.</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">4 by 4 array (optional)</span></dt>\n<dd><p class=\"first last\">Defines the spatial transformation from streamline to data.\nDefault: np.eye(4)</p>\n</dd>\n<dt><strong>transformed</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool (optional)</span></dt>\n<dd><p class=\"first last\">Whether the streamlines have been already transformed (in which case\nthey don\u2019t need to be transformed in here).</p>\n</dd>\n<dt><strong>unique_idx</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (optional).</span></dt>\n<dd><p class=\"first last\">The unique indices in the streamlines</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>v2f, v2fn</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">tuple of dicts</span></dt>\n<dd></dd>\n<dt><strong>The first dict in the tuple answers the question: Given a voxel (from</strong></dt>\n<dd></dd>\n<dt><strong>the unique indices in this model), which fibers pass through it?</strong></dt>\n<dd></dd>\n<dt><strong>The second answers the question: Given a streamline, for each voxel that</strong></dt>\n<dd></dd>\n<dt><strong>this streamline passes through, which nodes of that streamline are in that</strong></dt>\n<dd></dd>\n<dt><strong>voxel?</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"acttissueclassifier\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.ActTissueClassifier\" title=\"dipy.tracking.local.ActTissueClassifier\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ActTissueClassifier</span></code></a><a class=\"headerlink\" href=\"#acttissueclassifier\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.ActTissueClassifier\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.</code><code class=\"descname\">ActTissueClassifier</code><a class=\"headerlink\" href=\"#dipy.tracking.local.ActTissueClassifier\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.local.tissue_classifier.ConstrainedTissueClassifier</span></code></p>\n<p>Anatomically-Constrained Tractography (ACT) stopping criteria from <a class=\"reference internal\" href=\"#rbfabf9ccccc8-1\" id=\"id29\">[1]</a>.\nThis implements the use of partial volume fraction (PVE) maps to\ndetermine when the tracking stops. The proposed (<a class=\"reference internal\" href=\"#rbfabf9ccccc8-1\" id=\"id30\">[1]</a>) method that\ncuts streamlines going through subcortical gray matter regions is\nnot implemented here. The backtracking technique for\nstreamlines reaching INVALIDPOINT is not implemented either.\ncdef:</p>\n<blockquote>\n<div>double interp_out_double[1]\ndouble[:]  interp_out_view = interp_out_view\ndouble[:, :, :] include_map, exclude_map</div></blockquote>\n<table class=\"docutils citation\" frame=\"void\" id=\"rbfabf9ccccc8-1\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[1]</td><td><em>(<a class=\"fn-backref\" href=\"#id2\">1</a>, <a class=\"fn-backref\" href=\"#id29\">2</a>, <a class=\"fn-backref\" href=\"#id30\">3</a>)</em> Smith, R. E., Tournier, J.-D., Calamante, F., &amp; Connelly, A.</td></tr>\n</tbody>\n</table>\n<p>\u201cAnatomically-constrained tractography: Improved diffusion MRI\nstreamlines tractography through effective use of anatomical\ninformation.\u201d NeuroImage, 63(3), 1924-1938, 2012.</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">from_pve</span></code></td>\n<td>ConstrainedTissueClassifier from partial volume fraction (PVE) maps.</td>\n</tr>\n</tbody>\n</table>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"60%\" />\n<col width=\"40%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>check_point</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>get_exclude</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>get_include</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.ActTissueClassifier.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.ActTissueClassifier.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"binarytissueclassifier\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.BinaryTissueClassifier\" title=\"dipy.tracking.local.BinaryTissueClassifier\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BinaryTissueClassifier</span></code></a><a class=\"headerlink\" href=\"#binarytissueclassifier\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.BinaryTissueClassifier\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.</code><code class=\"descname\">BinaryTissueClassifier</code><a class=\"headerlink\" href=\"#dipy.tracking.local.BinaryTissueClassifier\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.local.tissue_classifier.TissueClassifier</span></code></p>\n<dl class=\"docutils\">\n<dt>cdef:</dt>\n<dd>unsigned char[:, :, :] mask</dd>\n</dl>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"60%\" />\n<col width=\"40%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>check_point</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.BinaryTissueClassifier.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.BinaryTissueClassifier.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"cmctissueclassifier\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.CmcTissueClassifier\" title=\"dipy.tracking.local.CmcTissueClassifier\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">CmcTissueClassifier</span></code></a><a class=\"headerlink\" href=\"#cmctissueclassifier\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.CmcTissueClassifier\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.</code><code class=\"descname\">CmcTissueClassifier</code><a class=\"headerlink\" href=\"#dipy.tracking.local.CmcTissueClassifier\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.local.tissue_classifier.ConstrainedTissueClassifier</span></code></p>\n<p>Continuous map criterion (CMC) stopping criteria from <a class=\"reference internal\" href=\"#rd8ba60cb5ae5-1\" id=\"id31\">[1]</a>.\nThis implements the use of partial volume fraction (PVE) maps to\ndetermine when the tracking stops.</p>\n<dl class=\"docutils\">\n<dt>cdef:</dt>\n<dd>double interp_out_double[1]\ndouble[:]  interp_out_view = interp_out_view\ndouble[:, :, :] include_map, exclude_map\ndouble step_size\ndouble average_voxel_size\ndouble correction_factor</dd>\n</dl>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"rd8ba60cb5ae5-1\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[1]</td><td><em>(<a class=\"fn-backref\" href=\"#id3\">1</a>, <a class=\"fn-backref\" href=\"#id31\">2</a>, <a class=\"fn-backref\" href=\"#id32\">3</a>)</em> Girard, G., Whittingstall, K., Deriche, R., &amp; Descoteaux, M.</td></tr>\n</tbody>\n</table>\n<p>\u201cTowards quantitative connectivity analysis: reducing tractography biases.\u201d\nNeuroImage, 98, 266-278, 2014.</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">from_pve</span></code></td>\n<td>ConstrainedTissueClassifier from partial volume fraction (PVE) maps.</td>\n</tr>\n</tbody>\n</table>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"60%\" />\n<col width=\"40%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>check_point</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>get_exclude</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>get_include</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.CmcTissueClassifier.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.CmcTissueClassifier.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"constrainedtissueclassifier\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.ConstrainedTissueClassifier\" title=\"dipy.tracking.local.ConstrainedTissueClassifier\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ConstrainedTissueClassifier</span></code></a><a class=\"headerlink\" href=\"#constrainedtissueclassifier\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.ConstrainedTissueClassifier\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.</code><code class=\"descname\">ConstrainedTissueClassifier</code><a class=\"headerlink\" href=\"#dipy.tracking.local.ConstrainedTissueClassifier\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.local.tissue_classifier.TissueClassifier</span></code></p>\n<p>Abstract class that takes as input included and excluded tissue maps.\nThe \u2018include_map\u2019 defines when the streamline reached a \u2018valid\u2019 stopping\nregion (e.g. gray matter partial volume estimation (PVE) map) and the\n\u2018exclude_map\u2019 defines when the streamline reached an \u2018invalid\u2019 stopping\nregion (e.g. corticospinal fluid PVE map). The background of the anatomical\nimage should be added to the \u2018include_map\u2019 to keep streamlines exiting the\nbrain (e.g. through the brain stem).</p>\n<dl class=\"docutils\">\n<dt>cdef:</dt>\n<dd>double interp_out_double[1]\ndouble[:]  interp_out_view = interp_out_view\ndouble[:, :, :] include_map, exclude_map</dd>\n</dl>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.ConstrainedTissueClassifier.from_pve\" title=\"dipy.tracking.local.ConstrainedTissueClassifier.from_pve\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">from_pve</span></code></a></td>\n<td>ConstrainedTissueClassifier from partial volume fraction (PVE) maps.</td>\n</tr>\n</tbody>\n</table>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"60%\" />\n<col width=\"40%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>check_point</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>get_exclude</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>get_include</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.ConstrainedTissueClassifier.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.ConstrainedTissueClassifier.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.ConstrainedTissueClassifier.from_pve\">\n<code class=\"descname\">from_pve</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.ConstrainedTissueClassifier.from_pve\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>ConstrainedTissueClassifier from partial volume fraction (PVE)\nmaps.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>wm_map</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">The partial volume fraction of white matter at each voxel.</p>\n</dd>\n<dt><strong>gm_map</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">The partial volume fraction of gray matter at each voxel.</p>\n</dd>\n<dt><strong>csf_map</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">The partial volume fraction of corticospinal fluid at each\nvoxel.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.ConstrainedTissueClassifier.get_exclude\">\n<code class=\"descname\">get_exclude</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.ConstrainedTissueClassifier.get_exclude\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.ConstrainedTissueClassifier.get_include\">\n<code class=\"descname\">get_include</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.ConstrainedTissueClassifier.get_include\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"directiongetter\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.DirectionGetter\" title=\"dipy.tracking.local.DirectionGetter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">DirectionGetter</span></code></a><a class=\"headerlink\" href=\"#directiongetter\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.DirectionGetter\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.</code><code class=\"descname\">DirectionGetter</code><a class=\"headerlink\" href=\"#dipy.tracking.local.DirectionGetter\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"68%\" />\n<col width=\"32%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>get_direction</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>initial_direction</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.DirectionGetter.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.DirectionGetter.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.DirectionGetter.get_direction\">\n<code class=\"descname\">get_direction</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.DirectionGetter.get_direction\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.DirectionGetter.initial_direction\">\n<code class=\"descname\">initial_direction</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.DirectionGetter.initial_direction\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"localtracking\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.LocalTracking\" title=\"dipy.tracking.local.LocalTracking\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">LocalTracking</span></code></a><a class=\"headerlink\" href=\"#localtracking\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.LocalTracking\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.</code><code class=\"descname\">LocalTracking</code><span class=\"sig-paren\">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>fixedstep=True</em>, <em>return_all=True</em>, <em>random_seed=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.LocalTracking\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.LocalTracking.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>fixedstep=True</em>, <em>return_all=True</em>, <em>random_seed=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.LocalTracking.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Creates streamlines by using local fiber-tracking.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>direction_getter</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">instance of DirectionGetter</span></dt>\n<dd><p class=\"first last\">Used to get directions for fiber tracking.</p>\n</dd>\n<dt><strong>tissue_classifier</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">instance of TissueClassifier</span></dt>\n<dd><p class=\"first last\">Identifies endpoints and invalid points to inform tracking.</p>\n</dd>\n<dt><strong>seeds</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (N, 3)</span></dt>\n<dd><p class=\"first last\">Points to seed the tracking. Seed points should be given in point\nspace of the track (see <code class=\"docutils literal notranslate\"><span class=\"pre\">affine</span></code>).</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (4, 4)</span></dt>\n<dd><p class=\"first last\">Coordinate space for the streamline point with respect to voxel\nindices of input data. This affine can contain scaling, rotational,\nand translational components but should not contain any shearing.\nAn identity matrix can be used to generate streamlines in \u201cvoxel\ncoordinates\u201d as long as isotropic voxels were used to acquire the\ndata.</p>\n</dd>\n<dt><strong>step_size</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Step size used for tracking.</p>\n</dd>\n<dt><strong>max_cross</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int or None</span></dt>\n<dd><p class=\"first last\">The maximum number of direction to track from each seed in crossing\nvoxels. By default all initial directions are tracked.</p>\n</dd>\n<dt><strong>maxlen</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Maximum number of steps to track from seed. Used to prevent\ninfinite loops.</p>\n</dd>\n<dt><strong>fixedstep</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">If true, a fixed stepsize is used, otherwise a variable step size\nis used.</p>\n</dd>\n<dt><strong>return_all</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">If true, return all generated streamlines, otherwise only\nstreamlines reaching end points or exiting the image.</p>\n</dd>\n<dt><strong>random_seed</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">The seed for the random seed generator (numpy.random.seed and\nrandom.seed).</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"particlefilteringtracking\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.ParticleFilteringTracking\" title=\"dipy.tracking.local.ParticleFilteringTracking\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ParticleFilteringTracking</span></code></a><a class=\"headerlink\" href=\"#particlefilteringtracking\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.ParticleFilteringTracking\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.</code><code class=\"descname\">ParticleFilteringTracking</code><span class=\"sig-paren\">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>pft_back_tracking_dist=2</em>, <em>pft_front_tracking_dist=1</em>, <em>pft_max_trial=20</em>, <em>particle_count=15</em>, <em>return_all=True</em>, <em>random_seed=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.ParticleFilteringTracking\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.LocalTracking\" title=\"dipy.tracking.local.localtracking.LocalTracking\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.local.localtracking.LocalTracking</span></code></a></p>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.ParticleFilteringTracking.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>pft_back_tracking_dist=2</em>, <em>pft_front_tracking_dist=1</em>, <em>pft_max_trial=20</em>, <em>particle_count=15</em>, <em>return_all=True</em>, <em>random_seed=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.ParticleFilteringTracking.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>A streamline generator using the particle filtering tractography\nmethod <a class=\"reference internal\" href=\"#r687d7edf9033-1\" id=\"id33\">[1]</a>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>direction_getter</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">instance of ProbabilisticDirectionGetter</span></dt>\n<dd><p class=\"first last\">Used to get directions for fiber tracking.</p>\n</dd>\n<dt><strong>tissue_classifier</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">instance of ConstrainedTissueClassifier</span></dt>\n<dd><p class=\"first last\">Identifies endpoints and invalid points to inform tracking.</p>\n</dd>\n<dt><strong>seeds</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (N, 3)</span></dt>\n<dd><p class=\"first last\">Points to seed the tracking. Seed points should be given in point\nspace of the track (see <code class=\"docutils literal notranslate\"><span class=\"pre\">affine</span></code>).</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (4, 4)</span></dt>\n<dd><p class=\"first last\">Coordinate space for the streamline point with respect to voxel\nindices of input data. This affine can contain scaling, rotational,\nand translational components but should not contain any shearing.\nAn identity matrix can be used to generate streamlines in \u201cvoxel\ncoordinates\u201d as long as isotropic voxels were used to acquire the\ndata.</p>\n</dd>\n<dt><strong>step_size</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Step size used for tracking.</p>\n</dd>\n<dt><strong>max_cross</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int or None</span></dt>\n<dd><p class=\"first last\">The maximum number of direction to track from each seed in crossing\nvoxels. By default all initial directions are tracked.</p>\n</dd>\n<dt><strong>maxlen</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Maximum number of steps to track from seed. Used to prevent\ninfinite loops.</p>\n</dd>\n<dt><strong>pft_back_tracking_dist</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Distance in mm to back track before starting the particle filtering\ntractography. The total particle filtering tractography distance is\nequal to back_tracking_dist + front_tracking_dist.\nBy default this is set to 2 mm.</p>\n</dd>\n<dt><strong>pft_front_tracking_dist</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Distance in mm to run the particle filtering tractography after the\nthe back track distance. The total particle filtering tractography\ndistance is equal to back_tracking_dist + front_tracking_dist. By\ndefault this is set to 1 mm.</p>\n</dd>\n<dt><strong>pft_max_trial</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Maximum number of trial for the particle filtering tractography\n(Prevents infinite loops).</p>\n</dd>\n<dt><strong>particle_count</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of particles to use in the particle filter.</p>\n</dd>\n<dt><strong>return_all</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">If true, return all generated streamlines, otherwise only\nstreamlines reaching end points or exiting the image.</p>\n</dd>\n<dt><strong>random_seed</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">The seed for the random seed generator (numpy.random.seed and\nrandom.seed).</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r687d7edf9033-1\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[1]</td><td><em>(<a class=\"fn-backref\" href=\"#id33\">1</a>, <a class=\"fn-backref\" href=\"#id34\">2</a>)</em> Girard, G., Whittingstall, K., Deriche, R., &amp; Descoteaux, M.\nTowards quantitative connectivity analysis: reducing\ntractography biases. NeuroImage, 98, 266-278, 2014.</td></tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"thresholdtissueclassifier\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.ThresholdTissueClassifier\" title=\"dipy.tracking.local.ThresholdTissueClassifier\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ThresholdTissueClassifier</span></code></a><a class=\"headerlink\" href=\"#thresholdtissueclassifier\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.ThresholdTissueClassifier\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.</code><code class=\"descname\">ThresholdTissueClassifier</code><a class=\"headerlink\" href=\"#dipy.tracking.local.ThresholdTissueClassifier\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.local.tissue_classifier.TissueClassifier</span></code></p>\n<p># Declarations from tissue_classifier.pxd bellow\ncdef:</p>\n<blockquote>\n<div>double threshold, interp_out_double[1]\ndouble[:]  interp_out_view = interp_out_view\ndouble[:, :, :] metric_map</div></blockquote>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"60%\" />\n<col width=\"40%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>check_point</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.ThresholdTissueClassifier.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.ThresholdTissueClassifier.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"tissueclassifier\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.TissueClassifier\" title=\"dipy.tracking.local.TissueClassifier\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">TissueClassifier</span></code></a><a class=\"headerlink\" href=\"#tissueclassifier\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.TissueClassifier\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.</code><code class=\"descname\">TissueClassifier</code><a class=\"headerlink\" href=\"#dipy.tracking.local.TissueClassifier\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"60%\" />\n<col width=\"40%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>check_point</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.TissueClassifier.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.TissueClassifier.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.TissueClassifier.check_point\">\n<code class=\"descname\">check_point</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.TissueClassifier.check_point\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"bunch\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.Bunch\" title=\"dipy.tracking.local.localtracking.Bunch\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Bunch</span></code></a><a class=\"headerlink\" href=\"#bunch\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.localtracking.Bunch\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.localtracking.</code><code class=\"descname\">Bunch</code><span class=\"sig-paren\">(</span><em>**kwds</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.Bunch\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.localtracking.Bunch.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>**kwds</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.Bunch.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>A \u2018bunch\u2019 of values (a replacement of Enum)</p>\n<p>This is a temporary replacement of Enum, which is not available\non all versions of Python 2</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id35\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.ConstrainedTissueClassifier\" title=\"dipy.tracking.local.localtracking.ConstrainedTissueClassifier\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ConstrainedTissueClassifier</span></code></a><a class=\"headerlink\" href=\"#id35\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.localtracking.ConstrainedTissueClassifier\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.localtracking.</code><code class=\"descname\">ConstrainedTissueClassifier</code><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.ConstrainedTissueClassifier\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.local.tissue_classifier.TissueClassifier</span></code></p>\n<p>Abstract class that takes as input included and excluded tissue maps.\nThe \u2018include_map\u2019 defines when the streamline reached a \u2018valid\u2019 stopping\nregion (e.g. gray matter partial volume estimation (PVE) map) and the\n\u2018exclude_map\u2019 defines when the streamline reached an \u2018invalid\u2019 stopping\nregion (e.g. corticospinal fluid PVE map). The background of the anatomical\nimage should be added to the \u2018include_map\u2019 to keep streamlines exiting the\nbrain (e.g. through the brain stem).</p>\n<dl class=\"docutils\">\n<dt>cdef:</dt>\n<dd>double interp_out_double[1]\ndouble[:]  interp_out_view = interp_out_view\ndouble[:, :, :] include_map, exclude_map</dd>\n</dl>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.ConstrainedTissueClassifier.from_pve\" title=\"dipy.tracking.local.localtracking.ConstrainedTissueClassifier.from_pve\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">from_pve</span></code></a></td>\n<td>ConstrainedTissueClassifier from partial volume fraction (PVE) maps.</td>\n</tr>\n</tbody>\n</table>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"60%\" />\n<col width=\"40%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>check_point</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><strong>get_exclude</strong></td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><strong>get_include</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.localtracking.ConstrainedTissueClassifier.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.ConstrainedTissueClassifier.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.localtracking.ConstrainedTissueClassifier.from_pve\">\n<code class=\"descname\">from_pve</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.ConstrainedTissueClassifier.from_pve\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>ConstrainedTissueClassifier from partial volume fraction (PVE)\nmaps.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>wm_map</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">The partial volume fraction of white matter at each voxel.</p>\n</dd>\n<dt><strong>gm_map</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">The partial volume fraction of gray matter at each voxel.</p>\n</dd>\n<dt><strong>csf_map</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">The partial volume fraction of corticospinal fluid at each\nvoxel.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.localtracking.ConstrainedTissueClassifier.get_exclude\">\n<code class=\"descname\">get_exclude</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.ConstrainedTissueClassifier.get_exclude\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.localtracking.ConstrainedTissueClassifier.get_include\">\n<code class=\"descname\">get_include</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.ConstrainedTissueClassifier.get_include\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id36\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.LocalTracking\" title=\"dipy.tracking.local.localtracking.LocalTracking\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">LocalTracking</span></code></a><a class=\"headerlink\" href=\"#id36\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.localtracking.LocalTracking\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.localtracking.</code><code class=\"descname\">LocalTracking</code><span class=\"sig-paren\">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>fixedstep=True</em>, <em>return_all=True</em>, <em>random_seed=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.LocalTracking\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.localtracking.LocalTracking.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>fixedstep=True</em>, <em>return_all=True</em>, <em>random_seed=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.LocalTracking.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Creates streamlines by using local fiber-tracking.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>direction_getter</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">instance of DirectionGetter</span></dt>\n<dd><p class=\"first last\">Used to get directions for fiber tracking.</p>\n</dd>\n<dt><strong>tissue_classifier</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">instance of TissueClassifier</span></dt>\n<dd><p class=\"first last\">Identifies endpoints and invalid points to inform tracking.</p>\n</dd>\n<dt><strong>seeds</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (N, 3)</span></dt>\n<dd><p class=\"first last\">Points to seed the tracking. Seed points should be given in point\nspace of the track (see <code class=\"docutils literal notranslate\"><span class=\"pre\">affine</span></code>).</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (4, 4)</span></dt>\n<dd><p class=\"first last\">Coordinate space for the streamline point with respect to voxel\nindices of input data. This affine can contain scaling, rotational,\nand translational components but should not contain any shearing.\nAn identity matrix can be used to generate streamlines in \u201cvoxel\ncoordinates\u201d as long as isotropic voxels were used to acquire the\ndata.</p>\n</dd>\n<dt><strong>step_size</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Step size used for tracking.</p>\n</dd>\n<dt><strong>max_cross</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int or None</span></dt>\n<dd><p class=\"first last\">The maximum number of direction to track from each seed in crossing\nvoxels. By default all initial directions are tracked.</p>\n</dd>\n<dt><strong>maxlen</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Maximum number of steps to track from seed. Used to prevent\ninfinite loops.</p>\n</dd>\n<dt><strong>fixedstep</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">If true, a fixed stepsize is used, otherwise a variable step size\nis used.</p>\n</dd>\n<dt><strong>return_all</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">If true, return all generated streamlines, otherwise only\nstreamlines reaching end points or exiting the image.</p>\n</dd>\n<dt><strong>random_seed</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">The seed for the random seed generator (numpy.random.seed and\nrandom.seed).</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id37\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.ParticleFilteringTracking\" title=\"dipy.tracking.local.localtracking.ParticleFilteringTracking\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ParticleFilteringTracking</span></code></a><a class=\"headerlink\" href=\"#id37\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.local.localtracking.ParticleFilteringTracking\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.local.localtracking.</code><code class=\"descname\">ParticleFilteringTracking</code><span class=\"sig-paren\">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>pft_back_tracking_dist=2</em>, <em>pft_front_tracking_dist=1</em>, <em>pft_max_trial=20</em>, <em>particle_count=15</em>, <em>return_all=True</em>, <em>random_seed=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.ParticleFilteringTracking\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference internal\" href=\"#dipy.tracking.local.localtracking.LocalTracking\" title=\"dipy.tracking.local.localtracking.LocalTracking\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.local.localtracking.LocalTracking</span></code></a></p>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.local.localtracking.ParticleFilteringTracking.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>direction_getter</em>, <em>tissue_classifier</em>, <em>seeds</em>, <em>affine</em>, <em>step_size</em>, <em>max_cross=None</em>, <em>maxlen=500</em>, <em>pft_back_tracking_dist=2</em>, <em>pft_front_tracking_dist=1</em>, <em>pft_max_trial=20</em>, <em>particle_count=15</em>, <em>return_all=True</em>, <em>random_seed=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.ParticleFilteringTracking.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>A streamline generator using the particle filtering tractography\nmethod <a class=\"reference internal\" href=\"#rdee9e9aa40f7-1\" id=\"id38\">[1]</a>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>direction_getter</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">instance of ProbabilisticDirectionGetter</span></dt>\n<dd><p class=\"first last\">Used to get directions for fiber tracking.</p>\n</dd>\n<dt><strong>tissue_classifier</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">instance of ConstrainedTissueClassifier</span></dt>\n<dd><p class=\"first last\">Identifies endpoints and invalid points to inform tracking.</p>\n</dd>\n<dt><strong>seeds</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (N, 3)</span></dt>\n<dd><p class=\"first last\">Points to seed the tracking. Seed points should be given in point\nspace of the track (see <code class=\"docutils literal notranslate\"><span class=\"pre\">affine</span></code>).</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (4, 4)</span></dt>\n<dd><p class=\"first last\">Coordinate space for the streamline point with respect to voxel\nindices of input data. This affine can contain scaling, rotational,\nand translational components but should not contain any shearing.\nAn identity matrix can be used to generate streamlines in \u201cvoxel\ncoordinates\u201d as long as isotropic voxels were used to acquire the\ndata.</p>\n</dd>\n<dt><strong>step_size</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Step size used for tracking.</p>\n</dd>\n<dt><strong>max_cross</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int or None</span></dt>\n<dd><p class=\"first last\">The maximum number of direction to track from each seed in crossing\nvoxels. By default all initial directions are tracked.</p>\n</dd>\n<dt><strong>maxlen</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Maximum number of steps to track from seed. Used to prevent\ninfinite loops.</p>\n</dd>\n<dt><strong>pft_back_tracking_dist</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Distance in mm to back track before starting the particle filtering\ntractography. The total particle filtering tractography distance is\nequal to back_tracking_dist + front_tracking_dist.\nBy default this is set to 2 mm.</p>\n</dd>\n<dt><strong>pft_front_tracking_dist</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Distance in mm to run the particle filtering tractography after the\nthe back track distance. The total particle filtering tractography\ndistance is equal to back_tracking_dist + front_tracking_dist. By\ndefault this is set to 1 mm.</p>\n</dd>\n<dt><strong>pft_max_trial</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Maximum number of trial for the particle filtering tractography\n(Prevents infinite loops).</p>\n</dd>\n<dt><strong>particle_count</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of particles to use in the particle filter.</p>\n</dd>\n<dt><strong>return_all</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">If true, return all generated streamlines, otherwise only\nstreamlines reaching end points or exiting the image.</p>\n</dd>\n<dt><strong>random_seed</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">The seed for the random seed generator (numpy.random.seed and\nrandom.seed).</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"rdee9e9aa40f7-1\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[1]</td><td><em>(<a class=\"fn-backref\" href=\"#id38\">1</a>, <a class=\"fn-backref\" href=\"#id39\">2</a>)</em> Girard, G., Whittingstall, K., Deriche, R., &amp; Descoteaux, M.\nTowards quantitative connectivity analysis: reducing\ntractography biases. NeuroImage, 98, 266-278, 2014.</td></tr>\n</tbody>\n</table>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"local-tracker\">\n<h3>local_tracker<a class=\"headerlink\" href=\"#local-tracker\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.local.localtracking.local_tracker\">\n<code class=\"descclassname\">dipy.tracking.local.localtracking.</code><code class=\"descname\">local_tracker</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.local_tracker\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Tracks one direction from a seed.</p>\n<p>This function is the main workhorse of the <code class=\"docutils literal notranslate\"><span class=\"pre\">LocalTracking</span></code> class defined\nin <code class=\"docutils literal notranslate\"><span class=\"pre\">dipy.tracking.local.localtracking</span></code>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>dg</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">DirectionGetter</span></dt>\n<dd><p class=\"first last\">Used to choosing tracking directions.</p>\n</dd>\n<dt><strong>tc</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">TissueClassifier</span></dt>\n<dd><p class=\"first last\">Used to check tissue type along path.</p>\n</dd>\n<dt><strong>seed_pos</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float, 1d, (3,)</span></dt>\n<dd><p class=\"first last\">First point of the (partial) streamline.</p>\n</dd>\n<dt><strong>first_step</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float, 1d, (3,)</span></dt>\n<dd><p class=\"first last\">Initial seeding direction. Used as <code class=\"docutils literal notranslate\"><span class=\"pre\">prev_dir</span></code> for selecting the step\ndirection from the seed point.</p>\n</dd>\n<dt><strong>voxel_size</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float, 1d, (3,)</span></dt>\n<dd><p class=\"first last\">Size of voxels in the data set.</p>\n</dd>\n<dt><strong>streamline</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float, 2d, (N, 3)</span></dt>\n<dd><p class=\"first last\">Output of tracking will be put into this array. The length of this\narray, <code class=\"docutils literal notranslate\"><span class=\"pre\">N</span></code>, will set the maximum allowable length of the streamline.</p>\n</dd>\n<dt><strong>step_size</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Size of tracking steps in mm if <code class=\"docutils literal notranslate\"><span class=\"pre\">fixed_step</span></code>.</p>\n</dd>\n<dt><strong>fixedstep</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">If true, a fixed step_size is used, otherwise a variable step size is\nused.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>end</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Length of the tracked streamline</p>\n</dd>\n<dt><strong>tissue_class</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">TissueClass</span></dt>\n<dd><p class=\"first last\">Ending state of the streamlines as determined by the TissueClassifier.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"pft-tracker\">\n<h3>pft_tracker<a class=\"headerlink\" href=\"#pft-tracker\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.local.localtracking.pft_tracker\">\n<code class=\"descclassname\">dipy.tracking.local.localtracking.</code><code class=\"descname\">pft_tracker</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.local.localtracking.pft_tracker\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Tracks one direction from a seed using the particle filtering algorithm.</p>\n<p>This function is the main workhorse of the <code class=\"docutils literal notranslate\"><span class=\"pre\">ParticleFilteringTracking</span></code>\nclass defined in <code class=\"docutils literal notranslate\"><span class=\"pre\">dipy.tracking.local.localtracking</span></code>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>dg</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">DirectionGetter</span></dt>\n<dd><p class=\"first last\">Used to choosing tracking directions.</p>\n</dd>\n<dt><strong>tc</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">TissueClassifier</span></dt>\n<dd><p class=\"first last\">Used to check tissue type along path.</p>\n</dd>\n<dt><strong>seed_pos</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float, 1d, (3,)</span></dt>\n<dd><p class=\"first last\">First point of the (partial) streamline.</p>\n</dd>\n<dt><strong>first_step</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float, 1d, (3,)</span></dt>\n<dd><p class=\"first last\">Initial seeding direction. Used as <code class=\"docutils literal notranslate\"><span class=\"pre\">prev_dir</span></code> for selecting the step\ndirection from the seed point.</p>\n</dd>\n<dt><strong>voxel_size</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float, 1d, (3,)</span></dt>\n<dd><p class=\"first last\">Size of voxels in the data set.</p>\n</dd>\n<dt><strong>streamline</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float, 2d, (N, 3)</span></dt>\n<dd><p class=\"first last\">Output of tracking will be put into this array. The length of this\narray, <code class=\"docutils literal notranslate\"><span class=\"pre\">N</span></code>, will set the maximum allowable length of the streamline.</p>\n</dd>\n<dt><strong>directions</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float, 2d, (N, 3)</span></dt>\n<dd><p class=\"first last\">Output of tracking directions will be put into this array. The length\nof this array, <code class=\"docutils literal notranslate\"><span class=\"pre\">N</span></code>, will set the maximum allowable length of the\nstreamline.</p>\n</dd>\n<dt><strong>step_size</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Size of tracking steps in mm if <code class=\"docutils literal notranslate\"><span class=\"pre\">fixed_step</span></code>.</p>\n</dd>\n<dt><strong>pft_max_nbr_back_steps</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of tracking steps to back track before starting the particle\nfiltering tractography.</p>\n</dd>\n<dt><strong>pft_max_nbr_front_steps</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of additional tracking steps to track.</p>\n</dd>\n<dt><strong>pft_max_trials</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Maximum number of trials for the particle filtering tractography\n(Prevents infinite loops).</p>\n</dd>\n<dt><strong>particle_count</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of particles to use in the particle filter.</p>\n</dd>\n<dt><strong>particle_paths</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float, 4d, (2, particle_count, pft_max_steps, 3)</span></dt>\n<dd><p class=\"first last\">Temporary array for paths followed by all particles.</p>\n</dd>\n<dt><strong>particle_dirs</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float, 4d, (2, particle_count, pft_max_steps, 3)</span></dt>\n<dd><p class=\"first last\">Temporary array for directions followed by particles.</p>\n</dd>\n<dt><strong>particle_weights</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float, 1d (particle_count)</span></dt>\n<dd><p class=\"first last\">Temporary array for the weights of particles.</p>\n</dd>\n<dt><strong>particle_steps</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float, (2, particle_count)</span></dt>\n<dd><p class=\"first last\">Temporary array for the number of steps of particles.</p>\n</dd>\n<dt><strong>particle_tissue_classes</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, float, (2, particle_count)</span></dt>\n<dd><p class=\"first last\">Temporary array for the tissue classes of particles.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>end</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Length of the tracked streamline</p>\n</dd>\n<dt><strong>tissue_class</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">TissueClass</span></dt>\n<dd><p class=\"first last\">Ending state of the streamlines as determined by the TissueClassifier.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"xrange\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.metrics.xrange\" title=\"dipy.tracking.metrics.xrange\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">xrange</span></code></a><a class=\"headerlink\" href=\"#xrange\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"attribute\">\n<dt id=\"dipy.tracking.metrics.xrange\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">xrange</code><a class=\"headerlink\" href=\"#dipy.tracking.metrics.xrange\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>alias of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">builtins.range</span></code></p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"arbitrarypoint\">\n<h3>arbitrarypoint<a class=\"headerlink\" href=\"#arbitrarypoint\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.arbitrarypoint\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">arbitrarypoint</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>distance</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.arbitrarypoint\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Select an arbitrary point along distance on the track (curve)</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like shape (N,3)</span></dt>\n<dd><p class=\"first last\">array representing x,y,z of N points in a track</p>\n</dd>\n<dt><strong>distance</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">float representing distance travelled from the xyz[0] point of\nthe curve along the curve.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>ap</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array shape (3,)</span></dt>\n<dd><p class=\"first last\">Arbitrary point of line, such that, if the arbitrary point is not\na point in <cite>xyz</cite>, then we take the interpolation between the two\nnearest <cite>xyz</cite> points.  If <cite>xyz</cite> is empty, return a ValueError</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">arbitrarypoint</span><span class=\"p\">,</span> <span class=\"n\">length</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ap</span><span class=\"o\">=</span><span class=\"n\">arbitrarypoint</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"mi\">3</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"bytes\">\n<h3>bytes<a class=\"headerlink\" href=\"#bytes\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.bytes\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">bytes</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.bytes\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Size of track in bytes.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like shape (N,3)</span></dt>\n<dd><p class=\"first last\">Array representing x,y,z of N points in a track.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>b</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of bytes.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"center-of-mass\">\n<h3>center_of_mass<a class=\"headerlink\" href=\"#center-of-mass\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.center_of_mass\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">center_of_mass</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.center_of_mass\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Center of mass of streamline</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like shape (N,3)</span></dt>\n<dd><p class=\"first last\">array representing x,y,z of N points in a track</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>com</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array shape (3,)</span></dt>\n<dd><p class=\"first last\">center of mass of streamline</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">center_of_mass</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">center_of_mass</span><span class=\"p\">([])</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n   <span class=\"c\">...</span>\n<span class=\"gr\">ValueError</span>: <span class=\"n\">xyz array cannot be empty</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">center_of_mass</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"go\">array([ 1.,  1.,  1.])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">center_of_mass</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 1.,  1.,  1.])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"downsample\">\n<h3>downsample<a class=\"headerlink\" href=\"#downsample\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.downsample\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">downsample</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>n_pols=3</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.downsample\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>downsample for a specific number of points along the curve/track</p>\n<p>Uses the length of the curve. It works in a similar fashion to\nmidpoint and arbitrarypoint but it also reduces the number of segments\nof a track.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like shape (N,3)</span></dt>\n<dd><p class=\"first last\">array representing x,y,z of N points in a track</p>\n</dd>\n<dt><strong>n_pol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">integer representing number of points (poles) we need along the curve.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>xyz2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array shape (M,3)</span></dt>\n<dd><p class=\"first last\">array representing x,y,z of M points that where extrapolated. M\nshould be equal to n_pols</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># a semi-circle</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz2</span><span class=\"o\">=</span><span class=\"n\">downsample</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># a cosine</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">y</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">_</span><span class=\"o\">=</span> <span class=\"n\">downsample</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">xyz2</span><span class=\"p\">)</span>\n<span class=\"go\">3</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz3</span><span class=\"o\">=</span><span class=\"n\">downsample</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">xyz3</span><span class=\"p\">)</span>\n<span class=\"go\">10</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"endpoint\">\n<h3>endpoint<a class=\"headerlink\" href=\"#endpoint\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.endpoint\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">endpoint</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.endpoint\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape(N,3)</span></dt>\n<dd><p class=\"first last\">Track.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>ep</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape(3,)</span></dt>\n<dd><p class=\"first last\">First track point.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">endpoint</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ep</span><span class=\"o\">=</span><span class=\"n\">endpoint</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ep</span><span class=\"o\">.</span><span class=\"n\">any</span><span class=\"p\">()</span><span class=\"o\">==</span><span class=\"n\">xyz</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">any</span><span class=\"p\">()</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"frenet-serret\">\n<h3>frenet_serret<a class=\"headerlink\" href=\"#frenet-serret\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.frenet_serret\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">frenet_serret</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.frenet_serret\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Frenet-Serret Space Curve Invariants</p>\n<p>Calculates the 3 vector and 2 scalar invariants of a space curve\ndefined by vectors r = (x,y,z).  If z is omitted (i.e. the array xyz has\nshape (N,2)), then the curve is\nonly 2D (planar), but the equations are still valid.</p>\n<p>Similar to\n<a class=\"reference external\" href=\"http://www.mathworks.com/matlabcentral/fileexchange/11169\">http://www.mathworks.com/matlabcentral/fileexchange/11169</a></p>\n<p>In the following equations the prime (<span class=\"math notranslate nohighlight\">\\('\\)</span>) indicates differentiation\nwith respect to the parameter <span class=\"math notranslate nohighlight\">\\(s\\)</span> of a parametrised curve <span class=\"math notranslate nohighlight\">\\(\\mathbf{r}(s)\\)</span>.</p>\n<ul class=\"simple\">\n<li><span class=\"math notranslate nohighlight\">\\(\\mathbf{T}=\\mathbf{r'}/|\\mathbf{r'}|\\qquad\\)</span> (Tangent vector)}</li>\n<li><span class=\"math notranslate nohighlight\">\\(\\mathbf{N}=\\mathbf{T'}/|\\mathbf{T'}|\\qquad\\)</span> (Normal vector)</li>\n<li><span class=\"math notranslate nohighlight\">\\(\\mathbf{B}=\\mathbf{T}\\times\\mathbf{N}\\qquad\\)</span> (Binormal vector)</li>\n<li><span class=\"math notranslate nohighlight\">\\(\\kappa=|\\mathbf{T'}|\\qquad\\)</span> (Curvature)</li>\n<li><span class=\"math notranslate nohighlight\">\\(\\mathrm{\\tau}=-\\mathbf{B'}\\cdot\\mathbf{N}\\)</span> (Torsion)</li>\n</ul>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like shape (N,3)</span></dt>\n<dd><p class=\"first last\">array representing x,y,z of N points in a track</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>T</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array shape (N,3)</span></dt>\n<dd><p class=\"first last\">array representing the tangent of the curve xyz</p>\n</dd>\n<dt><strong>N</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array shape (N,3)</span></dt>\n<dd><p class=\"first last\">array representing the normal of the curve xyz</p>\n</dd>\n<dt><strong>B</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array shape (N,3)</span></dt>\n<dd><p class=\"first last\">array representing the binormal of the curve xyz</p>\n</dd>\n<dt><strong>k</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array shape (N,1)</span></dt>\n<dd><p class=\"first last\">array representing the curvature of the curve xyz</p>\n</dd>\n<dt><strong>t</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array shape (N,1)</span></dt>\n<dd><p class=\"first last\">array representing the torsion of the curve xyz</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<p>Create a helix and calculate its tangent, normal, binormal, curvature\nand torsion</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking</span> <span class=\"k\">import</span> <span class=\"n\">metrics</span> <span class=\"k\">as</span> <span class=\"n\">tm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"n\">theta</span><span class=\"o\">/</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">T</span><span class=\"p\">,</span><span class=\"n\">N</span><span class=\"p\">,</span><span class=\"n\">B</span><span class=\"p\">,</span><span class=\"n\">k</span><span class=\"p\">,</span><span class=\"n\">t</span><span class=\"o\">=</span><span class=\"n\">tm</span><span class=\"o\">.</span><span class=\"n\">frenet_serret</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"generate-combinations\">\n<h3>generate_combinations<a class=\"headerlink\" href=\"#generate-combinations\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.generate_combinations\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">generate_combinations</code><span class=\"sig-paren\">(</span><em>items</em>, <em>n</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.generate_combinations\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Combine sets of size n from items</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>items</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd></dd>\n<dt><strong>n</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>ic</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">iterator</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">generate_combinations</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ic</span><span class=\"o\">=</span><span class=\"n\">generate_combinations</span><span class=\"p\">(</span><span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">),</span><span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">ic</span><span class=\"p\">:</span> <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">)</span>\n<span class=\"go\">[0, 1]</span>\n<span class=\"go\">[0, 2]</span>\n<span class=\"go\">[1, 2]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"inside-sphere\">\n<h3>inside_sphere<a class=\"headerlink\" href=\"#inside-sphere\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.inside_sphere\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">inside_sphere</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>center</em>, <em>radius</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.inside_sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>If any point of the track is inside a sphere of a specified\ncenter and radius return True otherwise False.  Mathematicaly this\ncan be simply described by <span class=\"math notranslate nohighlight\">\\(|x-c|\\le r\\)</span> where <span class=\"math notranslate nohighlight\">\\(x\\)</span> a point <span class=\"math notranslate nohighlight\">\\(c\\)</span> the\ncenter of the sphere and <span class=\"math notranslate nohighlight\">\\(r\\)</span> the radius of the sphere.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (N,3)</span></dt>\n<dd><p class=\"first last\">representing x,y,z of the N points of the track</p>\n</dd>\n<dt><strong>center</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (3,)</span></dt>\n<dd><p class=\"first last\">center of the sphere</p>\n</dd>\n<dt><strong>radius</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">radius of the sphere</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>tf</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{True,False}</span></dt>\n<dd><p class=\"first last\">Whether point is inside sphere.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">inside_sphere</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">line</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">(([</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sph_cent</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sph_radius</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">inside_sphere</span><span class=\"p\">(</span><span class=\"n\">line</span><span class=\"p\">,</span><span class=\"n\">sph_cent</span><span class=\"p\">,</span><span class=\"n\">sph_radius</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"inside-sphere-points\">\n<h3>inside_sphere_points<a class=\"headerlink\" href=\"#inside-sphere-points\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.inside_sphere_points\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">inside_sphere_points</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>center</em>, <em>radius</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.inside_sphere_points\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>If a track intersects with a sphere of a specified center and\nradius return the points that are inside the sphere otherwise False.\nMathematicaly this can be simply described by <span class=\"math notranslate nohighlight\">\\(|x-c| \\le r\\)</span> where <span class=\"math notranslate nohighlight\">\\(x\\)</span>\na point <span class=\"math notranslate nohighlight\">\\(c\\)</span> the center of the sphere and <span class=\"math notranslate nohighlight\">\\(r\\)</span> the radius of the\nsphere.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (N,3)</span></dt>\n<dd><p class=\"first last\">representing x,y,z of the N points of the track</p>\n</dd>\n<dt><strong>center</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (3,)</span></dt>\n<dd><p class=\"first last\">center of the sphere</p>\n</dd>\n<dt><strong>radius</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">radius of the sphere</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>xyzn</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape(M,3)</span></dt>\n<dd><p class=\"first last\">array representing x,y,z of the M points inside the sphere</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">inside_sphere_points</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">line</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">(([</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sph_cent</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sph_radius</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">inside_sphere_points</span><span class=\"p\">(</span><span class=\"n\">line</span><span class=\"p\">,</span><span class=\"n\">sph_cent</span><span class=\"p\">,</span><span class=\"n\">sph_radius</span><span class=\"p\">)</span>\n<span class=\"go\">array([[1, 1, 1]])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"intersect-sphere\">\n<h3>intersect_sphere<a class=\"headerlink\" href=\"#intersect-sphere\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.intersect_sphere\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">intersect_sphere</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>center</em>, <em>radius</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.intersect_sphere\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>If any segment of the track is intersecting with a sphere of\nspecific center and radius return True otherwise False</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (N,3)</span></dt>\n<dd><p class=\"first last\">representing x,y,z of the N points of the track</p>\n</dd>\n<dt><strong>center</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (3,)</span></dt>\n<dd><p class=\"first last\">center of the sphere</p>\n</dd>\n<dt><strong>radius</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">radius of the sphere</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>tf</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{True, False}</span></dt>\n<dd><p class=\"first last\">True if track <cite>xyz</cite> intersects sphere</p>\n</dd>\n<dt><strong>&gt;&gt;&gt; from dipy.tracking.metrics import intersect_sphere</strong></dt>\n<dd></dd>\n<dt><strong>&gt;&gt;&gt; line=np.array(([0,0,0],[1,1,1],[2,2,2]))</strong></dt>\n<dd></dd>\n<dt><strong>&gt;&gt;&gt; sph_cent=np.array([1,1,1])</strong></dt>\n<dd></dd>\n<dt><strong>&gt;&gt;&gt; sph_radius = 1</strong></dt>\n<dd></dd>\n<dt><strong>&gt;&gt;&gt; intersect_sphere(line,sph_cent,sph_radius)</strong></dt>\n<dd></dd>\n<dt><strong>True</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>The ray to sphere intersection method used here is similar with\n<a class=\"reference external\" href=\"http://local.wasp.uwa.edu.au/~pbourke/geometry/sphereline/\">http://local.wasp.uwa.edu.au/~pbourke/geometry/sphereline/</a>\n<a class=\"reference external\" href=\"http://local.wasp.uwa.edu.au/~pbourke/geometry/sphereline/source.cpp\">http://local.wasp.uwa.edu.au/~pbourke/geometry/sphereline/source.cpp</a>\nwe just applied it for every segment neglecting the intersections where\nthe intersecting points are not inside the segment</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id40\">\n<h3>length<a class=\"headerlink\" href=\"#id40\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.length\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">length</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>along=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.length\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Euclidean length of track line</p>\n<p>This will give length in mm if tracks are expressed in world coordinates.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like shape (N,3)</span></dt>\n<dd><p class=\"first last\">array representing x,y,z of N points in a track</p>\n</dd>\n<dt><strong>along</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><p class=\"first last\">If True, return array giving cumulative length along track,\notherwise (default) return scalar giving total length.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>L</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">scalar or array shape (N-1,)</span></dt>\n<dd><p class=\"first last\">scalar in case of <cite>along</cite> == False, giving total length, array if\n<cite>along</cite> == True, giving cumulative lengths.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">length</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">expected_lens</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"o\">+</span><span class=\"mi\">2</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">3</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">3</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">4</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"n\">expected_lens</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">()</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">len_along</span> <span class=\"o\">=</span> <span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span> <span class=\"n\">along</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">allclose</span><span class=\"p\">(</span><span class=\"n\">len_along</span><span class=\"p\">,</span> <span class=\"n\">expected_lens</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">())</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">([])</span>\n<span class=\"go\">0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]])</span>\n<span class=\"go\">0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">([],</span> <span class=\"n\">along</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"go\">array([0])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"longest-track-bundle\">\n<h3>longest_track_bundle<a class=\"headerlink\" href=\"#longest-track-bundle\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.longest_track_bundle\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">longest_track_bundle</code><span class=\"sig-paren\">(</span><em>bundle</em>, <em>sort=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.longest_track_bundle\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return longest track or length sorted track indices in <cite>bundle</cite></p>\n<p>If <cite>sort</cite> == True, return the indices of the sorted tracks in the\nbundle, otherwise return the longest track.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>bundle</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of tracks as arrays, shape (N1,3) \u2026 (Nm,3)</p>\n</dd>\n<dt><strong>sort</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, optional</span></dt>\n<dd><p class=\"first last\">If False (default) return longest track.  If True, return length\nsorted indices for tracks in bundle</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>longest_or_indices</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">longest track - shape (N,3) -  (if <cite>sort</cite> is False), or indices\nof length sorted tracks (if <cite>sort</cite> is True)</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">longest_track_bundle</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">bundle</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]]),</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">longest_track_bundle</span><span class=\"p\">(</span><span class=\"n\">bundle</span><span class=\"p\">)</span>\n<span class=\"go\">array([[0, 0, 0],</span>\n<span class=\"go\">       [4, 4, 4]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">longest_track_bundle</span><span class=\"p\">(</span><span class=\"n\">bundle</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">)</span> \n<span class=\"go\">array([0, 1]...)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"magn\">\n<h3>magn<a class=\"headerlink\" href=\"#magn\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.magn\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">magn</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>n=1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.magn\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>magnitude of vector</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"mean-curvature\">\n<h3>mean_curvature<a class=\"headerlink\" href=\"#mean-curvature\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.mean_curvature\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">mean_curvature</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.mean_curvature\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculates the mean curvature of a curve</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like shape (N,3)</span></dt>\n<dd><p class=\"first last\">array representing x,y,z of N points in a curve</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>m</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Mean curvature.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<p>Create a straight line and a semi-circle and print their mean curvatures</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking</span> <span class=\"k\">import</span> <span class=\"n\">metrics</span> <span class=\"k\">as</span> <span class=\"n\">tm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">m</span><span class=\"o\">=</span><span class=\"n\">tm</span><span class=\"o\">.</span><span class=\"n\">mean_curvature</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span> <span class=\"c1\">#mean curvature straight line</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">_</span><span class=\"o\">=</span> <span class=\"n\">tm</span><span class=\"o\">.</span><span class=\"n\">mean_curvature</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span> <span class=\"c1\">#mean curvature for semi-circle</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"mean-orientation\">\n<h3>mean_orientation<a class=\"headerlink\" href=\"#mean-orientation\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.mean_orientation\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">mean_orientation</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.mean_orientation\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculates the mean orientation of a curve</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like shape (N,3)</span></dt>\n<dd><p class=\"first last\">array representing x,y,z of N points in a curve</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>m</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Mean orientation.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"midpoint\">\n<h3>midpoint<a class=\"headerlink\" href=\"#midpoint\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.midpoint\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">midpoint</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.midpoint\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Midpoint of track</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like shape (N,3)</span></dt>\n<dd><p class=\"first last\">array representing x,y,z of N points in a track</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>mp</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array shape (3,)</span></dt>\n<dd><p class=\"first last\">Middle point of line, such that, if L is the line length then\n<cite>np</cite> is the point such that the length xyz[0] to <cite>mp</cite> and from\n<cite>mp</cite> to xyz[-1] is L/2.  If the middle point is not a point in\n<cite>xyz</cite>, then we take the interpolation between the two nearest\n<cite>xyz</cite> points.  If <cite>xyz</cite> is empty, return a ValueError</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">midpoint</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">midpoint</span><span class=\"p\">([])</span>\n<span class=\"gt\">Traceback (most recent call last):</span>\n   <span class=\"c\">...</span>\n<span class=\"gr\">ValueError</span>: <span class=\"n\">xyz array cannot be empty</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">midpoint</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]])</span>\n<span class=\"go\">array([1, 2, 3])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">midpoint</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 1.5,  2. ,  2.5])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">midpoint</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 1.,  1.,  1.])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">midpoint</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 1.5,  0. ,  0. ])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">9</span><span class=\"p\">,</span><span class=\"mi\">7</span><span class=\"p\">],[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">9</span><span class=\"p\">,</span><span class=\"mi\">7</span><span class=\"p\">],[</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">9</span><span class=\"p\">,</span><span class=\"mi\">7</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">midpoint</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"go\">array([ 1.5,  9. ,  7. ])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"midpoint2point\">\n<h3>midpoint2point<a class=\"headerlink\" href=\"#midpoint2point\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.midpoint2point\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">midpoint2point</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>p</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.midpoint2point\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculate distance from midpoint of a curve to arbitrary point p</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like shape (N,3)</span></dt>\n<dd><p class=\"first last\">array representing x,y,z of N points in a track</p>\n</dd>\n<dt><strong>p</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array shape (3,)</span></dt>\n<dd><p class=\"first last\">array representing an arbitrary point with x,y,z coordinates in\nspace.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>d</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">a float number representing Euclidean distance</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">midpoint2point</span><span class=\"p\">,</span> <span class=\"n\">midpoint</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">dist</span><span class=\"o\">=</span><span class=\"n\">midpoint2point</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]))</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"principal-components\">\n<h3>principal_components<a class=\"headerlink\" href=\"#principal-components\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.principal_components\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">principal_components</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.principal_components\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>We use PCA to calculate the 3 principal directions for a track</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like shape (N,3)</span></dt>\n<dd><p class=\"first last\">array representing x,y,z of N points in a track</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>va</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">eigenvalues</p>\n</dd>\n<dt><strong>ve</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">eigenvectors</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">principal_components</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">va</span><span class=\"p\">,</span> <span class=\"n\">ve</span> <span class=\"o\">=</span> <span class=\"n\">principal_components</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">allclose</span><span class=\"p\">(</span><span class=\"n\">va</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mf\">0.51010101</span><span class=\"p\">,</span> <span class=\"mf\">0.09883545</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"splev\">\n<h3>splev<a class=\"headerlink\" href=\"#splev\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.splev\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">splev</code><span class=\"sig-paren\">(</span><em>x</em>, <em>tck</em>, <em>der=0</em>, <em>ext=0</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.splev\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Evaluate a B-spline or its derivatives.</p>\n<p>Given the knots and coefficients of a B-spline representation, evaluate\nthe value of the smoothing polynomial and its derivatives.  This is a\nwrapper around the FORTRAN routines splev and splder of FITPACK.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>x</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">An array of points at which to return the value of the smoothed\nspline or its derivatives.  If <cite>tck</cite> was returned from <cite>splprep</cite>,\nthen the parameter values, u should be given.</p>\n</dd>\n<dt><strong>tck</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">3-tuple or a BSpline object</span></dt>\n<dd><p class=\"first last\">If a tuple, then it should be a sequence of length 3 returned by\n<cite>splrep</cite> or <cite>splprep</cite> containing the knots, coefficients, and degree\nof the spline. (Also see Notes.)</p>\n</dd>\n<dt><strong>der</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">The order of derivative of the spline to compute (must be less than\nor equal to k).</p>\n</dd>\n<dt><strong>ext</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first\">Controls the value returned for elements of <code class=\"docutils literal notranslate\"><span class=\"pre\">x</span></code> not in the\ninterval defined by the knot sequence.</p>\n<ul class=\"simple\">\n<li>if ext=0, return the extrapolated value.</li>\n<li>if ext=1, return 0</li>\n<li>if ext=2, raise a ValueError</li>\n<li>if ext=3, return the boundary value.</li>\n</ul>\n<p class=\"last\">The default value is 0.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray or list of ndarrays</span></dt>\n<dd><p class=\"first last\">An array of values representing the spline function evaluated at\nthe points in <cite>x</cite>.  If <cite>tck</cite> was returned from <cite>splprep</cite>, then this\nis a list of arrays representing the curve in N-dimensional space.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.tracking.metrics.splprep\" title=\"dipy.tracking.metrics.splprep\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">splprep</span></code></a>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">splrep</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">sproot</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">spalde</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">splint</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">bisplrep</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">bisplev</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">BSpline</span></code></p>\n</div>\n<p class=\"rubric\">Notes</p>\n<p>Manipulating the tck-tuples directly is not recommended. In new code,\nprefer using <cite>BSpline</cite> objects.</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r123535a694f3-1\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id41\">[1]</a></td><td>C. de Boor, \u201cOn calculating with b-splines\u201d, J. Approximation\nTheory, 6, p.50-62, 1972.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r123535a694f3-2\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id42\">[2]</a></td><td>M. G. Cox, \u201cThe numerical evaluation of b-splines\u201d, J. Inst. Maths\nApplics, 10, p.134-149, 1972.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r123535a694f3-3\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id43\">[3]</a></td><td>P. Dierckx, \u201cCurve and surface fitting with splines\u201d, Monographs\non Numerical Analysis, Oxford University Press, 1993.</td></tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"spline\">\n<h3>spline<a class=\"headerlink\" href=\"#spline\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.spline\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">spline</code><span class=\"sig-paren\">(</span><em>xyz</em>, <em>s=3</em>, <em>k=2</em>, <em>nest=-1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.spline\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Generate B-splines as documented in\n<a class=\"reference external\" href=\"http://www.scipy.org/Cookbook/Interpolation\">http://www.scipy.org/Cookbook/Interpolation</a></p>\n<p>The scipy.interpolate packages wraps the netlib FITPACK routines\n(Dierckx) for calculating smoothing splines for various kinds of\ndata and geometries. Although the data is evenly spaced in this\nexample, it need not be so to use this routine.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (N,3)</span></dt>\n<dd><p class=\"first last\">array representing x,y,z of N points in 3d space</p>\n</dd>\n<dt><strong>s</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float, optional</span></dt>\n<dd><p class=\"first last\">A smoothing condition.  The amount of smoothness is determined by\nsatisfying the conditions: sum((w * (y - g))**2,axis=0) &lt;= s\nwhere g(x) is the smoothed interpolation of (x,y).  The user can\nuse s to control the tradeoff between closeness and smoothness of\nfit.  Larger satisfying the conditions: sum((w * (y -\ng))**2,axis=0) &lt;= s where g(x) is the smoothed interpolation of\n(x,y).  The user can use s to control the tradeoff between\ncloseness and smoothness of fit.  Larger s means more smoothing\nwhile smaller values of s indicate less smoothing. Recommended\nvalues of s depend on the weights, w.  If the weights represent\nthe inverse of the standard-deviation of y, then a: good s value\nshould be found in the range (m-sqrt(2*m),m+sqrt(2*m)) where m is\nthe number of datapoints in x, y, and w.</p>\n</dd>\n<dt><strong>k</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">Degree of the spline.  Cubic splines are recommended.  Even\nvalues of k should be avoided especially with a small s-value.\nfor the same set of data.  If task=-1 find the weighted least\nsquare spline for a given set of knots, t.</p>\n</dd>\n<dt><strong>nest</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">None or int, optional</span></dt>\n<dd><p class=\"first last\">An over-estimate of the total number of knots of the spline to\nhelp in determining the storage space.  None results in value\nm+2*k. -1 results in m+k+1. Always large enough is nest=m+k+1.\nDefault is -1.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>xyzn</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (M,3)</span></dt>\n<dd><p class=\"first last\">array representing x,y,z of the M points inside the sphere</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">scipy.interpolate.splprep</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">scipy.interpolate.splev</span></code></p>\n</div>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">t</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mf\">1.75</span><span class=\"o\">*</span><span class=\"mi\">2</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span><span class=\"c1\"># make ascending spiral in 3-space</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span> <span class=\"o\">=</span> <span class=\"n\">t</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">+=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">normal</span><span class=\"p\">(</span><span class=\"n\">scale</span><span class=\"o\">=</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"n\">x</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">)</span> <span class=\"c1\"># add noise</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">+=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">normal</span><span class=\"p\">(</span><span class=\"n\">scale</span><span class=\"o\">=</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"n\">y</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">+=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">normal</span><span class=\"p\">(</span><span class=\"n\">scale</span><span class=\"o\">=</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"n\">z</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyzn</span><span class=\"o\">=</span><span class=\"n\">spline</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">xyzn</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"splprep\">\n<h3>splprep<a class=\"headerlink\" href=\"#splprep\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.splprep\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">splprep</code><span class=\"sig-paren\">(</span><em>x</em>, <em>w=None</em>, <em>u=None</em>, <em>ub=None</em>, <em>ue=None</em>, <em>k=3</em>, <em>task=0</em>, <em>s=None</em>, <em>t=None</em>, <em>full_output=0</em>, <em>nest=None</em>, <em>per=0</em>, <em>quiet=1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.splprep\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Find the B-spline representation of an N-dimensional curve.</p>\n<p>Given a list of N rank-1 arrays, <cite>x</cite>, which represent a curve in\nN-dimensional space parametrized by <cite>u</cite>, find a smooth approximating\nspline curve g(<cite>u</cite>). Uses the FORTRAN routine parcur from FITPACK.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>x</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">A list of sample vector arrays representing the curve.</p>\n</dd>\n<dt><strong>w</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like, optional</span></dt>\n<dd><p class=\"first last\">Strictly positive rank-1 array of weights the same length as <cite>x[0]</cite>.\nThe weights are used in computing the weighted least-squares spline\nfit. If the errors in the <cite>x</cite> values have standard-deviation given by\nthe vector d, then <cite>w</cite> should be 1/d. Default is <code class=\"docutils literal notranslate\"><span class=\"pre\">ones(len(x[0]))</span></code>.</p>\n</dd>\n<dt><strong>u</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like, optional</span></dt>\n<dd><p class=\"first\">An array of parameter values. If not given, these values are\ncalculated automatically as <code class=\"docutils literal notranslate\"><span class=\"pre\">M</span> <span class=\"pre\">=</span> <span class=\"pre\">len(x[0])</span></code>, where</p>\n<blockquote class=\"last\">\n<div><p>v[0] = 0</p>\n<p>v[i] = v[i-1] + distance(<cite>x[i]</cite>, <cite>x[i-1]</cite>)</p>\n<p>u[i] = v[i] / v[M-1]</p>\n</div></blockquote>\n</dd>\n<dt><strong>ub, ue</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">The end-points of the parameters interval.  Defaults to\nu[0] and u[-1].</p>\n</dd>\n<dt><strong>k</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">Degree of the spline. Cubic splines are recommended.\nEven values of <cite>k</cite> should be avoided especially with a small s-value.\n<code class=\"docutils literal notranslate\"><span class=\"pre\">1</span> <span class=\"pre\">&lt;=</span> <span class=\"pre\">k</span> <span class=\"pre\">&lt;=</span> <span class=\"pre\">5</span></code>, default is 3.</p>\n</dd>\n<dt><strong>task</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">If task==0 (default), find t and c for a given smoothing factor, s.\nIf task==1, find t and c for another value of the smoothing factor, s.\nThere must have been a previous call with task=0 or task=1\nfor the same set of data.\nIf task=-1 find the weighted least square spline for a given set of\nknots, t.</p>\n</dd>\n<dt><strong>s</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float, optional</span></dt>\n<dd><p class=\"first last\">A smoothing condition.  The amount of smoothness is determined by\nsatisfying the conditions: <code class=\"docutils literal notranslate\"><span class=\"pre\">sum((w</span> <span class=\"pre\">*</span> <span class=\"pre\">(y</span> <span class=\"pre\">-</span> <span class=\"pre\">g))**2,axis=0)</span> <span class=\"pre\">&lt;=</span> <span class=\"pre\">s</span></code>,\nwhere g(x) is the smoothed interpolation of (x,y).  The user can\nuse <cite>s</cite> to control the trade-off between closeness and smoothness\nof fit.  Larger <cite>s</cite> means more smoothing while smaller values of <cite>s</cite>\nindicate less smoothing. Recommended values of <cite>s</cite> depend on the\nweights, w.  If the weights represent the inverse of the\nstandard-deviation of y, then a good <cite>s</cite> value should be found in\nthe range <code class=\"docutils literal notranslate\"><span class=\"pre\">(m-sqrt(2*m),m+sqrt(2*m))</span></code>, where m is the number of\ndata points in x, y, and w.</p>\n</dd>\n<dt><strong>t</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">The knots needed for task=-1.</p>\n</dd>\n<dt><strong>full_output</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">If non-zero, then return optional outputs.</p>\n</dd>\n<dt><strong>nest</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">An over-estimate of the total number of knots of the spline to\nhelp in determining the storage space.  By default nest=m/2.\nAlways large enough is nest=m+k+1.</p>\n</dd>\n<dt><strong>per</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">If non-zero, data points are considered periodic with period\n<code class=\"docutils literal notranslate\"><span class=\"pre\">x[m-1]</span> <span class=\"pre\">-</span> <span class=\"pre\">x[0]</span></code> and a smooth periodic spline approximation is\nreturned.  Values of <code class=\"docutils literal notranslate\"><span class=\"pre\">y[m-1]</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">w[m-1]</span></code> are not used.</p>\n</dd>\n<dt><strong>quiet</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">Non-zero to suppress messages.\nThis parameter is deprecated; use standard Python warning filters\ninstead.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>tck</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">tuple</span></dt>\n<dd><p class=\"first last\">(t,c,k) a tuple containing the vector of knots, the B-spline\ncoefficients, and the degree of the spline.</p>\n</dd>\n<dt><strong>u</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">An array of the values of the parameter.</p>\n</dd>\n<dt><strong>fp</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">The weighted sum of squared residuals of the spline approximation.</p>\n</dd>\n<dt><strong>ier</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">An integer flag about splrep success.  Success is indicated\nif ier&lt;=0. If ier in [1,2,3] an error occurred but was not raised.\nOtherwise an error is raised.</p>\n</dd>\n<dt><strong>msg</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str</span></dt>\n<dd><p class=\"first last\">A message corresponding to the integer flag, ier.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">splrep</span></code>, <a class=\"reference internal\" href=\"#dipy.tracking.metrics.splev\" title=\"dipy.tracking.metrics.splev\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">splev</span></code></a>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">sproot</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">spalde</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">splint</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">bisplrep</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">bisplev</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">UnivariateSpline</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">BivariateSpline</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">BSpline</span></code>, <code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">make_interp_spline</span></code></p>\n</div>\n<p class=\"rubric\">Notes</p>\n<p>See <cite>splev</cite> for evaluation of the spline and its derivatives.\nThe number of dimensions N must be smaller than 11.</p>\n<p>The number of coefficients in the <cite>c</cite> array is <code class=\"docutils literal notranslate\"><span class=\"pre\">k+1</span></code> less then the number\nof knots, <code class=\"docutils literal notranslate\"><span class=\"pre\">len(t)</span></code>. This is in contrast with <cite>splrep</cite>, which zero-pads\nthe array of coefficients to have the same length as the array of knots.\nThese additional coefficients are ignored by evaluation routines, <cite>splev</cite>\nand <cite>BSpline</cite>.</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"r10695a69d2a5-1\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id44\">[1]</a></td><td>P. Dierckx, \u201cAlgorithms for smoothing data with periodic and\nparametric splines, Computer Graphics and Image Processing\u201d,\n20 (1982) 171-184.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r10695a69d2a5-2\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id45\">[2]</a></td><td>P. Dierckx, \u201cAlgorithms for smoothing data with periodic and\nparametric splines\u201d, report tw55, Dept. Computer Science,\nK.U.Leuven, 1981.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"r10695a69d2a5-3\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id46\">[3]</a></td><td>P. Dierckx, \u201cCurve and surface fitting with splines\u201d, Monographs on\nNumerical Analysis, Oxford University Press, 1993.</td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<p>Generate a discretization of a limacon curve in the polar coordinates:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">phi</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">2.</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"p\">,</span> <span class=\"mi\">40</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">r</span> <span class=\"o\">=</span> <span class=\"mf\">0.5</span> <span class=\"o\">+</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">phi</span><span class=\"p\">)</span>         <span class=\"c1\"># polar coords</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">r</span> <span class=\"o\">*</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">phi</span><span class=\"p\">),</span> <span class=\"n\">r</span> <span class=\"o\">*</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">phi</span><span class=\"p\">)</span>    <span class=\"c1\"># convert to cartesian</span>\n</pre></div>\n</div>\n<p>And interpolate:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">scipy.interpolate</span> <span class=\"k\">import</span> <span class=\"n\">splprep</span><span class=\"p\">,</span> <span class=\"n\">splev</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">tck</span><span class=\"p\">,</span> <span class=\"n\">u</span> <span class=\"o\">=</span> <span class=\"n\">splprep</span><span class=\"p\">([</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">],</span> <span class=\"n\">s</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">new_points</span> <span class=\"o\">=</span> <span class=\"n\">splev</span><span class=\"p\">(</span><span class=\"n\">u</span><span class=\"p\">,</span> <span class=\"n\">tck</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Notice that (i) we force interpolation by using <cite>s=0</cite>,\n(ii) the parameterization, <code class=\"docutils literal notranslate\"><span class=\"pre\">u</span></code>, is generated automatically.\nNow plot the result:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">matplotlib.pyplot</span> <span class=\"k\">as</span> <span class=\"nn\">plt</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">fig</span><span class=\"p\">,</span> <span class=\"n\">ax</span> <span class=\"o\">=</span> <span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">subplots</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"s1\">&#39;ro&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">new_points</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">new_points</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"s1\">&#39;r-&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">show</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"startpoint\">\n<h3>startpoint<a class=\"headerlink\" href=\"#startpoint\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.startpoint\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">startpoint</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.startpoint\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>First point of the track</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape(N,3)</span></dt>\n<dd><p class=\"first last\">Track.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>sp</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape(3,)</span></dt>\n<dd><p class=\"first last\">First track point.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.metrics</span> <span class=\"k\">import</span> <span class=\"n\">startpoint</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"o\">*</span><span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">xyz</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span><span class=\"n\">y</span><span class=\"p\">,</span><span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sp</span><span class=\"o\">=</span><span class=\"n\">startpoint</span><span class=\"p\">(</span><span class=\"n\">xyz</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">sp</span><span class=\"o\">.</span><span class=\"n\">any</span><span class=\"p\">()</span><span class=\"o\">==</span><span class=\"n\">xyz</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">any</span><span class=\"p\">()</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"winding\">\n<h3>winding<a class=\"headerlink\" href=\"#winding\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.metrics.winding\">\n<code class=\"descclassname\">dipy.tracking.metrics.</code><code class=\"descname\">winding</code><span class=\"sig-paren\">(</span><em>xyz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.metrics.winding\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Total turning angle projected.</p>\n<p>Project space curve to best fitting plane. Calculate the cumulative signed\nangle between each line segment and the previous one.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>xyz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like shape (N,3)</span></dt>\n<dd><p class=\"first last\">Array representing x,y,z of N points in a track.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>a</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">scalar</span></dt>\n<dd><p class=\"first last\">Total turning angle in degrees.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"looseversion\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.streamline.LooseVersion\" title=\"dipy.tracking.streamline.LooseVersion\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">LooseVersion</span></code></a><a class=\"headerlink\" href=\"#looseversion\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.streamline.LooseVersion\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">LooseVersion</code><span class=\"sig-paren\">(</span><em>vstring=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.LooseVersion\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">distutils.version.Version</span></code></p>\n<p>Version numbering for anarchists and software realists.\nImplements the standard interface for version number classes as\ndescribed above.  A version number consists of a series of numbers,\nseparated by either periods or strings of letters.  When comparing\nversion numbers, the numeric components will be compared\nnumerically, and the alphabetic components lexically.  The following\nare all valid version numbers, in no particular order:</p>\n<blockquote>\n<div>1.5.1\n1.5.2b2\n161\n3.10a\n8.02\n3.4j\n1996.07.12\n3.2.pl0\n3.1.1.6\n2g6\n11g\n0.960923\n2.2beta29\n1.13++\n5.5.kw\n2.0b1pl0</div></blockquote>\n<p>In fact, there is no such thing as an invalid version number under\nthis scheme; the rules for comparison are simple and predictable,\nbut may not always give the results you want (for some definition\nof \u201cwant\u201d).</p>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"47%\" />\n<col width=\"53%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><strong>parse</strong></td>\n<td>&#160;</td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.streamline.LooseVersion.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>vstring=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.LooseVersion.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.tracking.streamline.LooseVersion.component_re\">\n<code class=\"descname\">component_re</code><em class=\"property\"> = re.compile('(\\\\d+ | [a-z]+ | \\\\.)', re.VERBOSE)</em><a class=\"headerlink\" href=\"#dipy.tracking.streamline.LooseVersion.component_re\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.streamline.LooseVersion.parse\">\n<code class=\"descname\">parse</code><span class=\"sig-paren\">(</span><em>vstring</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.LooseVersion.parse\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id47\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.streamline.Streamlines\" title=\"dipy.tracking.streamline.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Streamlines</span></code></a><a class=\"headerlink\" href=\"#id47\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"attribute\">\n<dt id=\"dipy.tracking.streamline.Streamlines\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">Streamlines</code><a class=\"headerlink\" href=\"#dipy.tracking.streamline.Streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>alias of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">nibabel.streamlines.array_sequence.ArraySequence</span></code></p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"apply-affine\">\n<h3>apply_affine<a class=\"headerlink\" href=\"#apply-affine\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.apply_affine\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">apply_affine</code><span class=\"sig-paren\">(</span><em>aff</em>, <em>pts</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.apply_affine\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Apply affine matrix <cite>aff</cite> to points <cite>pts</cite></p>\n<p>Returns result of application of <cite>aff</cite> to the <em>right</em> of <cite>pts</cite>.  The\ncoordinate dimension of <cite>pts</cite> should be the last.</p>\n<p>For the 3D case, <cite>aff</cite> will be shape (4,4) and <cite>pts</cite> will have final axis\nlength 3 - maybe it will just be N by 3. The return value is the\ntransformed points, in this case:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">aff</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,:</span><span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"n\">pts</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"n\">aff</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">:</span><span class=\"mi\">4</span><span class=\"p\">]</span>\n<span class=\"n\">transformed_pts</span> <span class=\"o\">=</span> <span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">T</span>\n</pre></div>\n</div>\n<p>This routine is more general than 3D, in that <cite>aff</cite> can have any shape\n(N,N), and <cite>pts</cite> can have any shape, as long as the last dimension is for\nthe coordinates, and is therefore length N-1.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>aff</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, N) array-like</span></dt>\n<dd><p class=\"first last\">Homogenous affine, for 3D points, will be 4 by 4. Contrary to first\nappearance, the affine will be applied on the left of <cite>pts</cite>.</p>\n</dd>\n<dt><strong>pts</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(\u2026, N-1) array-like</span></dt>\n<dd><p class=\"first last\">Points, where the last dimension contains the coordinates of each\npoint.  For 3D, the last dimension will be length 3.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>transformed_pts</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(\u2026, N-1) array</span></dt>\n<dd><p class=\"first last\">transformed points</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">aff</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">10</span><span class=\"p\">],[</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">11</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">12</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pts</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">],[</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">],[</span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"mi\">7</span><span class=\"p\">,</span><span class=\"mi\">8</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">apply_affine</span><span class=\"p\">(</span><span class=\"n\">aff</span><span class=\"p\">,</span> <span class=\"n\">pts</span><span class=\"p\">)</span> \n<span class=\"go\">array([[14, 14, 24],</span>\n<span class=\"go\">       [16, 17, 28],</span>\n<span class=\"go\">       [20, 23, 36],</span>\n<span class=\"go\">       [24, 29, 44]]...)</span>\n</pre></div>\n</div>\n<p>Just to show that in the simple 3D case, it is equivalent to:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">aff</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,:</span><span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"n\">pts</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"n\">aff</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">:</span><span class=\"mi\">4</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">T</span> \n<span class=\"go\">array([[14, 14, 24],</span>\n<span class=\"go\">       [16, 17, 28],</span>\n<span class=\"go\">       [20, 23, 36],</span>\n<span class=\"go\">       [24, 29, 44]]...)</span>\n</pre></div>\n</div>\n<p>But <cite>pts</cite> can be a more complicated shape:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pts</span> <span class=\"o\">=</span> <span class=\"n\">pts</span><span class=\"o\">.</span><span class=\"n\">reshape</span><span class=\"p\">((</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">apply_affine</span><span class=\"p\">(</span><span class=\"n\">aff</span><span class=\"p\">,</span> <span class=\"n\">pts</span><span class=\"p\">)</span> \n<span class=\"go\">array([[[14, 14, 24],</span>\n<span class=\"go\">        [16, 17, 28]],</span>\n\n<span class=\"go\">       [[20, 23, 36],</span>\n<span class=\"go\">        [24, 29, 44]]]...)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"bundles-distances-mdf\">\n<h3>bundles_distances_mdf<a class=\"headerlink\" href=\"#bundles-distances-mdf\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.bundles_distances_mdf\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">bundles_distances_mdf</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.bundles_distances_mdf\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculate distances between list of tracks A and list of tracks B</p>\n<p>All tracks need to have the same number of points</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>tracksA</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of tracks as arrays, [(N,3) .. (N,3)]</p>\n</dd>\n<dt><strong>tracksB</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">of tracks as arrays, [(N,3) .. (N,3)]</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>DM</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (len(tracksA), len(tracksB))</span></dt>\n<dd><p class=\"first last\">distances between tracksA and tracksB according to metric</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dipy.metrics.downsample</span></code></p>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"cdist\">\n<h3>cdist<a class=\"headerlink\" href=\"#cdist\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.cdist\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">cdist</code><span class=\"sig-paren\">(</span><em>XA</em>, <em>XB</em>, <em>metric='euclidean'</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.cdist\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Compute distance between each pair of the two collections of inputs.</p>\n<p>See Notes for common calling conventions.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>XA</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">An <span class=\"math notranslate nohighlight\">\\(m_A\\)</span> by <span class=\"math notranslate nohighlight\">\\(n\\)</span> array of <span class=\"math notranslate nohighlight\">\\(m_A\\)</span>\noriginal observations in an <span class=\"math notranslate nohighlight\">\\(n\\)</span>-dimensional space.\nInputs are converted to float type.</p>\n</dd>\n<dt><strong>XB</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">An <span class=\"math notranslate nohighlight\">\\(m_B\\)</span> by <span class=\"math notranslate nohighlight\">\\(n\\)</span> array of <span class=\"math notranslate nohighlight\">\\(m_B\\)</span>\noriginal observations in an <span class=\"math notranslate nohighlight\">\\(n\\)</span>-dimensional space.\nInputs are converted to float type.</p>\n</dd>\n<dt><strong>metric</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str or callable, optional</span></dt>\n<dd><p class=\"first last\">The distance metric to use.  If a string, the distance function can be\n\u2018braycurtis\u2019, \u2018canberra\u2019, \u2018chebyshev\u2019, \u2018cityblock\u2019, \u2018correlation\u2019,\n\u2018cosine\u2019, \u2018dice\u2019, \u2018euclidean\u2019, \u2018hamming\u2019, \u2018jaccard\u2019, \u2018kulsinski\u2019,\n\u2018mahalanobis\u2019, \u2018matching\u2019, \u2018minkowski\u2019, \u2018rogerstanimoto\u2019, \u2018russellrao\u2019,\n\u2018seuclidean\u2019, \u2018sokalmichener\u2019, \u2018sokalsneath\u2019, \u2018sqeuclidean\u2019,\n\u2018wminkowski\u2019, \u2018yule\u2019.</p>\n</dd>\n<dt><strong>*args</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">tuple. Deprecated.</span></dt>\n<dd><p class=\"first last\">Additional arguments should be passed as keyword arguments</p>\n</dd>\n<dt><strong>**kwargs</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">dict, optional</span></dt>\n<dd><p class=\"first\">Extra arguments to <cite>metric</cite>: refer to each metric documentation for a\nlist of all possible arguments.</p>\n<p>Some possible arguments:</p>\n<p>p : scalar\nThe p-norm to apply for Minkowski, weighted and unweighted.\nDefault: 2.</p>\n<p>w : ndarray\nThe weight vector for metrics that support weights (e.g., Minkowski).</p>\n<p>V : ndarray\nThe variance vector for standardized Euclidean.\nDefault: var(vstack([XA, XB]), axis=0, ddof=1)</p>\n<p>VI : ndarray\nThe inverse of the covariance matrix for Mahalanobis.\nDefault: inv(cov(vstack([XA, XB].T))).T</p>\n<p class=\"last\">out : ndarray\nThe output array\nIf not None, the distance matrix Y is stored in this array.\nNote: metric independent, it will become a regular keyword arg in a\nfuture scipy version</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>Y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">A <span class=\"math notranslate nohighlight\">\\(m_A\\)</span> by <span class=\"math notranslate nohighlight\">\\(m_B\\)</span> distance matrix is returned.\nFor each <span class=\"math notranslate nohighlight\">\\(i\\)</span> and <span class=\"math notranslate nohighlight\">\\(j\\)</span>, the metric\n<code class=\"docutils literal notranslate\"><span class=\"pre\">dist(u=XA[i],</span> <span class=\"pre\">v=XB[j])</span></code> is computed and stored in the\n<span class=\"math notranslate nohighlight\">\\(ij\\)</span> th entry.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-odd field\"><th class=\"field-name\">Raises:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>ValueError</strong></dt>\n<dd><p class=\"first last\">An exception is thrown if <cite>XA</cite> and <cite>XB</cite> do not have\nthe same number of columns.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>The following are common calling conventions:</p>\n<ol class=\"arabic\">\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'euclidean')</span></code></p>\n<p>Computes the distance between <span class=\"math notranslate nohighlight\">\\(m\\)</span> points using\nEuclidean distance (2-norm) as the distance metric between the\npoints. The points are arranged as <span class=\"math notranslate nohighlight\">\\(m\\)</span>\n<span class=\"math notranslate nohighlight\">\\(n\\)</span>-dimensional row vectors in the matrix X.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'minkowski',</span> <span class=\"pre\">p=2.)</span></code></p>\n<p>Computes the distances using the Minkowski distance\n<span class=\"math notranslate nohighlight\">\\(||u-v||_p\\)</span> (<span class=\"math notranslate nohighlight\">\\(p\\)</span>-norm) where <span class=\"math notranslate nohighlight\">\\(p \\geq 1\\)</span>.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'cityblock')</span></code></p>\n<p>Computes the city block or Manhattan distance between the\npoints.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'seuclidean',</span> <span class=\"pre\">V=None)</span></code></p>\n<p>Computes the standardized Euclidean distance. The standardized\nEuclidean distance between two n-vectors <code class=\"docutils literal notranslate\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v</span></code> is</p>\n<div class=\"math notranslate nohighlight\">\n\\[\\sqrt{\\sum {(u_i-v_i)^2 / V[x_i]}}.\\]</div>\n<p>V is the variance vector; V[i] is the variance computed over all\nthe i\u2019th components of the points. If not passed, it is\nautomatically computed.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'sqeuclidean')</span></code></p>\n<p>Computes the squared Euclidean distance <span class=\"math notranslate nohighlight\">\\(||u-v||_2^2\\)</span> between\nthe vectors.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'cosine')</span></code></p>\n<p>Computes the cosine distance between vectors u and v,</p>\n<div class=\"math notranslate nohighlight\">\n\\[1 - \\frac{u \\cdot v}\n         {{||u||}_2 {||v||}_2}\\]</div>\n<p>where <span class=\"math notranslate nohighlight\">\\(||*||_2\\)</span> is the 2-norm of its argument <code class=\"docutils literal notranslate\"><span class=\"pre\">*</span></code>, and\n<span class=\"math notranslate nohighlight\">\\(u \\cdot v\\)</span> is the dot product of <span class=\"math notranslate nohighlight\">\\(u\\)</span> and <span class=\"math notranslate nohighlight\">\\(v\\)</span>.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'correlation')</span></code></p>\n<p>Computes the correlation distance between vectors u and v. This is</p>\n<div class=\"math notranslate nohighlight\">\n\\[1 - \\frac{(u - \\bar{u}) \\cdot (v - \\bar{v})}\n         {{||(u - \\bar{u})||}_2 {||(v - \\bar{v})||}_2}\\]</div>\n<p>where <span class=\"math notranslate nohighlight\">\\(\\bar{v}\\)</span> is the mean of the elements of vector v,\nand <span class=\"math notranslate nohighlight\">\\(x \\cdot y\\)</span> is the dot product of <span class=\"math notranslate nohighlight\">\\(x\\)</span> and <span class=\"math notranslate nohighlight\">\\(y\\)</span>.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'hamming')</span></code></p>\n<p>Computes the normalized Hamming distance, or the proportion of\nthose vector elements between two n-vectors <code class=\"docutils literal notranslate\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v</span></code>\nwhich disagree. To save memory, the matrix <code class=\"docutils literal notranslate\"><span class=\"pre\">X</span></code> can be of type\nboolean.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'jaccard')</span></code></p>\n<p>Computes the Jaccard distance between the points. Given two\nvectors, <code class=\"docutils literal notranslate\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v</span></code>, the Jaccard distance is the\nproportion of those elements <code class=\"docutils literal notranslate\"><span class=\"pre\">u[i]</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v[i]</span></code> that\ndisagree where at least one of them is non-zero.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'chebyshev')</span></code></p>\n</li>\n</ol>\n<blockquote>\n<div><p>Computes the Chebyshev distance between the points. The\nChebyshev distance between two n-vectors <code class=\"docutils literal notranslate\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v</span></code> is the\nmaximum norm-1 distance between their respective elements. More\nprecisely, the distance is given by</p>\n<div class=\"math notranslate nohighlight\">\n\\[d(u,v) = \\max_i {|u_i-v_i|}.\\]</div>\n</div></blockquote>\n<ol class=\"arabic simple\" start=\"11\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'canberra')</span></code></li>\n</ol>\n<blockquote>\n<div><p>Computes the Canberra distance between the points. The\nCanberra distance between two points <code class=\"docutils literal notranslate\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v</span></code> is</p>\n<div class=\"math notranslate nohighlight\">\n\\[d(u,v) = \\sum_i \\frac{|u_i-v_i|}\n                     {|u_i|+|v_i|}.\\]</div>\n</div></blockquote>\n<ol class=\"arabic simple\" start=\"12\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'braycurtis')</span></code></li>\n</ol>\n<blockquote>\n<div><p>Computes the Bray-Curtis distance between the points. The\nBray-Curtis distance between two points <code class=\"docutils literal notranslate\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v</span></code> is</p>\n<div class=\"math notranslate nohighlight\">\n\\[d(u,v) = \\frac{\\sum_i (|u_i-v_i|)}\n              {\\sum_i (|u_i+v_i|)}\\]</div>\n</div></blockquote>\n<ol class=\"arabic simple\" start=\"13\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'mahalanobis',</span> <span class=\"pre\">VI=None)</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Mahalanobis distance between the points. The\nMahalanobis distance between two points <code class=\"docutils literal notranslate\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v</span></code> is\n<span class=\"math notranslate nohighlight\">\\(\\sqrt{(u-v)(1/V)(u-v)^T}\\)</span> where <span class=\"math notranslate nohighlight\">\\((1/V)\\)</span> (the <code class=\"docutils literal notranslate\"><span class=\"pre\">VI</span></code>\nvariable) is the inverse covariance. If <code class=\"docutils literal notranslate\"><span class=\"pre\">VI</span></code> is not None,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">VI</span></code> will be used as the inverse covariance matrix.</div></blockquote>\n<ol class=\"arabic simple\" start=\"14\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'yule')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Yule distance between the boolean\nvectors. (see <cite>yule</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"15\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'matching')</span></code></li>\n</ol>\n<blockquote>\n<div>Synonym for \u2018hamming\u2019.</div></blockquote>\n<ol class=\"arabic simple\" start=\"16\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'dice')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Dice distance between the boolean vectors. (see\n<cite>dice</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"17\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'kulsinski')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Kulsinski distance between the boolean\nvectors. (see <cite>kulsinski</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"18\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'rogerstanimoto')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Rogers-Tanimoto distance between the boolean\nvectors. (see <cite>rogerstanimoto</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"19\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'russellrao')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Russell-Rao distance between the boolean\nvectors. (see <cite>russellrao</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"20\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'sokalmichener')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Sokal-Michener distance between the boolean\nvectors. (see <cite>sokalmichener</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"21\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'sokalsneath')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Sokal-Sneath distance between the vectors. (see\n<cite>sokalsneath</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"22\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'wminkowski',</span> <span class=\"pre\">p=2.,</span> <span class=\"pre\">w=w)</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the weighted Minkowski distance between the\nvectors. (see <cite>wminkowski</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"23\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">f)</span></code></li>\n</ol>\n<blockquote>\n<div><p>Computes the distance between all pairs of vectors in X\nusing the user supplied 2-arity function f. For example,\nEuclidean distance between the vectors could be computed\nas follows:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">dm</span> <span class=\"o\">=</span> <span class=\"n\">cdist</span><span class=\"p\">(</span><span class=\"n\">XA</span><span class=\"p\">,</span> <span class=\"n\">XB</span><span class=\"p\">,</span> <span class=\"k\">lambda</span> <span class=\"n\">u</span><span class=\"p\">,</span> <span class=\"n\">v</span><span class=\"p\">:</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(((</span><span class=\"n\">u</span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"p\">)</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">()))</span>\n</pre></div>\n</div>\n<p>Note that you should avoid passing a reference to one of\nthe distance functions defined in this library. For example,:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">dm</span> <span class=\"o\">=</span> <span class=\"n\">cdist</span><span class=\"p\">(</span><span class=\"n\">XA</span><span class=\"p\">,</span> <span class=\"n\">XB</span><span class=\"p\">,</span> <span class=\"n\">sokalsneath</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>would calculate the pair-wise distances between the vectors in\nX using the Python function <cite>sokalsneath</cite>. This would result in\nsokalsneath being called <span class=\"math notranslate nohighlight\">\\({n \\choose 2}\\)</span> times, which\nis inefficient. Instead, the optimized C version is more\nefficient, and we call it using the following syntax:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">dm</span> <span class=\"o\">=</span> <span class=\"n\">cdist</span><span class=\"p\">(</span><span class=\"n\">XA</span><span class=\"p\">,</span> <span class=\"n\">XB</span><span class=\"p\">,</span> <span class=\"s1\">&#39;sokalsneath&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div></blockquote>\n<p class=\"rubric\">Examples</p>\n<p>Find the Euclidean distances between four 2-D coordinates:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">scipy.spatial</span> <span class=\"k\">import</span> <span class=\"n\">distance</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">coords</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"mf\">35.0456</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">85.2672</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>          <span class=\"p\">(</span><span class=\"mf\">35.1174</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">89.9711</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>          <span class=\"p\">(</span><span class=\"mf\">35.9728</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">83.9422</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>          <span class=\"p\">(</span><span class=\"mf\">36.1667</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">86.7833</span><span class=\"p\">)]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">distance</span><span class=\"o\">.</span><span class=\"n\">cdist</span><span class=\"p\">(</span><span class=\"n\">coords</span><span class=\"p\">,</span> <span class=\"n\">coords</span><span class=\"p\">,</span> <span class=\"s1\">&#39;euclidean&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">array([[ 0.    ,  4.7044,  1.6172,  1.8856],</span>\n<span class=\"go\">       [ 4.7044,  0.    ,  6.0893,  3.3561],</span>\n<span class=\"go\">       [ 1.6172,  6.0893,  0.    ,  2.8477],</span>\n<span class=\"go\">       [ 1.8856,  3.3561,  2.8477,  0.    ]])</span>\n</pre></div>\n</div>\n<p>Find the Manhattan distance from a 3-D point to the corners of the unit\ncube:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span> <span class=\"mf\">0.1</span><span class=\"p\">,</span>  <span class=\"mf\">0.2</span><span class=\"p\">,</span>  <span class=\"mf\">0.4</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">distance</span><span class=\"o\">.</span><span class=\"n\">cdist</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">,</span> <span class=\"s1\">&#39;cityblock&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">array([[ 0.7],</span>\n<span class=\"go\">       [ 0.9],</span>\n<span class=\"go\">       [ 1.3],</span>\n<span class=\"go\">       [ 1.5],</span>\n<span class=\"go\">       [ 1.5],</span>\n<span class=\"go\">       [ 1.7],</span>\n<span class=\"go\">       [ 2.1],</span>\n<span class=\"go\">       [ 2.3]])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"center-streamlines\">\n<h3>center_streamlines<a class=\"headerlink\" href=\"#center-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.center_streamlines\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">center_streamlines</code><span class=\"sig-paren\">(</span><em>streamlines</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.center_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Move streamlines to the origin</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list</span></dt>\n<dd><p class=\"first last\">List of 2D ndarrays of shape[-1]==3</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>new_streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list</span></dt>\n<dd><p class=\"first last\">List of 2D ndarrays of shape[-1]==3</p>\n</dd>\n<dt><strong>inv_shift</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Translation in x,y,z to go back in the initial position</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"cluster-confidence\">\n<h3>cluster_confidence<a class=\"headerlink\" href=\"#cluster-confidence\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.cluster_confidence\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">cluster_confidence</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>max_mdf=5</em>, <em>subsample=12</em>, <em>power=1</em>, <em>override=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.cluster_confidence\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Computes the cluster confidence index (cci), which is an\nestimation of the support a set of streamlines gives to\na particular pathway.</p>\n<p>Ex: A single streamline with no others in the dataset\nfollowing a similar pathway has a low cci. A streamline\nin a bundle of 100 streamlines that follow similar\npathways has a high cci.</p>\n<p>See: Jordan et al. 2017\n(Based on streamline MDF distance from Garyfallidis et al. 2012)</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list of 2D (N, 3) arrays</span></dt>\n<dd><p class=\"first last\">A sequence of streamlines of length N (# streamlines)</p>\n</dd>\n<dt><strong>max_mdf</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">The maximum MDF distance (mm) that will be considered a\n\u201csupporting\u201d streamline and included in cci calculation</p>\n</dd>\n<dt><strong>subsample: int</strong></dt>\n<dd><p class=\"first last\">The number of points that are considered for each streamline\nin the calculation. To save on calculation time, each\nstreamline is subsampled to subsampleN points.</p>\n</dd>\n<dt><strong>power: int</strong></dt>\n<dd><p class=\"first last\">The power to which the MDF distance for each streamline\nwill be raised to determine how much it contributes to\nthe cci. High values of power make the contribution value\ndegrade much faster. Example: a streamline with 5mm MDF\nsimilarity contributes 1/5 to the cci if power is 1, but\nonly contributes 1/5^2 = 1/25 if power is 2.</p>\n</dd>\n<dt><strong>override: bool, False by default</strong></dt>\n<dd><p class=\"first last\">override means that the cci calculation will still occur even\nthough there are short streamlines in the dataset that may alter\nexpected behaviour.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>Returns an array of CCI scores</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">References</p>\n<p>[Jordan17] Jordan K. Et al., Cluster Confidence Index: A Streamline-Wise\nPathway Reproducibility Metric for Diffusion-Weighted MRI Tractography,\nJournal of Neuroimaging, vol 28, no 1, 2017.</p>\n<p>[Garyfallidis12] Garyfallidis E. et al., QuickBundles a method for\ntractography simplification, Frontiers in Neuroscience,\nvol 6, no 175, 2012.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id48\">\n<h3>compress_streamlines<a class=\"headerlink\" href=\"#id48\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.compress_streamlines\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">compress_streamlines</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.compress_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Compress streamlines by linearization as in <a class=\"reference internal\" href=\"#ra77703c9b98b-presseau15\" id=\"id49\">[Presseau15]</a>.</p>\n<p>The compression consists in merging consecutive segments that are\nnearly collinear. The merging is achieved by removing the point the two\nsegments have in common.</p>\n<p>The linearization process <a class=\"reference internal\" href=\"#ra77703c9b98b-presseau15\" id=\"id50\">[Presseau15]</a> ensures that every point being\nremoved are within a certain margin (in mm) of the resulting streamline.\nRecommendations for setting this margin can be found in <a class=\"reference internal\" href=\"#ra77703c9b98b-presseau15\" id=\"id51\">[Presseau15]</a>\n(in which they called it tolerance error).</p>\n<p>The compression also ensures that two consecutive points won\u2019t be too far\nfrom each other (precisely less or equal than <a href=\"#id52\"><span class=\"problematic\" id=\"id53\">`</span></a>max_segment_length`mm).\nThis is a tradeoff to speed up the linearization process <a class=\"reference internal\" href=\"#ra77703c9b98b-rheault15\" id=\"id54\">[Rheault15]</a>. A low\nvalue will result in a faster linearization but low compression, whereas\na high value will result in a slower linearization but high compression.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">one or a list of array-like of shape (N,3)</span></dt>\n<dd><p class=\"first last\">Array representing x,y,z of N points in a streamline.</p>\n</dd>\n<dt><strong>tol_error</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float (optional)</span></dt>\n<dd><p class=\"first last\">Tolerance error in mm (default: 0.01). A rule of thumb is to set it\nto 0.01mm for deterministic streamlines and 0.1mm for probabilitic\nstreamlines.</p>\n</dd>\n<dt><strong>max_segment_length</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float (optional)</span></dt>\n<dd><p class=\"first last\">Maximum length in mm of any given segment produced by the compression.\nThe default is 10mm. (In <a class=\"reference internal\" href=\"#ra77703c9b98b-presseau15\" id=\"id55\">[Presseau15]</a>, they used a value of <cite>np.inf</cite>).</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>compressed_streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">one or a list of array-like</span></dt>\n<dd><p class=\"first last\">Results of the linearization process.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>Be aware that compressed streamlines have variable step sizes. One needs to\nbe careful when computing streamlines-based metrics <a class=\"reference internal\" href=\"#ra77703c9b98b-houde15\" id=\"id56\">[Houde15]</a>.</p>\n<p class=\"rubric\">References</p>\n<table class=\"docutils citation\" frame=\"void\" id=\"ra77703c9b98b-presseau15\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Presseau15]</td><td><em>(<a class=\"fn-backref\" href=\"#id4\">1</a>, <a class=\"fn-backref\" href=\"#id49\">2</a>, <a class=\"fn-backref\" href=\"#id50\">3</a>, <a class=\"fn-backref\" href=\"#id51\">4</a>, <a class=\"fn-backref\" href=\"#id55\">5</a>, <a class=\"fn-backref\" href=\"#id57\">6</a>)</em> Presseau C. et al., A new compression format for fiber\ntracking datasets, NeuroImage, no 109, 73-83, 2015.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"ra77703c9b98b-rheault15\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Rheault15]</td><td><em>(<a class=\"fn-backref\" href=\"#id54\">1</a>, <a class=\"fn-backref\" href=\"#id58\">2</a>)</em> Rheault F. et al., Real Time Interaction with Millions of\nStreamlines, ISMRM, 2015.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils citation\" frame=\"void\" id=\"ra77703c9b98b-houde15\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\">[Houde15]</td><td><em>(<a class=\"fn-backref\" href=\"#id56\">1</a>, <a class=\"fn-backref\" href=\"#id59\">2</a>)</em> Houde J.-C. et al. How to Avoid Biased Streamlines-Based\nMetrics for Streamlines with Variable Step Sizes, ISMRM, 2015.</td></tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.streamline</span> <span class=\"k\">import</span> <span class=\"n\">compress_streamlines</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># One streamline: a wiggling line</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rng</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">RandomState</span><span class=\"p\">(</span><span class=\"mi\">42</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"o\">*</span><span class=\"mi\">3</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">reshape</span><span class=\"p\">((</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">+=</span> <span class=\"mf\">0.2</span> <span class=\"o\">*</span> <span class=\"n\">rng</span><span class=\"o\">.</span><span class=\"n\">rand</span><span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c_streamline</span> <span class=\"o\">=</span> <span class=\"n\">compress_streamlines</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">tol_error</span><span class=\"o\">=</span><span class=\"mf\">0.2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">)</span>\n<span class=\"go\">100</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">c_streamline</span><span class=\"p\">)</span>\n<span class=\"go\">10</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Multiple streamlines</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">streamline</span><span class=\"p\">[::</span><span class=\"mi\">2</span><span class=\"p\">]]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">c_streamlines</span> <span class=\"o\">=</span> <span class=\"n\">compress_streamlines</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"n\">tol_error</span><span class=\"o\">=</span><span class=\"mf\">0.2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[100, 50]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">c_streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[10, 7]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"deepcopy\">\n<h3>deepcopy<a class=\"headerlink\" href=\"#deepcopy\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.deepcopy\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">deepcopy</code><span class=\"sig-paren\">(</span><em>x</em>, <em>memo=None</em>, <em>_nil=[]</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.deepcopy\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Deep copy operation on arbitrary Python objects.</p>\n<p>See the module\u2019s __doc__ string for more info.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"deform-streamlines\">\n<h3>deform_streamlines<a class=\"headerlink\" href=\"#deform-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.deform_streamlines\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">deform_streamlines</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>deform_field</em>, <em>stream_to_current_grid</em>, <em>current_grid_to_world</em>, <em>stream_to_ref_grid</em>, <em>ref_grid_to_world</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.deform_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Apply deformation field to streamlines</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list</span></dt>\n<dd><p class=\"first last\">List of 2D ndarrays of shape[-1]==3</p>\n</dd>\n<dt><strong>deform_field</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">4D numpy array</span></dt>\n<dd><p class=\"first last\">x,y,z displacements stored in volume, shape[-1]==3</p>\n</dd>\n<dt><strong>stream_to_current_grid</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, (4, 4)</span></dt>\n<dd><p class=\"first last\">transform matrix voxmm space to original grid space</p>\n</dd>\n<dt><strong>current_grid_to_world</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (4, 4)</span></dt>\n<dd><p class=\"first last\">transform matrix original grid space to world coordinates</p>\n</dd>\n<dt><strong>stream_to_ref_grid</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (4, 4)</span></dt>\n<dd><p class=\"first last\">transform matrix voxmm space to new grid space</p>\n</dd>\n<dt><strong>ref_grid_to_world</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array(4, 4)</span></dt>\n<dd><p class=\"first last\">transform matrix new grid space to world coordinates</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>new_streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list</span></dt>\n<dd><p class=\"first last\">List of the transformed 2D ndarrays of shape[-1]==3</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"dist-to-corner\">\n<h3>dist_to_corner<a class=\"headerlink\" href=\"#dist-to-corner\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.dist_to_corner\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">dist_to_corner</code><span class=\"sig-paren\">(</span><em>affine</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.dist_to_corner\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculate the maximal distance from the center to a corner of a voxel,\ngiven an affine</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">4 by 4 array.</span></dt>\n<dd><p class=\"first last\">The spatial transformation from the measurement to the scanner space.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>dist: float</strong></dt>\n<dd><p class=\"first last\">The maximal distance to the corner of a voxel, given voxel size encoded\nin the affine.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id60\">\n<h3>length<a class=\"headerlink\" href=\"#id60\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.length\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">length</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.length\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Euclidean length of streamlines</p>\n<p>Length is in mm only if streamlines are expressed in world coordinates.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray or a list or <a class=\"reference internal\" href=\"#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a></span></dt>\n<dd><p class=\"first last\">If ndarray, must have shape (N,3) where N is the number of points\nof the streamline.\nIf list, each item must be ndarray shape (Ni,3) where Ni is the number\nof points of streamline i.\nIf <a class=\"reference internal\" href=\"#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a>, its <cite>common_shape</cite> must be 3.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>lengths</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">scalar or ndarray shape (N,)</span></dt>\n<dd><p class=\"first last\">If there is only one streamline, a scalar representing the length of the\nstreamline.\nIf there are several streamlines, ndarray containing the length of every\nstreamline.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.streamline</span> <span class=\"k\">import</span> <span class=\"n\">length</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">expected_length</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"o\">+</span><span class=\"mi\">2</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">3</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">3</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"o\">+</span><span class=\"mi\">4</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"n\">expected_length</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">([</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">streamline</span><span class=\"p\">[::</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">expected_lengths</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">expected_length</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"o\">*</span><span class=\"n\">expected_length</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">lengths</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]),</span> <span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">allclose</span><span class=\"p\">(</span><span class=\"n\">lengths</span><span class=\"p\">,</span> <span class=\"n\">expected_lengths</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">([])</span>\n<span class=\"go\">0.0</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">length</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]]))</span>\n<span class=\"go\">0.0</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"nbytes\">\n<h3>nbytes<a class=\"headerlink\" href=\"#nbytes\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.nbytes\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">nbytes</code><span class=\"sig-paren\">(</span><em>streamlines</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.nbytes\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n</div>\n<div class=\"section\" id=\"orient-by-rois\">\n<h3>orient_by_rois<a class=\"headerlink\" href=\"#orient-by-rois\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.orient_by_rois\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">orient_by_rois</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>roi1</em>, <em>roi2</em>, <em>in_place=False</em>, <em>as_generator=False</em>, <em>affine=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.orient_by_rois\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Orient a set of streamlines according to a pair of ROIs</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list or generator</span></dt>\n<dd><p class=\"first last\">List or generator of 2d arrays of 3d coordinates. Each array contains\nthe xyz coordinates of a single streamline.</p>\n</dd>\n<dt><strong>roi1, roi2</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Binary masks designating the location of the regions of interest, or\ncoordinate arrays (n-by-3 array with ROI coordinate in each row).</p>\n</dd>\n<dt><strong>in_place</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">Whether to make the change in-place in the original list\n(and return a reference to the list), or to make a copy of the list\nand return this copy, with the relevant streamlines reoriented.\nDefault: False.</p>\n</dd>\n<dt><strong>as_generator</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">Whether to return a generator as output. Default: False</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Affine transformation from voxels to streamlines. Default: identity.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list or generator</span></dt>\n<dd><p class=\"first last\">The same 3D arrays as a list or generator, but reoriented with respect\nto the ROIs</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                         <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                         <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">]]),</span>\n<span class=\"gp\">... </span>               <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                         <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                         <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span>  <span class=\"mf\">0.</span><span class=\"p\">]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">roi1</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">zeros</span><span class=\"p\">((</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"nb\">bool</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">roi2</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">zeros_like</span><span class=\"p\">(</span><span class=\"n\">roi1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">roi1</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">roi2</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">orient_by_rois</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"n\">roi1</span><span class=\"p\">,</span> <span class=\"n\">roi2</span><span class=\"p\">)</span>\n<span class=\"go\">[array([[ 0.,  0.,  0.],</span>\n<span class=\"go\">       [ 1.,  0.,  0.],</span>\n<span class=\"go\">       [ 2.,  0.,  0.]]), array([[ 0.,  0.,  0.],</span>\n<span class=\"go\">       [ 1.,  0.,  0.],</span>\n<span class=\"go\">       [ 2.,  0.,  0.]])]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"orient-by-streamline\">\n<h3>orient_by_streamline<a class=\"headerlink\" href=\"#orient-by-streamline\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.orient_by_streamline\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">orient_by_streamline</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>standard</em>, <em>n_points=12</em>, <em>in_place=False</em>, <em>as_generator=False</em>, <em>affine=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.orient_by_streamline\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Orient a bundle of streamlines to a standard streamline.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines, list</span></dt>\n<dd><p class=\"first last\">The input streamlines to orient.</p>\n</dd>\n<dt><strong>standard</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines, list, or ndarrray</span></dt>\n<dd><p class=\"first last\">This provides the standard orientation according to which the\nstreamlines in the provided bundle should be reoriented.</p>\n</dd>\n<dt><strong>n_points: int, optional</strong></dt>\n<dd><p class=\"first last\">The number of samples to apply to each of the streamlines.</p>\n</dd>\n<dt><strong>in_place</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">Whether to make the change in-place in the original input\n(and return a reference), or to make a copy of the list\nand return this copy, with the relevant streamlines reoriented.\nDefault: False.</p>\n</dd>\n<dt><strong>as_generator</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">Whether to return a generator as output. Default: False</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Affine transformation from voxels to streamlines. Default: identity.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>Streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">with each individual array oriented to be as similar as</span></dt>\n<dd><p class=\"first last\">possible to the standard.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"relist-streamlines\">\n<h3>relist_streamlines<a class=\"headerlink\" href=\"#relist-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.relist_streamlines\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">relist_streamlines</code><span class=\"sig-paren\">(</span><em>points</em>, <em>offsets</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.relist_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Given a representation of a set of streamlines as a large array and\nan offsets array return the streamlines as a list of shorter arrays.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>points</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd></dd>\n<dt><strong>offsets</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>streamlines: sequence</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"select-by-rois\">\n<h3>select_by_rois<a class=\"headerlink\" href=\"#select-by-rois\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.select_by_rois\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">select_by_rois</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>rois</em>, <em>include</em>, <em>mode=None</em>, <em>affine=None</em>, <em>tol=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.select_by_rois\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Select streamlines based on logical relations with several regions of\ninterest (ROIs). For example, select streamlines that pass near ROI1,\nbut only if they do not pass near ROI2.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list</span></dt>\n<dd><p class=\"first last\">A list of candidate streamlines for selection</p>\n</dd>\n<dt><strong>rois</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list or ndarray</span></dt>\n<dd><p class=\"first last\">A list of 3D arrays, each with shape (x, y, z) corresponding to the\nshape of the brain volume, or a 4D array with shape (n_rois, x, y,\nz). Non-zeros in each volume are considered to be within the region</p>\n</dd>\n<dt><strong>include</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array or list</span></dt>\n<dd><p class=\"first last\">A list or 1D array of boolean values marking inclusion or exclusion\ncriteria. If a streamline is near any of the inclusion ROIs, it\nshould evaluate to True, unless it is also near any of the exclusion\nROIs.</p>\n</dd>\n<dt><strong>mode</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">string, optional</span></dt>\n<dd><p class=\"first\">One of {\u201cany\u201d, \u201call\u201d, \u201ceither_end\u201d, \u201cboth_end\u201d}, where a streamline is\nassociated with an ROI if:</p>\n<p>\u201cany\u201d : any point is within tol from ROI. Default.</p>\n<p>\u201call\u201d : all points are within tol from ROI.</p>\n<p>\u201ceither_end\u201d : either of the end-points is within tol from ROI</p>\n<p class=\"last\">\u201cboth_end\u201d : both end points are within tol from ROI.</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Affine transformation from voxels to streamlines. Default: identity.</p>\n</dd>\n<dt><strong>tol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Distance (in the units of the streamlines, usually mm). If any\ncoordinate in the streamline is within this distance from the center\nof any voxel in the ROI, the filtering criterion is set to True for\nthis streamline, otherwise False. Defaults to the distance between\nthe center of each voxel and the corner of the voxel.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>generator</strong></dt>\n<dd><p class=\"first last\">Generates the streamlines to be included based on these criteria.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.tracking.utils.near_roi\" title=\"dipy.tracking.utils.near_roi\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">dipy.tracking.utils.near_roi()</span></code></a>, <a class=\"reference internal\" href=\"#dipy.tracking.utils.reduce_rois\" title=\"dipy.tracking.utils.reduce_rois\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">dipy.tracking.utils.reduce_rois()</span></code></a></p>\n</div>\n<p class=\"rubric\">Notes</p>\n<p>The only operation currently possible is \u201c(A or B or \u2026) and not (X or Y\nor \u2026)\u201d, where A, B are inclusion regions and X, Y are exclusion regions.</p>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">0.9</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                         <span class=\"p\">[</span><span class=\"mf\">1.9</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">]]),</span>\n<span class=\"gp\">... </span>               <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mf\">0.</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                         <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">1.</span><span class=\"p\">,</span> <span class=\"mf\">1.</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                         <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">2.</span><span class=\"p\">,</span> <span class=\"mf\">2.</span><span class=\"p\">]]),</span>\n<span class=\"gp\">... </span>               <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                         <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mask1</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">zeros</span><span class=\"p\">((</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"nb\">bool</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mask2</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">zeros_like</span><span class=\"p\">(</span><span class=\"n\">mask1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mask1</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mask2</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">selection</span> <span class=\"o\">=</span> <span class=\"n\">select_by_rois</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">mask1</span><span class=\"p\">,</span> <span class=\"n\">mask2</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"p\">[</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">tol</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">selection</span><span class=\"p\">)</span> <span class=\"c1\"># The result is a generator</span>\n<span class=\"go\">[array([[ 0. ,  0. ,  0.9],</span>\n<span class=\"go\">       [ 1.9,  0. ,  0. ]]), array([[ 0.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  1.,  1.],</span>\n<span class=\"go\">       [ 0.,  2.,  2.]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">selection</span> <span class=\"o\">=</span> <span class=\"n\">select_by_rois</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">mask1</span><span class=\"p\">,</span> <span class=\"n\">mask2</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"p\">[</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"kc\">False</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">tol</span><span class=\"o\">=</span><span class=\"mf\">0.87</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">selection</span><span class=\"p\">)</span>\n<span class=\"go\">[array([[ 0.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  1.,  1.],</span>\n<span class=\"go\">       [ 0.,  2.,  2.]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">selection</span> <span class=\"o\">=</span> <span class=\"n\">select_by_rois</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">mask1</span><span class=\"p\">,</span> <span class=\"n\">mask2</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"p\">[</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"s2\">&quot;both_end&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">tol</span><span class=\"o\">=</span><span class=\"mf\">1.0</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">selection</span><span class=\"p\">)</span>\n<span class=\"go\">[array([[ 0. ,  0. ,  0.9],</span>\n<span class=\"go\">       [ 1.9,  0. ,  0. ]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mask2</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"kc\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">selection</span> <span class=\"o\">=</span> <span class=\"n\">select_by_rois</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">mask1</span><span class=\"p\">,</span> <span class=\"n\">mask2</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"p\">[</span><span class=\"kc\">True</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"s2\">&quot;both_end&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>                           <span class=\"n\">tol</span><span class=\"o\">=</span><span class=\"mf\">1.0</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">selection</span><span class=\"p\">)</span>\n<span class=\"go\">[array([[ 0. ,  0. ,  0.9],</span>\n<span class=\"go\">       [ 1.9,  0. ,  0. ]]), array([[ 0.,  0.,  0.],</span>\n<span class=\"go\">       [ 0.,  1.,  1.],</span>\n<span class=\"go\">       [ 0.,  2.,  2.]])]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"select-random-set-of-streamlines\">\n<h3>select_random_set_of_streamlines<a class=\"headerlink\" href=\"#select-random-set-of-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.select_random_set_of_streamlines\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">select_random_set_of_streamlines</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>select</em>, <em>rng=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.select_random_set_of_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Select a random set of streamlines</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Steamlines</span></dt>\n<dd><p class=\"first last\">Object of 2D ndarrays of shape[-1]==3</p>\n</dd>\n<dt><strong>select</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of streamlines to select. If there are less streamlines\nthan <code class=\"docutils literal notranslate\"><span class=\"pre\">select</span></code> then <code class=\"docutils literal notranslate\"><span class=\"pre\">select=len(streamlines)</span></code>.</p>\n</dd>\n<dt><strong>rng</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">RandomState</span></dt>\n<dd><p class=\"first last\">Default None.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>selected_streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>The same streamline will not be selected twice.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id61\">\n<h3>set_number_of_points<a class=\"headerlink\" href=\"#id61\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.set_number_of_points\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">set_number_of_points</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.set_number_of_points\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><dl class=\"docutils\">\n<dt>Change the number of points of streamlines</dt>\n<dd>(either by downsampling or upsampling)</dd>\n</dl>\n<p>Change the number of points of streamlines in order to obtain\n<cite>nb_points</cite>-1 segments of equal length. Points of streamlines will be\nmodified along the curve.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray or a list or <a class=\"reference internal\" href=\"#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a></span></dt>\n<dd><p class=\"first last\">If ndarray, must have shape (N,3) where N is the number of points\nof the streamline.\nIf list, each item must be ndarray shape (Ni,3) where Ni is the number\nof points of streamline i.\nIf <a class=\"reference internal\" href=\"#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a>, its <cite>common_shape</cite> must be 3.</p>\n</dd>\n<dt><strong>nb_points</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">integer representing number of points wanted along the curve.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>new_streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray or a list or <a class=\"reference internal\" href=\"#dipy.tracking.Streamlines\" title=\"dipy.tracking.Streamlines\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dipy.tracking.Streamlines</span></code></a></span></dt>\n<dd><p class=\"first last\">Results of the downsampling or upsampling process.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">dipy.tracking.streamline</span> <span class=\"k\">import</span> <span class=\"n\">set_number_of_points</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n</pre></div>\n</div>\n<p>One streamline, a semi-circle:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">theta</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">pi</span><span class=\"o\">*</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">linspace</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">cos</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sin</span><span class=\"p\">(</span><span class=\"n\">theta</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span> <span class=\"o\">=</span> <span class=\"mi\">0</span> <span class=\"o\">*</span> <span class=\"n\">x</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamline</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">vstack</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">z</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">modified_streamline</span> <span class=\"o\">=</span> <span class=\"n\">set_number_of_points</span><span class=\"p\">(</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">modified_streamline</span><span class=\"p\">)</span>\n<span class=\"go\">3</span>\n</pre></div>\n</div>\n<p>Multiple streamlines:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">streamline</span><span class=\"p\">,</span> <span class=\"n\">streamline</span><span class=\"p\">[::</span><span class=\"mi\">2</span><span class=\"p\">]]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">new_streamlines</span> <span class=\"o\">=</span> <span class=\"n\">set_number_of_points</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[100, 50]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">s</span> <span class=\"ow\">in</span> <span class=\"n\">new_streamlines</span><span class=\"p\">]</span>\n<span class=\"go\">[10, 10]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"streamline-near-roi\">\n<h3>streamline_near_roi<a class=\"headerlink\" href=\"#streamline-near-roi\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.streamline_near_roi\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">streamline_near_roi</code><span class=\"sig-paren\">(</span><em>streamline</em>, <em>roi_coords</em>, <em>tol</em>, <em>mode='any'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.streamline_near_roi\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Is a streamline near an ROI.</p>\n<p>Implements the inner loops of the <code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">near_roi()</span></code> function.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamline</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (N, 3)</span></dt>\n<dd><p class=\"first last\">A single streamline</p>\n</dd>\n<dt><strong>roi_coords</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (M, 3)</span></dt>\n<dd><p class=\"first last\">ROI coordinates transformed to the streamline coordinate frame.</p>\n</dd>\n<dt><strong>tol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Distance (in the units of the streamlines, usually mm). If any\ncoordinate in the streamline is within this distance from the center\nof any voxel in the ROI, this function returns True.</p>\n</dd>\n<dt><strong>mode</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">string</span></dt>\n<dd><p class=\"first\">One of {\u201cany\u201d, \u201call\u201d, \u201ceither_end\u201d, \u201cboth_end\u201d}, where return True\nif:</p>\n<p>\u201cany\u201d : any point is within tol from ROI.</p>\n<p>\u201call\u201d : all points are within tol from ROI.</p>\n<p>\u201ceither_end\u201d : either of the end-points is within tol from ROI</p>\n<p class=\"last\">\u201cboth_end\u201d : both end points are within tol from ROI.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>out</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">boolean</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id62\">\n<h3>transform_streamlines<a class=\"headerlink\" href=\"#id62\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.transform_streamlines\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">transform_streamlines</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>mat</em>, <em>in_place=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.transform_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Apply affine transformation to streamlines</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines</span></dt>\n<dd><p class=\"first last\">Streamlines object</p>\n</dd>\n<dt><strong>mat</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, (4, 4)</span></dt>\n<dd><p class=\"first last\">transformation matrix</p>\n</dd>\n<dt><strong>in_place</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool</span></dt>\n<dd><p class=\"first last\">If True then change data in place.\nBe careful changes input streamlines.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>new_streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">Streamlines</span></dt>\n<dd><p class=\"first last\">Sequence transformed 2D ndarrays of shape[-1]==3</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"unlist-streamlines\">\n<h3>unlist_streamlines<a class=\"headerlink\" href=\"#unlist-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.unlist_streamlines\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">unlist_streamlines</code><span class=\"sig-paren\">(</span><em>streamlines</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.unlist_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return the streamlines not as a list but as an array and an offset</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines: sequence</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>points</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd></dd>\n<dt><strong>offsets</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"values-from-volume\">\n<h3>values_from_volume<a class=\"headerlink\" href=\"#values-from-volume\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.values_from_volume\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">values_from_volume</code><span class=\"sig-paren\">(</span><em>data</em>, <em>streamlines</em>, <em>affine=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.values_from_volume\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Extract values of a scalar/vector along each streamline from a volume.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>data</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">3D or 4D array</span></dt>\n<dd><p class=\"first last\">Scalar (for 3D) and vector (for 4D) values to be extracted. For 4D\ndata, interpolation will be done on the 3 spatial dimensions in each\nvolume.</p>\n</dd>\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray or list</span></dt>\n<dd><p class=\"first last\">If array, of shape (n_streamlines, n_nodes, 3)\nIf list, len(n_streamlines) with (n_nodes, 3) array in\neach element of the list.</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray, shape (4, 4)</span></dt>\n<dd><p class=\"first last\">Affine transformation from voxels (image coordinates) to streamlines.\nDefault: identity. For example, if no affine is provided and the first\ncoordinate of the first streamline is <code class=\"docutils literal notranslate\"><span class=\"pre\">[1,</span> <span class=\"pre\">0,</span> <span class=\"pre\">0]</span></code>, data[1, 0, 0]\nwould be returned as the value for that streamline coordinate</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>Values are extracted from the image based on the 3D coordinates of the\nnodes that comprise the points in the streamline, without any interpolation\ninto segments between the nodes. Using this function with streamlines that\nhave been resampled into a very small number of nodes will result in very\nfew values.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id63\">\n<h3>warn<a class=\"headerlink\" href=\"#id63\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.streamline.warn\">\n<code class=\"descclassname\">dipy.tracking.streamline.</code><code class=\"descname\">warn</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.streamline.warn\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Issue a warning, or maybe ignore it or raise an exception.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"defaultdict\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.utils.defaultdict\" title=\"dipy.tracking.utils.defaultdict\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">defaultdict</span></code></a><a class=\"headerlink\" href=\"#defaultdict\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.utils.defaultdict\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">defaultdict</code><a class=\"headerlink\" href=\"#dipy.tracking.utils.defaultdict\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/stdtypes.html#dict\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">dict</span></code></a></p>\n<p>defaultdict(default_factory[, \u2026]) \u2013&gt; dict with default factory</p>\n<p>The default factory is called without arguments to produce\na new value when a key is not present, in __getitem__ only.\nA defaultdict compares equal to a dict with the same items.\nAll remaining arguments are treated the same as if they were\npassed to the dict constructor, including keyword arguments.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Attributes:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>default_factory</strong></dt>\n<dd><p class=\"first last\">Factory for default value called by __missing__().</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Methods</p>\n<table border=\"1\" class=\"longtable docutils\">\n<colgroup>\n<col width=\"10%\" />\n<col width=\"90%\" />\n</colgroup>\n<tbody valign=\"top\">\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">clear</span></code>()</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#dipy.tracking.utils.defaultdict.copy\" title=\"dipy.tracking.utils.defaultdict.copy\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">copy</span></code></a>()</td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">fromkeys</span></code>($type,&nbsp;iterable[,&nbsp;value])</td>\n<td>Returns a new dict with keys from iterable and values equal to value.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">get</span></code>(k[,d])</td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">items</span></code>()</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">keys</span></code>()</td>\n<td></td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">pop</span></code>(k[,d])</td>\n<td>If key is not found, d is returned if given, otherwise KeyError is raised</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">popitem</span></code>()</td>\n<td>2-tuple; but raise KeyError if D is empty.</td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">setdefault</span></code>(k[,d])</td>\n<td></td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">update</span></code>([E,&nbsp;]**F)</td>\n<td>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k] If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v In either case, this is followed by: for k in F:  D[k] = F[k]</td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">values</span></code>()</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.utils.defaultdict.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.defaultdict.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n<dl class=\"method\">\n<dt id=\"dipy.tracking.utils.defaultdict.copy\">\n<code class=\"descname\">copy</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span> &#x2192; a shallow copy of D.<a class=\"headerlink\" href=\"#dipy.tracking.utils.defaultdict.copy\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<dl class=\"attribute\">\n<dt id=\"dipy.tracking.utils.defaultdict.default_factory\">\n<code class=\"descname\">default_factory</code><a class=\"headerlink\" href=\"#dipy.tracking.utils.defaultdict.default_factory\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Factory for default value called by __missing__().</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"map\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.utils.map\" title=\"dipy.tracking.utils.map\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">map</span></code></a><a class=\"headerlink\" href=\"#map\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"class\">\n<dt id=\"dipy.tracking.utils.map\">\n<em class=\"property\">class </em><code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">map</code><a class=\"headerlink\" href=\"#dipy.tracking.utils.map\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Bases: <a class=\"reference external\" href=\"https://docs.python.org/3/library/functions.html#object\" title=\"(in Python v3.7)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">object</span></code></a></p>\n<p>map(func, <a href=\"#id64\"><span class=\"problematic\" id=\"id65\">*</span></a>iterables) \u2013&gt; map object</p>\n<p>Make an iterator that computes the function using arguments from\neach of the iterables.  Stops when the shortest iterable is exhausted.</p>\n<dl class=\"method\">\n<dt id=\"dipy.tracking.utils.map.__init__\">\n<code class=\"descname\">__init__</code><span class=\"sig-paren\">(</span><em>$self</em>, <em>/</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.map.__init__\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id66\">\n<h3><a class=\"reference internal\" href=\"#dipy.tracking.utils.xrange\" title=\"dipy.tracking.utils.xrange\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">xrange</span></code></a><a class=\"headerlink\" href=\"#id66\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"attribute\">\n<dt id=\"dipy.tracking.utils.xrange\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">xrange</code><a class=\"headerlink\" href=\"#dipy.tracking.utils.xrange\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>alias of <code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">builtins.range</span></code></p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"affine-for-trackvis\">\n<h3>affine_for_trackvis<a class=\"headerlink\" href=\"#affine-for-trackvis\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.affine_for_trackvis\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">affine_for_trackvis</code><span class=\"sig-paren\">(</span><em>voxel_size</em>, <em>voxel_order=None</em>, <em>dim=None</em>, <em>ref_img_voxel_order=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.affine_for_trackvis\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns an affine which maps points for voxel indices to trackvis\nspace.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>voxel_size</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (3,)</span></dt>\n<dd><p class=\"first last\">The sizes of the voxels in the reference image.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (4, 4)</span></dt>\n<dd><p class=\"first last\">Mapping from the voxel indices of the reference image to trackvis\nspace.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"affine-from-fsl-mat-file\">\n<h3>affine_from_fsl_mat_file<a class=\"headerlink\" href=\"#affine-from-fsl-mat-file\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.affine_from_fsl_mat_file\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">affine_from_fsl_mat_file</code><span class=\"sig-paren\">(</span><em>mat_affine</em>, <em>input_voxsz</em>, <em>output_voxsz</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.affine_from_fsl_mat_file\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Converts an affine matrix from flirt (FSLdot) and a given voxel size for\ninput and output images and returns an adjusted affine matrix for trackvis.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>mat_affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array of shape (4, 4)</span></dt>\n<dd><p class=\"first last\">An FSL flirt affine.</p>\n</dd>\n<dt><strong>input_voxsz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array of shape (3,)</span></dt>\n<dd><p class=\"first last\">The input image voxel dimensions.</p>\n</dd>\n<dt><strong>output_voxsz</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array of shape (3,)</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array of shape (4, 4)</span></dt>\n<dd><p class=\"first last\">A trackvis-compatible affine.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id67\">\n<h3>apply_affine<a class=\"headerlink\" href=\"#id67\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.apply_affine\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">apply_affine</code><span class=\"sig-paren\">(</span><em>aff</em>, <em>pts</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.apply_affine\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Apply affine matrix <cite>aff</cite> to points <cite>pts</cite></p>\n<p>Returns result of application of <cite>aff</cite> to the <em>right</em> of <cite>pts</cite>.  The\ncoordinate dimension of <cite>pts</cite> should be the last.</p>\n<p>For the 3D case, <cite>aff</cite> will be shape (4,4) and <cite>pts</cite> will have final axis\nlength 3 - maybe it will just be N by 3. The return value is the\ntransformed points, in this case:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">res</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">aff</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,:</span><span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"n\">pts</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"n\">aff</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">:</span><span class=\"mi\">4</span><span class=\"p\">]</span>\n<span class=\"n\">transformed_pts</span> <span class=\"o\">=</span> <span class=\"n\">res</span><span class=\"o\">.</span><span class=\"n\">T</span>\n</pre></div>\n</div>\n<p>This routine is more general than 3D, in that <cite>aff</cite> can have any shape\n(N,N), and <cite>pts</cite> can have any shape, as long as the last dimension is for\nthe coordinates, and is therefore length N-1.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>aff</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(N, N) array-like</span></dt>\n<dd><p class=\"first last\">Homogenous affine, for 3D points, will be 4 by 4. Contrary to first\nappearance, the affine will be applied on the left of <cite>pts</cite>.</p>\n</dd>\n<dt><strong>pts</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(\u2026, N-1) array-like</span></dt>\n<dd><p class=\"first last\">Points, where the last dimension contains the coordinates of each\npoint.  For 3D, the last dimension will be length 3.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>transformed_pts</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">(\u2026, N-1) array</span></dt>\n<dd><p class=\"first last\">transformed points</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">aff</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">10</span><span class=\"p\">],[</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">11</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">12</span><span class=\"p\">],[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pts</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">],[</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">],[</span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"mi\">7</span><span class=\"p\">,</span><span class=\"mi\">8</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">apply_affine</span><span class=\"p\">(</span><span class=\"n\">aff</span><span class=\"p\">,</span> <span class=\"n\">pts</span><span class=\"p\">)</span> \n<span class=\"go\">array([[14, 14, 24],</span>\n<span class=\"go\">       [16, 17, 28],</span>\n<span class=\"go\">       [20, 23, 36],</span>\n<span class=\"go\">       [24, 29, 44]]...)</span>\n</pre></div>\n</div>\n<p>Just to show that in the simple 3D case, it is equivalent to:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">aff</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,:</span><span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"n\">pts</span><span class=\"o\">.</span><span class=\"n\">T</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"n\">aff</span><span class=\"p\">[:</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">:</span><span class=\"mi\">4</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">T</span> \n<span class=\"go\">array([[14, 14, 24],</span>\n<span class=\"go\">       [16, 17, 28],</span>\n<span class=\"go\">       [20, 23, 36],</span>\n<span class=\"go\">       [24, 29, 44]]...)</span>\n</pre></div>\n</div>\n<p>But <cite>pts</cite> can be a more complicated shape:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pts</span> <span class=\"o\">=</span> <span class=\"n\">pts</span><span class=\"o\">.</span><span class=\"n\">reshape</span><span class=\"p\">((</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">apply_affine</span><span class=\"p\">(</span><span class=\"n\">aff</span><span class=\"p\">,</span> <span class=\"n\">pts</span><span class=\"p\">)</span> \n<span class=\"go\">array([[[14, 14, 24],</span>\n<span class=\"go\">        [16, 17, 28]],</span>\n\n<span class=\"go\">       [[20, 23, 36],</span>\n<span class=\"go\">        [24, 29, 44]]]...)</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"asarray\">\n<h3>asarray<a class=\"headerlink\" href=\"#asarray\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.asarray\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">asarray</code><span class=\"sig-paren\">(</span><em>a</em>, <em>dtype=None</em>, <em>order=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.asarray\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Convert the input to an array.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>a</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">Input data, in any form that can be converted to an array.  This\nincludes lists, lists of tuples, tuples, tuples of tuples, tuples\nof lists and ndarrays.</p>\n</dd>\n<dt><strong>dtype</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">data-type, optional</span></dt>\n<dd><p class=\"first last\">By default, the data-type is inferred from the input data.</p>\n</dd>\n<dt><strong>order</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{\u2018C\u2019, \u2018F\u2019}, optional</span></dt>\n<dd><p class=\"first last\">Whether to use row-major (C-style) or\ncolumn-major (Fortran-style) memory representation.\nDefaults to \u2018C\u2019.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>out</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Array interpretation of <cite>a</cite>.  No copy is performed if the input\nis already an ndarray with matching dtype and order.  If <cite>a</cite> is a\nsubclass of ndarray, a base class ndarray is returned.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<dl class=\"last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">asanyarray</span></code></dt>\n<dd>Similar function which passes through subclasses.</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ascontiguousarray</span></code></dt>\n<dd>Convert input to a contiguous array.</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">asfarray</span></code></dt>\n<dd>Convert input to a floating point ndarray.</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">asfortranarray</span></code></dt>\n<dd>Convert input to an ndarray with column-major memory order.</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">asarray_chkfinite</span></code></dt>\n<dd>Similar function which checks input for NaNs and Infs.</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">fromiter</span></code></dt>\n<dd>Create an array from an iterator.</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">fromfunction</span></code></dt>\n<dd>Construct an array by executing a function on grid positions.</dd>\n</dl>\n</div>\n<p class=\"rubric\">Examples</p>\n<p>Convert a list into an array:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">asarray</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span>\n<span class=\"go\">array([1, 2])</span>\n</pre></div>\n</div>\n<p>Existing arrays are not copied:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">asarray</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span> <span class=\"ow\">is</span> <span class=\"n\">a</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n<p>If <cite>dtype</cite> is set, array is copied only if dtype does not match:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">float32</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">asarray</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">float32</span><span class=\"p\">)</span> <span class=\"ow\">is</span> <span class=\"n\">a</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">asarray</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">float64</span><span class=\"p\">)</span> <span class=\"ow\">is</span> <span class=\"n\">a</span>\n<span class=\"go\">False</span>\n</pre></div>\n</div>\n<p>Contrary to <cite>asanyarray</cite>, ndarray subclasses are not passed through:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">issubclass</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">recarray</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">ndarray</span><span class=\"p\">)</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([(</span><span class=\"mf\">1.0</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"mf\">3.0</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">)],</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"s1\">&#39;f4,i4&#39;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">view</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">recarray</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">asarray</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span> <span class=\"ow\">is</span> <span class=\"n\">a</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">asanyarray</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span> <span class=\"ow\">is</span> <span class=\"n\">a</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id68\">\n<h3>cdist<a class=\"headerlink\" href=\"#id68\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.cdist\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">cdist</code><span class=\"sig-paren\">(</span><em>XA</em>, <em>XB</em>, <em>metric='euclidean'</em>, <em>*args</em>, <em>**kwargs</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.cdist\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Compute distance between each pair of the two collections of inputs.</p>\n<p>See Notes for common calling conventions.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>XA</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">An <span class=\"math notranslate nohighlight\">\\(m_A\\)</span> by <span class=\"math notranslate nohighlight\">\\(n\\)</span> array of <span class=\"math notranslate nohighlight\">\\(m_A\\)</span>\noriginal observations in an <span class=\"math notranslate nohighlight\">\\(n\\)</span>-dimensional space.\nInputs are converted to float type.</p>\n</dd>\n<dt><strong>XB</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">An <span class=\"math notranslate nohighlight\">\\(m_B\\)</span> by <span class=\"math notranslate nohighlight\">\\(n\\)</span> array of <span class=\"math notranslate nohighlight\">\\(m_B\\)</span>\noriginal observations in an <span class=\"math notranslate nohighlight\">\\(n\\)</span>-dimensional space.\nInputs are converted to float type.</p>\n</dd>\n<dt><strong>metric</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">str or callable, optional</span></dt>\n<dd><p class=\"first last\">The distance metric to use.  If a string, the distance function can be\n\u2018braycurtis\u2019, \u2018canberra\u2019, \u2018chebyshev\u2019, \u2018cityblock\u2019, \u2018correlation\u2019,\n\u2018cosine\u2019, \u2018dice\u2019, \u2018euclidean\u2019, \u2018hamming\u2019, \u2018jaccard\u2019, \u2018kulsinski\u2019,\n\u2018mahalanobis\u2019, \u2018matching\u2019, \u2018minkowski\u2019, \u2018rogerstanimoto\u2019, \u2018russellrao\u2019,\n\u2018seuclidean\u2019, \u2018sokalmichener\u2019, \u2018sokalsneath\u2019, \u2018sqeuclidean\u2019,\n\u2018wminkowski\u2019, \u2018yule\u2019.</p>\n</dd>\n<dt><strong>*args</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">tuple. Deprecated.</span></dt>\n<dd><p class=\"first last\">Additional arguments should be passed as keyword arguments</p>\n</dd>\n<dt><strong>**kwargs</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">dict, optional</span></dt>\n<dd><p class=\"first\">Extra arguments to <cite>metric</cite>: refer to each metric documentation for a\nlist of all possible arguments.</p>\n<p>Some possible arguments:</p>\n<p>p : scalar\nThe p-norm to apply for Minkowski, weighted and unweighted.\nDefault: 2.</p>\n<p>w : ndarray\nThe weight vector for metrics that support weights (e.g., Minkowski).</p>\n<p>V : ndarray\nThe variance vector for standardized Euclidean.\nDefault: var(vstack([XA, XB]), axis=0, ddof=1)</p>\n<p>VI : ndarray\nThe inverse of the covariance matrix for Mahalanobis.\nDefault: inv(cov(vstack([XA, XB].T))).T</p>\n<p class=\"last\">out : ndarray\nThe output array\nIf not None, the distance matrix Y is stored in this array.\nNote: metric independent, it will become a regular keyword arg in a\nfuture scipy version</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>Y</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">A <span class=\"math notranslate nohighlight\">\\(m_A\\)</span> by <span class=\"math notranslate nohighlight\">\\(m_B\\)</span> distance matrix is returned.\nFor each <span class=\"math notranslate nohighlight\">\\(i\\)</span> and <span class=\"math notranslate nohighlight\">\\(j\\)</span>, the metric\n<code class=\"docutils literal notranslate\"><span class=\"pre\">dist(u=XA[i],</span> <span class=\"pre\">v=XB[j])</span></code> is computed and stored in the\n<span class=\"math notranslate nohighlight\">\\(ij\\)</span> th entry.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-odd field\"><th class=\"field-name\">Raises:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>ValueError</strong></dt>\n<dd><p class=\"first last\">An exception is thrown if <cite>XA</cite> and <cite>XB</cite> do not have\nthe same number of columns.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>The following are common calling conventions:</p>\n<ol class=\"arabic\">\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'euclidean')</span></code></p>\n<p>Computes the distance between <span class=\"math notranslate nohighlight\">\\(m\\)</span> points using\nEuclidean distance (2-norm) as the distance metric between the\npoints. The points are arranged as <span class=\"math notranslate nohighlight\">\\(m\\)</span>\n<span class=\"math notranslate nohighlight\">\\(n\\)</span>-dimensional row vectors in the matrix X.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'minkowski',</span> <span class=\"pre\">p=2.)</span></code></p>\n<p>Computes the distances using the Minkowski distance\n<span class=\"math notranslate nohighlight\">\\(||u-v||_p\\)</span> (<span class=\"math notranslate nohighlight\">\\(p\\)</span>-norm) where <span class=\"math notranslate nohighlight\">\\(p \\geq 1\\)</span>.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'cityblock')</span></code></p>\n<p>Computes the city block or Manhattan distance between the\npoints.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'seuclidean',</span> <span class=\"pre\">V=None)</span></code></p>\n<p>Computes the standardized Euclidean distance. The standardized\nEuclidean distance between two n-vectors <code class=\"docutils literal notranslate\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v</span></code> is</p>\n<div class=\"math notranslate nohighlight\">\n\\[\\sqrt{\\sum {(u_i-v_i)^2 / V[x_i]}}.\\]</div>\n<p>V is the variance vector; V[i] is the variance computed over all\nthe i\u2019th components of the points. If not passed, it is\nautomatically computed.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'sqeuclidean')</span></code></p>\n<p>Computes the squared Euclidean distance <span class=\"math notranslate nohighlight\">\\(||u-v||_2^2\\)</span> between\nthe vectors.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'cosine')</span></code></p>\n<p>Computes the cosine distance between vectors u and v,</p>\n<div class=\"math notranslate nohighlight\">\n\\[1 - \\frac{u \\cdot v}\n         {{||u||}_2 {||v||}_2}\\]</div>\n<p>where <span class=\"math notranslate nohighlight\">\\(||*||_2\\)</span> is the 2-norm of its argument <code class=\"docutils literal notranslate\"><span class=\"pre\">*</span></code>, and\n<span class=\"math notranslate nohighlight\">\\(u \\cdot v\\)</span> is the dot product of <span class=\"math notranslate nohighlight\">\\(u\\)</span> and <span class=\"math notranslate nohighlight\">\\(v\\)</span>.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'correlation')</span></code></p>\n<p>Computes the correlation distance between vectors u and v. This is</p>\n<div class=\"math notranslate nohighlight\">\n\\[1 - \\frac{(u - \\bar{u}) \\cdot (v - \\bar{v})}\n         {{||(u - \\bar{u})||}_2 {||(v - \\bar{v})||}_2}\\]</div>\n<p>where <span class=\"math notranslate nohighlight\">\\(\\bar{v}\\)</span> is the mean of the elements of vector v,\nand <span class=\"math notranslate nohighlight\">\\(x \\cdot y\\)</span> is the dot product of <span class=\"math notranslate nohighlight\">\\(x\\)</span> and <span class=\"math notranslate nohighlight\">\\(y\\)</span>.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'hamming')</span></code></p>\n<p>Computes the normalized Hamming distance, or the proportion of\nthose vector elements between two n-vectors <code class=\"docutils literal notranslate\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v</span></code>\nwhich disagree. To save memory, the matrix <code class=\"docutils literal notranslate\"><span class=\"pre\">X</span></code> can be of type\nboolean.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'jaccard')</span></code></p>\n<p>Computes the Jaccard distance between the points. Given two\nvectors, <code class=\"docutils literal notranslate\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v</span></code>, the Jaccard distance is the\nproportion of those elements <code class=\"docutils literal notranslate\"><span class=\"pre\">u[i]</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v[i]</span></code> that\ndisagree where at least one of them is non-zero.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'chebyshev')</span></code></p>\n</li>\n</ol>\n<blockquote>\n<div><p>Computes the Chebyshev distance between the points. The\nChebyshev distance between two n-vectors <code class=\"docutils literal notranslate\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v</span></code> is the\nmaximum norm-1 distance between their respective elements. More\nprecisely, the distance is given by</p>\n<div class=\"math notranslate nohighlight\">\n\\[d(u,v) = \\max_i {|u_i-v_i|}.\\]</div>\n</div></blockquote>\n<ol class=\"arabic simple\" start=\"11\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'canberra')</span></code></li>\n</ol>\n<blockquote>\n<div><p>Computes the Canberra distance between the points. The\nCanberra distance between two points <code class=\"docutils literal notranslate\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v</span></code> is</p>\n<div class=\"math notranslate nohighlight\">\n\\[d(u,v) = \\sum_i \\frac{|u_i-v_i|}\n                     {|u_i|+|v_i|}.\\]</div>\n</div></blockquote>\n<ol class=\"arabic simple\" start=\"12\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'braycurtis')</span></code></li>\n</ol>\n<blockquote>\n<div><p>Computes the Bray-Curtis distance between the points. The\nBray-Curtis distance between two points <code class=\"docutils literal notranslate\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v</span></code> is</p>\n<div class=\"math notranslate nohighlight\">\n\\[d(u,v) = \\frac{\\sum_i (|u_i-v_i|)}\n              {\\sum_i (|u_i+v_i|)}\\]</div>\n</div></blockquote>\n<ol class=\"arabic simple\" start=\"13\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'mahalanobis',</span> <span class=\"pre\">VI=None)</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Mahalanobis distance between the points. The\nMahalanobis distance between two points <code class=\"docutils literal notranslate\"><span class=\"pre\">u</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">v</span></code> is\n<span class=\"math notranslate nohighlight\">\\(\\sqrt{(u-v)(1/V)(u-v)^T}\\)</span> where <span class=\"math notranslate nohighlight\">\\((1/V)\\)</span> (the <code class=\"docutils literal notranslate\"><span class=\"pre\">VI</span></code>\nvariable) is the inverse covariance. If <code class=\"docutils literal notranslate\"><span class=\"pre\">VI</span></code> is not None,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">VI</span></code> will be used as the inverse covariance matrix.</div></blockquote>\n<ol class=\"arabic simple\" start=\"14\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'yule')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Yule distance between the boolean\nvectors. (see <cite>yule</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"15\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'matching')</span></code></li>\n</ol>\n<blockquote>\n<div>Synonym for \u2018hamming\u2019.</div></blockquote>\n<ol class=\"arabic simple\" start=\"16\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'dice')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Dice distance between the boolean vectors. (see\n<cite>dice</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"17\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'kulsinski')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Kulsinski distance between the boolean\nvectors. (see <cite>kulsinski</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"18\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'rogerstanimoto')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Rogers-Tanimoto distance between the boolean\nvectors. (see <cite>rogerstanimoto</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"19\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'russellrao')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Russell-Rao distance between the boolean\nvectors. (see <cite>russellrao</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"20\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'sokalmichener')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Sokal-Michener distance between the boolean\nvectors. (see <cite>sokalmichener</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"21\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'sokalsneath')</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the Sokal-Sneath distance between the vectors. (see\n<cite>sokalsneath</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"22\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">'wminkowski',</span> <span class=\"pre\">p=2.,</span> <span class=\"pre\">w=w)</span></code></li>\n</ol>\n<blockquote>\n<div>Computes the weighted Minkowski distance between the\nvectors. (see <cite>wminkowski</cite> function documentation)</div></blockquote>\n<ol class=\"arabic simple\" start=\"23\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Y</span> <span class=\"pre\">=</span> <span class=\"pre\">cdist(XA,</span> <span class=\"pre\">XB,</span> <span class=\"pre\">f)</span></code></li>\n</ol>\n<blockquote>\n<div><p>Computes the distance between all pairs of vectors in X\nusing the user supplied 2-arity function f. For example,\nEuclidean distance between the vectors could be computed\nas follows:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">dm</span> <span class=\"o\">=</span> <span class=\"n\">cdist</span><span class=\"p\">(</span><span class=\"n\">XA</span><span class=\"p\">,</span> <span class=\"n\">XB</span><span class=\"p\">,</span> <span class=\"k\">lambda</span> <span class=\"n\">u</span><span class=\"p\">,</span> <span class=\"n\">v</span><span class=\"p\">:</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(((</span><span class=\"n\">u</span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"p\">)</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">()))</span>\n</pre></div>\n</div>\n<p>Note that you should avoid passing a reference to one of\nthe distance functions defined in this library. For example,:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">dm</span> <span class=\"o\">=</span> <span class=\"n\">cdist</span><span class=\"p\">(</span><span class=\"n\">XA</span><span class=\"p\">,</span> <span class=\"n\">XB</span><span class=\"p\">,</span> <span class=\"n\">sokalsneath</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>would calculate the pair-wise distances between the vectors in\nX using the Python function <cite>sokalsneath</cite>. This would result in\nsokalsneath being called <span class=\"math notranslate nohighlight\">\\({n \\choose 2}\\)</span> times, which\nis inefficient. Instead, the optimized C version is more\nefficient, and we call it using the following syntax:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">dm</span> <span class=\"o\">=</span> <span class=\"n\">cdist</span><span class=\"p\">(</span><span class=\"n\">XA</span><span class=\"p\">,</span> <span class=\"n\">XB</span><span class=\"p\">,</span> <span class=\"s1\">&#39;sokalsneath&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div></blockquote>\n<p class=\"rubric\">Examples</p>\n<p>Find the Euclidean distances between four 2-D coordinates:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">scipy.spatial</span> <span class=\"k\">import</span> <span class=\"n\">distance</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">coords</span> <span class=\"o\">=</span> <span class=\"p\">[(</span><span class=\"mf\">35.0456</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">85.2672</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>          <span class=\"p\">(</span><span class=\"mf\">35.1174</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">89.9711</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>          <span class=\"p\">(</span><span class=\"mf\">35.9728</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">83.9422</span><span class=\"p\">),</span>\n<span class=\"gp\">... </span>          <span class=\"p\">(</span><span class=\"mf\">36.1667</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">86.7833</span><span class=\"p\">)]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">distance</span><span class=\"o\">.</span><span class=\"n\">cdist</span><span class=\"p\">(</span><span class=\"n\">coords</span><span class=\"p\">,</span> <span class=\"n\">coords</span><span class=\"p\">,</span> <span class=\"s1\">&#39;euclidean&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">array([[ 0.    ,  4.7044,  1.6172,  1.8856],</span>\n<span class=\"go\">       [ 4.7044,  0.    ,  6.0893,  3.3561],</span>\n<span class=\"go\">       [ 1.6172,  6.0893,  0.    ,  2.8477],</span>\n<span class=\"go\">       [ 1.8856,  3.3561,  2.8477,  0.    ]])</span>\n</pre></div>\n</div>\n<p>Find the Manhattan distance from a 3-D point to the corners of the unit\ncube:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>              <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span> <span class=\"mf\">0.1</span><span class=\"p\">,</span>  <span class=\"mf\">0.2</span><span class=\"p\">,</span>  <span class=\"mf\">0.4</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">distance</span><span class=\"o\">.</span><span class=\"n\">cdist</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">,</span> <span class=\"s1\">&#39;cityblock&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">array([[ 0.7],</span>\n<span class=\"go\">       [ 0.9],</span>\n<span class=\"go\">       [ 1.3],</span>\n<span class=\"go\">       [ 1.5],</span>\n<span class=\"go\">       [ 1.5],</span>\n<span class=\"go\">       [ 1.7],</span>\n<span class=\"go\">       [ 2.1],</span>\n<span class=\"go\">       [ 2.3]])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"connectivity-matrix\">\n<h3>connectivity_matrix<a class=\"headerlink\" href=\"#connectivity-matrix\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.connectivity_matrix\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">connectivity_matrix</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>label_volume</em>, <em>voxel_size=None</em>, <em>affine=None</em>, <em>symmetric=True</em>, <em>return_mapping=False</em>, <em>mapping_as_streamlines=False</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.connectivity_matrix\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Counts the streamlines that start and end at each label pair.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">A sequence of streamlines.</p>\n</dd>\n<dt><strong>label_volume</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">An image volume with an integer data type, where the intensities in the\nvolume map to anatomical structures.</p>\n</dd>\n<dt><strong>voxel_size :</strong></dt>\n<dd><p class=\"first last\">This argument is deprecated.</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like (4, 4)</span></dt>\n<dd><p class=\"first last\">The mapping from voxel coordinates to streamline coordinates.</p>\n</dd>\n<dt><strong>symmetric</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, True by default</span></dt>\n<dd><p class=\"first last\">Symmetric means we don\u2019t distinguish between start and end points. If\nsymmetric is True, <code class=\"docutils literal notranslate\"><span class=\"pre\">matrix[i,</span> <span class=\"pre\">j]</span> <span class=\"pre\">==</span> <span class=\"pre\">matrix[j,</span> <span class=\"pre\">i]</span></code>.</p>\n</dd>\n<dt><strong>return_mapping</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, False by default</span></dt>\n<dd><p class=\"first last\">If True, a mapping is returned which maps matrix indices to\nstreamlines.</p>\n</dd>\n<dt><strong>mapping_as_streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, False by default</span></dt>\n<dd><p class=\"first last\">If True voxel indices map to lists of streamline objects. Otherwise\nvoxel indices map to lists of integers.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>matrix</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">The number of connection between each pair of regions in\n<cite>label_volume</cite>.</p>\n</dd>\n<dt><strong>mapping</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">defaultdict(list)</span></dt>\n<dd><p class=\"first last\"><code class=\"docutils literal notranslate\"><span class=\"pre\">mapping[i,</span> <span class=\"pre\">j]</span></code> returns all the streamlines that connect region <cite>i</cite>\nto region <cite>j</cite>. If <cite>symmetric</cite> is True mapping will only have one key\nfor each start end pair such that if <code class=\"docutils literal notranslate\"><span class=\"pre\">i</span> <span class=\"pre\">&lt;</span> <span class=\"pre\">j</span></code> mapping will have key\n<code class=\"docutils literal notranslate\"><span class=\"pre\">(i,</span> <span class=\"pre\">j)</span></code> but not key <code class=\"docutils literal notranslate\"><span class=\"pre\">(j,</span> <span class=\"pre\">i)</span></code>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"density-map\">\n<h3>density_map<a class=\"headerlink\" href=\"#density-map\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.density_map\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">density_map</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>vol_dims</em>, <em>voxel_size=None</em>, <em>affine=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.density_map\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Counts the number of unique streamlines that pass through each voxel.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">iterable</span></dt>\n<dd><p class=\"first last\">A sequence of streamlines.</p>\n</dd>\n<dt><strong>vol_dims</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">3 ints</span></dt>\n<dd><p class=\"first last\">The shape of the volume to be returned containing the streamlines\ncounts</p>\n</dd>\n<dt><strong>voxel_size :</strong></dt>\n<dd><p class=\"first last\">This argument is deprecated.</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like (4, 4)</span></dt>\n<dd><p class=\"first last\">The mapping from voxel coordinates to streamline points.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>image_volume</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray, shape=vol_dims</span></dt>\n<dd><p class=\"first last\">The number of streamline points in each voxel of volume.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-odd field\"><th class=\"field-name\">Raises:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>IndexError</strong></dt>\n<dd><p class=\"first last\">When the points of the streamlines lie outside of the return volume.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>A streamline can pass through a voxel even if one of the points of the\nstreamline does not lie in the voxel. For example a step from [0,0,0] to\n[0,0,2] passes through [0,0,1]. Consider subsegmenting the streamlines when\nthe edges of the voxels are smaller than the steps of the streamlines.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id69\">\n<h3>dist_to_corner<a class=\"headerlink\" href=\"#id69\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.dist_to_corner\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">dist_to_corner</code><span class=\"sig-paren\">(</span><em>affine</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.dist_to_corner\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculate the maximal distance from the center to a corner of a voxel,\ngiven an affine</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">4 by 4 array.</span></dt>\n<dd><p class=\"first last\">The spatial transformation from the measurement to the scanner space.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>dist: float</strong></dt>\n<dd><p class=\"first last\">The maximal distance to the corner of a voxel, given voxel size encoded\nin the affine.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"dot\">\n<h3>dot<a class=\"headerlink\" href=\"#dot\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.dot\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">dot</code><span class=\"sig-paren\">(</span><em>a</em>, <em>b</em>, <em>out=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.dot\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Dot product of two arrays. Specifically,</p>\n<ul>\n<li><p class=\"first\">If both <cite>a</cite> and <cite>b</cite> are 1-D arrays, it is inner product of vectors\n(without complex conjugation).</p>\n</li>\n<li><p class=\"first\">If both <cite>a</cite> and <cite>b</cite> are 2-D arrays, it is matrix multiplication,\nbut using <code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">matmul()</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">a</span> <span class=\"pre\">&#64;</span> <span class=\"pre\">b</span></code> is preferred.</p>\n</li>\n<li><p class=\"first\">If either <cite>a</cite> or <cite>b</cite> is 0-D (scalar), it is equivalent to <code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">multiply()</span></code>\nand using <code class=\"docutils literal notranslate\"><span class=\"pre\">numpy.multiply(a,</span> <span class=\"pre\">b)</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">a</span> <span class=\"pre\">*</span> <span class=\"pre\">b</span></code> is preferred.</p>\n</li>\n<li><p class=\"first\">If <cite>a</cite> is an N-D array and <cite>b</cite> is a 1-D array, it is a sum product over\nthe last axis of <cite>a</cite> and <cite>b</cite>.</p>\n</li>\n<li><p class=\"first\">If <cite>a</cite> is an N-D array and <cite>b</cite> is an M-D array (where <code class=\"docutils literal notranslate\"><span class=\"pre\">M&gt;=2</span></code>), it is a\nsum product over the last axis of <cite>a</cite> and the second-to-last axis of <cite>b</cite>:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">)[</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"n\">j</span><span class=\"p\">,</span><span class=\"n\">k</span><span class=\"p\">,</span><span class=\"n\">m</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nb\">sum</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"n\">j</span><span class=\"p\">,:]</span> <span class=\"o\">*</span> <span class=\"n\">b</span><span class=\"p\">[</span><span class=\"n\">k</span><span class=\"p\">,:,</span><span class=\"n\">m</span><span class=\"p\">])</span>\n</pre></div>\n</div>\n</li>\n</ul>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>a</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">First argument.</p>\n</dd>\n<dt><strong>b</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">Second argument.</p>\n</dd>\n<dt><strong>out</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray, optional</span></dt>\n<dd><p class=\"first last\">Output argument. This must have the exact kind that would be returned\nif it was not used. In particular, it must have the right type, must be\nC-contiguous, and its dtype must be the dtype that would be returned\nfor <cite>dot(a,b)</cite>. This is a performance feature. Therefore, if these\nconditions are not met, an exception is raised, instead of attempting\nto be flexible.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>output</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Returns the dot product of <cite>a</cite> and <cite>b</cite>.  If <cite>a</cite> and <cite>b</cite> are both\nscalars or both 1-D arrays then a scalar is returned; otherwise\nan array is returned.\nIf <cite>out</cite> is given, then it is returned.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-odd field\"><th class=\"field-name\">Raises:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>ValueError</strong></dt>\n<dd><p class=\"first last\">If the last dimension of <cite>a</cite> is not the same size as\nthe second-to-last dimension of <cite>b</cite>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<dl class=\"last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">vdot</span></code></dt>\n<dd>Complex-conjugating dot product.</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">tensordot</span></code></dt>\n<dd>Sum products over arbitrary axes.</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">einsum</span></code></dt>\n<dd>Einstein summation convention.</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">matmul</span></code></dt>\n<dd>\u2018&#64;\u2019 operator as method with out parameter.</dd>\n</dl>\n</div>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">)</span>\n<span class=\"go\">12</span>\n</pre></div>\n</div>\n<p>Neither argument is complex-conjugated:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">([</span><span class=\"mi\">2</span><span class=\"n\">j</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"n\">j</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"n\">j</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"n\">j</span><span class=\"p\">])</span>\n<span class=\"go\">(-13+0j)</span>\n</pre></div>\n</div>\n<p>For 2-D arrays it is the matrix product:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"p\">[[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">]]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"p\">[[</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">]]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">)</span>\n<span class=\"go\">array([[4, 1],</span>\n<span class=\"go\">       [2, 2]])</span>\n</pre></div>\n</div>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">arange</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"o\">*</span><span class=\"mi\">4</span><span class=\"o\">*</span><span class=\"mi\">5</span><span class=\"o\">*</span><span class=\"mi\">6</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">reshape</span><span class=\"p\">((</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">arange</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"o\">*</span><span class=\"mi\">4</span><span class=\"o\">*</span><span class=\"mi\">5</span><span class=\"o\">*</span><span class=\"mi\">6</span><span class=\"p\">)[::</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">reshape</span><span class=\"p\">((</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">dot</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">)[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]</span>\n<span class=\"go\">499128</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">sum</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,:]</span> <span class=\"o\">*</span> <span class=\"n\">b</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,:,</span><span class=\"mi\">2</span><span class=\"p\">])</span>\n<span class=\"go\">499128</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"empty\">\n<h3>empty<a class=\"headerlink\" href=\"#empty\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.empty\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">empty</code><span class=\"sig-paren\">(</span><em>shape</em>, <em>dtype=float</em>, <em>order='C'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.empty\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return a new array of given shape and type, without initializing entries.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>shape</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int or tuple of int</span></dt>\n<dd><p class=\"first last\">Shape of the empty array, e.g., <code class=\"docutils literal notranslate\"><span class=\"pre\">(2,</span> <span class=\"pre\">3)</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">2</span></code>.</p>\n</dd>\n<dt><strong>dtype</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">data-type, optional</span></dt>\n<dd><p class=\"first last\">Desired output data-type for the array, e.g, <cite>numpy.int8</cite>. Default is\n<cite>numpy.float64</cite>.</p>\n</dd>\n<dt><strong>order</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{\u2018C\u2019, \u2018F\u2019}, optional, default: \u2018C\u2019</span></dt>\n<dd><p class=\"first last\">Whether to store multi-dimensional data in row-major\n(C-style) or column-major (Fortran-style) order in\nmemory.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>out</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Array of uninitialized (arbitrary) data of the given shape, dtype, and\norder.  Object arrays will be initialized to None.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<dl class=\"last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">empty_like</span></code></dt>\n<dd>Return an empty array with shape and type of input.</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">ones</span></code></dt>\n<dd>Return a new array setting values to one.</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">zeros</span></code></dt>\n<dd>Return a new array setting values to zero.</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">full</span></code></dt>\n<dd>Return a new array of given shape filled with value.</dd>\n</dl>\n</div>\n<p class=\"rubric\">Notes</p>\n<p><cite>empty</cite>, unlike <cite>zeros</cite>, does not set the array values to zero,\nand may therefore be marginally faster.  On the other hand, it requires\nthe user to manually set all the values in the array, and should be\nused with caution.</p>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">empty</span><span class=\"p\">([</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">])</span>\n<span class=\"go\">array([[ -9.74499359e+001,   6.69583040e-309],</span>\n<span class=\"go\">       [  2.13182611e-314,   3.06959433e-309]])         #random</span>\n</pre></div>\n</div>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">empty</span><span class=\"p\">([</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"nb\">int</span><span class=\"p\">)</span>\n<span class=\"go\">array([[-1073741821, -1067949133],</span>\n<span class=\"go\">       [  496041986,    19249760]])                     #random</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"eye\">\n<h3>eye<a class=\"headerlink\" href=\"#eye\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.eye\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">eye</code><span class=\"sig-paren\">(</span><em>N</em>, <em>M=None</em>, <em>k=0</em>, <em>dtype=&lt;class 'float'&gt;</em>, <em>order='C'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.eye\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Return a 2-D array with ones on the diagonal and zeros elsewhere.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>N</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Number of rows in the output.</p>\n</dd>\n<dt><strong>M</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">Number of columns in the output. If None, defaults to <cite>N</cite>.</p>\n</dd>\n<dt><strong>k</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int, optional</span></dt>\n<dd><p class=\"first last\">Index of the diagonal: 0 (the default) refers to the main diagonal,\na positive value refers to an upper diagonal, and a negative value\nto a lower diagonal.</p>\n</dd>\n<dt><strong>dtype</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">data-type, optional</span></dt>\n<dd><p class=\"first last\">Data-type of the returned array.</p>\n</dd>\n<dt><strong>order</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{\u2018C\u2019, \u2018F\u2019}, optional</span></dt>\n<dd><p class=\"first\">Whether the output should be stored in row-major (C-style) or\ncolumn-major (Fortran-style) order in memory.</p>\n<div class=\"last versionadded\">\n<p><span class=\"versionmodified\">New in version 1.14.0.</span></p>\n</div>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>I</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray of shape (N,M)</span></dt>\n<dd><p class=\"first last\">An array where all elements are equal to zero, except for the <cite>k</cite>-th\ndiagonal, whose values are equal to one.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<dl class=\"last docutils\">\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">identity</span></code></dt>\n<dd>(almost) equivalent function</dd>\n<dt><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">diag</span></code></dt>\n<dd>diagonal 2-D array from a 1-D array specified by the user.</dd>\n</dl>\n</div>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">eye</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"nb\">int</span><span class=\"p\">)</span>\n<span class=\"go\">array([[1, 0],</span>\n<span class=\"go\">       [0, 1]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">eye</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"n\">k</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"go\">array([[ 0.,  1.,  0.],</span>\n<span class=\"go\">       [ 0.,  0.,  1.],</span>\n<span class=\"go\">       [ 0.,  0.,  0.]])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"flexi-tvis-affine\">\n<h3>flexi_tvis_affine<a class=\"headerlink\" href=\"#flexi-tvis-affine\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.flexi_tvis_affine\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">flexi_tvis_affine</code><span class=\"sig-paren\">(</span><em>sl_vox_order</em>, <em>grid_affine</em>, <em>dim</em>, <em>voxel_size</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.flexi_tvis_affine\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><dl class=\"docutils\">\n<dt>Computes the mapping from voxel indices to streamline points,</dt>\n<dd>reconciling streamlines and grids with different voxel orders</dd>\n</dl>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>sl_vox_order</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">string of length 3</span></dt>\n<dd><p class=\"first last\">a string that describes the voxel order of the streamlines (ex: LPS)</p>\n</dd>\n<dt><strong>grid_affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (4, 4),</span></dt>\n<dd><p class=\"first last\">An affine matrix describing the current space of the grid in relation\nto RAS+ scanner space</p>\n</dd>\n<dt><strong>dim</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">tuple of length 3</span></dt>\n<dd><p class=\"first last\">dimension of the grid</p>\n</dd>\n<dt><strong>voxel_size</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (3,0)</span></dt>\n<dd><p class=\"first last\">voxel size of the grid</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>flexi_tvis_aff</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">this affine maps between a grid and a trackvis space</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"get-flexi-tvis-affine\">\n<h3>get_flexi_tvis_affine<a class=\"headerlink\" href=\"#get-flexi-tvis-affine\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.get_flexi_tvis_affine\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">get_flexi_tvis_affine</code><span class=\"sig-paren\">(</span><em>tvis_hdr</em>, <em>nii_aff</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.get_flexi_tvis_affine\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><dl class=\"docutils\">\n<dt>Computes the mapping from voxel indices to streamline points,</dt>\n<dd>reconciling streamlines and grids with different voxel orders</dd>\n</dl>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>tvis_hdr</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">header from a trackvis file</span></dt>\n<dd></dd>\n<dt><strong>nii_aff</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (4, 4),</span></dt>\n<dd><p class=\"first last\">An affine matrix describing the current space of the grid in relation\nto RAS+ scanner space</p>\n</dd>\n<dt><strong>nii_data</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">nd array</span></dt>\n<dd><p class=\"first last\">3D array, each with shape (x, y, z) corresponding to the shape of the\nbrain volume.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>flexi_tvis_aff</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (4,4)</span></dt>\n<dd><p class=\"first last\">this affine maps between a grid and a trackvis space</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id70\">\n<h3>length<a class=\"headerlink\" href=\"#id70\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.length\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">length</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>affine=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.length\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculate the lengths of many streamlines in a bundle.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list</span></dt>\n<dd><p class=\"first last\">Each item in the list is an array with 3D coordinates of a streamline.</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">4 x 4 array</span></dt>\n<dd><p class=\"first last\">An affine transformation to move the fibers by, before computing their\nlengths.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>Iterator object which then computes the length of each</strong></dt>\n<dd></dd>\n<dt><strong>streamline in the bundle, upon iteration.</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"minimum-at\">\n<h3>minimum_at<a class=\"headerlink\" href=\"#minimum-at\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.minimum_at\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">minimum_at</code><span class=\"sig-paren\">(</span><em>a</em>, <em>indices</em>, <em>b=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.minimum_at\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Performs unbuffered in place operation on operand \u2018a\u2019 for elements\nspecified by \u2018indices\u2019. For addition ufunc, this method is equivalent to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">a[indices]</span> <span class=\"pre\">+=</span> <span class=\"pre\">b</span></code>, except that results are accumulated for elements that\nare indexed more than once. For example, <code class=\"docutils literal notranslate\"><span class=\"pre\">a[[0,0]]</span> <span class=\"pre\">+=</span> <span class=\"pre\">1</span></code> will only\nincrement the first element once because of buffering, whereas\n<code class=\"docutils literal notranslate\"><span class=\"pre\">add.at(a,</span> <span class=\"pre\">[0,0],</span> <span class=\"pre\">1)</span></code> will increment the first element twice.</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified\">New in version 1.8.0.</span></p>\n</div>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>a</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">The array to perform in place operation on.</p>\n</dd>\n<dt><strong>indices</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like or tuple</span></dt>\n<dd><p class=\"first last\">Array like index object or slice object for indexing into first\noperand. If first operand has multiple dimensions, indices can be a\ntuple of array like index objects or slice objects.</p>\n</dd>\n<dt><strong>b</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like</span></dt>\n<dd><p class=\"first last\">Second operand for ufuncs requiring two operands. Operand must be\nbroadcastable over first operand after indexing or slicing.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Examples</p>\n<p>Set items 0 and 1 to their negative values:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">negative</span><span class=\"o\">.</span><span class=\"n\">at</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span>\n<span class=\"go\">array([-1, -2, 3, 4])</span>\n</pre></div>\n</div>\n<p>Increment items 0 and 1, and increment item 2 twice:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"o\">.</span><span class=\"n\">at</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span>\n<span class=\"go\">array([2, 3, 5, 4])</span>\n</pre></div>\n</div>\n<p>Add items 0 and 1 in first array to second array,\nand store results in first array:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">b</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"o\">.</span><span class=\"n\">at</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"n\">b</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">)</span>\n<span class=\"go\">array([2, 4, 3, 4])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"move-streamlines\">\n<h3>move_streamlines<a class=\"headerlink\" href=\"#move-streamlines\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.move_streamlines\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">move_streamlines</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>output_space</em>, <em>input_space=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.move_streamlines\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Applies a linear transformation, given by affine, to streamlines.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence</span></dt>\n<dd><p class=\"first last\">A set of streamlines to be transformed.</p>\n</dd>\n<dt><strong>output_space</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (4, 4)</span></dt>\n<dd><p class=\"first last\">An affine matrix describing the target space to which the streamlines\nwill be transformed.</p>\n</dd>\n<dt><strong>input_space</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (4, 4), optional</span></dt>\n<dd><p class=\"first last\">An affine matrix describing the current space of the streamlines, if no\n<code class=\"docutils literal notranslate\"><span class=\"pre\">input_space</span></code> is specified, it\u2019s assumed the streamlines are in the\nreference space. The reference space is the same as the space\nassociated with the affine matrix <code class=\"docutils literal notranslate\"><span class=\"pre\">np.eye(4)</span></code>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">generator</span></dt>\n<dd><p class=\"first last\">A sequence of transformed streamlines.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"ndbincount\">\n<h3>ndbincount<a class=\"headerlink\" href=\"#ndbincount\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.ndbincount\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">ndbincount</code><span class=\"sig-paren\">(</span><em>x</em>, <em>weights=None</em>, <em>shape=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.ndbincount\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Like bincount, but for nd-indicies.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>x</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like (N, M)</span></dt>\n<dd><p class=\"first last\">M indices to a an Nd-array</p>\n</dd>\n<dt><strong>weights</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array_like (M,), optional</span></dt>\n<dd><p class=\"first last\">Weights associated with indices</p>\n</dd>\n<dt><strong>shape</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">optional</span></dt>\n<dd><p class=\"first last\">the shape of the output</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"near-roi\">\n<h3>near_roi<a class=\"headerlink\" href=\"#near-roi\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.near_roi\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">near_roi</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>region_of_interest</em>, <em>affine=None</em>, <em>tol=None</em>, <em>mode='any'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.near_roi\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Provide filtering criteria for a set of streamlines based on whether\nthey fall within a tolerance distance from an ROI</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list or generator</span></dt>\n<dd><p class=\"first last\">A sequence of streamlines. Each streamline should be a (N, 3) array,\nwhere N is the length of the streamline.</p>\n</dd>\n<dt><strong>region_of_interest</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">A mask used as a target. Non-zero values are considered to be within\nthe target region.</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">Affine transformation from voxels to streamlines. Default: identity.</p>\n</dd>\n<dt><strong>tol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Distance (in the units of the streamlines, usually mm). If any\ncoordinate in the streamline is within this distance from the center\nof any voxel in the ROI, the filtering criterion is set to True for\nthis streamline, otherwise False. Defaults to the distance between\nthe center of each voxel and the corner of the voxel.</p>\n</dd>\n<dt><strong>mode</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">string, optional</span></dt>\n<dd><p class=\"first\">One of {\u201cany\u201d, \u201call\u201d, \u201ceither_end\u201d, \u201cboth_end\u201d}, where return True\nif:</p>\n<p>\u201cany\u201d : any point is within tol from ROI. Default.</p>\n<p>\u201call\u201d : all points are within tol from ROI.</p>\n<p>\u201ceither_end\u201d : either of the end-points is within tol from ROI</p>\n<p class=\"last\">\u201cboth_end\u201d : both end points are within tol from ROI.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>1D array of boolean dtype, shape (len(streamlines), )</strong></dt>\n<dd></dd>\n<dt><strong>This contains `True` for indices corresponding to each streamline</strong></dt>\n<dd></dd>\n<dt><strong>that passes within a tolerance distance from the target ROI, `False`</strong></dt>\n<dd></dd>\n<dt><strong>otherwise.</strong></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"orientation-from-string\">\n<h3>orientation_from_string<a class=\"headerlink\" href=\"#orientation-from-string\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.orientation_from_string\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">orientation_from_string</code><span class=\"sig-paren\">(</span><em>string_ornt</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.orientation_from_string\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns an array representation of an ornt string</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"ornt-mapping\">\n<h3>ornt_mapping<a class=\"headerlink\" href=\"#ornt-mapping\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.ornt_mapping\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">ornt_mapping</code><span class=\"sig-paren\">(</span><em>ornt1</em>, <em>ornt2</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.ornt_mapping\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculates the mapping needing to get from orn1 to orn2</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"path-length\">\n<h3>path_length<a class=\"headerlink\" href=\"#path-length\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.path_length\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">path_length</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>aoi</em>, <em>affine</em>, <em>fill_value=-1</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.path_length\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Computes the shortest path, along any streamline, between aoi and\neach voxel.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">seq of (N, 3) arrays</span></dt>\n<dd><p class=\"first last\">A sequence of streamlines, path length is given in mm along the curve\nof the streamline.</p>\n</dd>\n<dt><strong>aoi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, 3d</span></dt>\n<dd><p class=\"first last\">A mask (binary array) of voxels from which to start computing distance.</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (4, 4)</span></dt>\n<dd><p class=\"first last\">The mapping from voxel indices to streamline points.</p>\n</dd>\n<dt><strong>fill_value</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">The value of voxel in the path length map that are not connected to the\naoi.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>plm</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array</span></dt>\n<dd><p class=\"first last\">Same shape as aoi. The minimum distance between every point and aoi\nalong the path of a streamline.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"random-seeds-from-mask\">\n<h3>random_seeds_from_mask<a class=\"headerlink\" href=\"#random-seeds-from-mask\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.random_seeds_from_mask\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">random_seeds_from_mask</code><span class=\"sig-paren\">(</span><em>mask</em>, <em>seeds_count=1</em>, <em>seed_count_per_voxel=True</em>, <em>affine=None</em>, <em>random_seed=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.random_seeds_from_mask\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Creates randomly placed seeds for fiber tracking from a binary mask.</p>\n<p>Seeds points are placed randomly distributed in voxels of <code class=\"docutils literal notranslate\"><span class=\"pre\">mask</span></code>\nwhich are <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.\nIf <code class=\"docutils literal notranslate\"><span class=\"pre\">seed_count_per_voxel</span></code> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, this function is\nsimilar to <code class=\"docutils literal notranslate\"><span class=\"pre\">seeds_from_mask()</span></code>, with the difference that instead of\nevenly distributing the seeds, it randomly places the seeds within the\nvoxels specified by the <code class=\"docutils literal notranslate\"><span class=\"pre\">mask</span></code>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>mask</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">binary 3d array_like</span></dt>\n<dd><p class=\"first last\">A binary array specifying where to place the seeds for fiber tracking.</p>\n</dd>\n<dt><strong>seeds_count</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">The number of seeds to generate. If <code class=\"docutils literal notranslate\"><span class=\"pre\">seed_count_per_voxel</span></code> is True,\nspecifies the number of seeds to place in each voxel. Otherwise,\nspecifies the total number of seeds to place in the mask.</p>\n</dd>\n<dt><strong>seed_count_per_voxel: bool</strong></dt>\n<dd><p class=\"first last\">If True, seeds_count is per voxel, else seeds_count is the total number\nof seeds.</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, (4, 4)</span></dt>\n<dd><p class=\"first last\">The mapping between voxel indices and the point space for seeds. A\nseed point at the center the voxel <code class=\"docutils literal notranslate\"><span class=\"pre\">[i,</span> <span class=\"pre\">j,</span> <span class=\"pre\">k]</span></code> will be represented as\n<code class=\"docutils literal notranslate\"><span class=\"pre\">[x,</span> <span class=\"pre\">y,</span> <span class=\"pre\">z]</span></code> where <code class=\"docutils literal notranslate\"><span class=\"pre\">[x,</span> <span class=\"pre\">y,</span> <span class=\"pre\">z,</span> <span class=\"pre\">1]</span> <span class=\"pre\">==</span> <span class=\"pre\">np.dot(affine,</span> <span class=\"pre\">[i,</span> <span class=\"pre\">j,</span> <span class=\"pre\">k</span> <span class=\"pre\">,</span> <span class=\"pre\">1])</span></code>.</p>\n</dd>\n<dt><strong>random_seed</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">The seed for the random seed generator (numpy.random.seed).</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Raises:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>ValueError</strong></dt>\n<dd><p class=\"first last\">When <code class=\"docutils literal notranslate\"><span class=\"pre\">mask</span></code> is not a three-dimensional array</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.tracking.utils.seeds_from_mask\" title=\"dipy.tracking.utils.seeds_from_mask\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">seeds_from_mask</span></code></a></p>\n</div>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mask</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">zeros</span><span class=\"p\">((</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">),</span> <span class=\"s1\">&#39;bool&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mask</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">random_seeds_from_mask</span><span class=\"p\">(</span><span class=\"n\">mask</span><span class=\"p\">,</span> <span class=\"n\">seeds_count</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">seed_count_per_voxel</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span><span class=\"n\">random_seed</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"go\">array([[-0.0640051 , -0.47407377,  0.04966248]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">random_seeds_from_mask</span><span class=\"p\">(</span><span class=\"n\">mask</span><span class=\"p\">,</span> <span class=\"n\">seeds_count</span><span class=\"o\">=</span><span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"n\">seed_count_per_voxel</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span><span class=\"n\">random_seed</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"go\">array([[-0.0640051 , -0.47407377,  0.04966248],</span>\n<span class=\"go\">       [ 0.0507979 ,  0.20814782, -0.20909526],</span>\n<span class=\"go\">       [ 0.46702984,  0.04723225,  0.47268436],</span>\n<span class=\"go\">       [-0.27800683,  0.37073231, -0.29328084],</span>\n<span class=\"go\">       [ 0.39286015, -0.16802019,  0.32122912],</span>\n<span class=\"go\">       [-0.42369171,  0.27991879, -0.06159077]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mask</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">random_seeds_from_mask</span><span class=\"p\">(</span><span class=\"n\">mask</span><span class=\"p\">,</span> <span class=\"n\">seeds_count</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">seed_count_per_voxel</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span><span class=\"n\">random_seed</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"go\">array([[-0.0640051 , -0.47407377,  0.04966248],</span>\n<span class=\"go\">       [-0.27800683,  1.37073231,  1.70671916],</span>\n<span class=\"go\">       [ 0.0507979 ,  0.20814782, -0.20909526],</span>\n<span class=\"go\">       [-0.48962585,  1.00187459,  1.99577329]])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"ravel-multi-index\">\n<h3>ravel_multi_index<a class=\"headerlink\" href=\"#ravel-multi-index\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.ravel_multi_index\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">ravel_multi_index</code><span class=\"sig-paren\">(</span><em>multi_index</em>, <em>dims</em>, <em>mode='raise'</em>, <em>order='C'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.ravel_multi_index\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Converts a tuple of index arrays into an array of flat\nindices, applying boundary modes to the multi-index.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>multi_index</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">tuple of array_like</span></dt>\n<dd><p class=\"first last\">A tuple of integer arrays, one array for each dimension.</p>\n</dd>\n<dt><strong>dims</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">tuple of ints</span></dt>\n<dd><p class=\"first last\">The shape of array into which the indices from <code class=\"docutils literal notranslate\"><span class=\"pre\">multi_index</span></code> apply.</p>\n</dd>\n<dt><strong>mode</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{\u2018raise\u2019, \u2018wrap\u2019, \u2018clip\u2019}, optional</span></dt>\n<dd><p class=\"first\">Specifies how out-of-bounds indices are handled.  Can specify\neither one mode or a tuple of modes, one mode per index.</p>\n<ul class=\"simple\">\n<li>\u2018raise\u2019 \u2013 raise an error (default)</li>\n<li>\u2018wrap\u2019 \u2013 wrap around</li>\n<li>\u2018clip\u2019 \u2013 clip to the range</li>\n</ul>\n<p class=\"last\">In \u2018clip\u2019 mode, a negative index which would normally\nwrap will clip to 0 instead.</p>\n</dd>\n<dt><strong>order</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">{\u2018C\u2019, \u2018F\u2019}, optional</span></dt>\n<dd><p class=\"first last\">Determines whether the multi-index should be viewed as\nindexing in row-major (C-style) or column-major\n(Fortran-style) order.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>raveled_indices</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">ndarray</span></dt>\n<dd><p class=\"first last\">An array of indices into the flattened version of an array\nof dimensions <code class=\"docutils literal notranslate\"><span class=\"pre\">dims</span></code>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">unravel_index</span></code></p>\n</div>\n<p class=\"rubric\">Notes</p>\n<div class=\"versionadded\">\n<p><span class=\"versionmodified\">New in version 1.6.0.</span></p>\n</div>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">arr</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">],[</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">ravel_multi_index</span><span class=\"p\">(</span><span class=\"n\">arr</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mi\">7</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">))</span>\n<span class=\"go\">array([22, 41, 37])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">ravel_multi_index</span><span class=\"p\">(</span><span class=\"n\">arr</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mi\">7</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">),</span> <span class=\"n\">order</span><span class=\"o\">=</span><span class=\"s1\">&#39;F&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">array([31, 41, 13])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">ravel_multi_index</span><span class=\"p\">(</span><span class=\"n\">arr</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">),</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"s1\">&#39;clip&#39;</span><span class=\"p\">)</span>\n<span class=\"go\">array([22, 23, 19])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">ravel_multi_index</span><span class=\"p\">(</span><span class=\"n\">arr</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"n\">mode</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s1\">&#39;clip&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;wrap&#39;</span><span class=\"p\">))</span>\n<span class=\"go\">array([12, 13, 13])</span>\n</pre></div>\n</div>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">ravel_multi_index</span><span class=\"p\">((</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"mi\">7</span><span class=\"p\">,</span><span class=\"mi\">8</span><span class=\"p\">,</span><span class=\"mi\">9</span><span class=\"p\">))</span>\n<span class=\"go\">1621</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"reduce-labels\">\n<h3>reduce_labels<a class=\"headerlink\" href=\"#reduce-labels\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.reduce_labels\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">reduce_labels</code><span class=\"sig-paren\">(</span><em>label_volume</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.reduce_labels\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Reduces an array of labels to the integers from 0 to n with smallest\npossible n.</p>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">labels</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">9</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                   <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>                   <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">new_labels</span><span class=\"p\">,</span> <span class=\"n\">lookup</span> <span class=\"o\">=</span> <span class=\"n\">reduce_labels</span><span class=\"p\">(</span><span class=\"n\">labels</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">lookup</span>\n<span class=\"go\">array([1, 3, 7, 8, 9])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">new_labels</span> \n<span class=\"go\">array([[0, 1, 4],</span>\n<span class=\"go\">       [0, 1, 3],</span>\n<span class=\"go\">       [0, 1, 2]]...)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">(</span><span class=\"n\">lookup</span><span class=\"p\">[</span><span class=\"n\">new_labels</span><span class=\"p\">]</span> <span class=\"o\">==</span> <span class=\"n\">labels</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">()</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"reduce-rois\">\n<h3>reduce_rois<a class=\"headerlink\" href=\"#reduce-rois\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.reduce_rois\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">reduce_rois</code><span class=\"sig-paren\">(</span><em>rois</em>, <em>include</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.reduce_rois\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Reduce multiple ROIs to one inclusion and one exclusion ROI</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>rois</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">list or ndarray</span></dt>\n<dd><p class=\"first last\">A list of 3D arrays, each with shape (x, y, z) corresponding to the\nshape of the brain volume, or a 4D array with shape (n_rois, x, y,\nz). Non-zeros in each volume are considered to be within the region.</p>\n</dd>\n<dt><strong>include</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array or list</span></dt>\n<dd><p class=\"first last\">A list or 1D array of boolean marking inclusion or exclusion\ncriteria.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>include_roi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">boolean 3D array</span></dt>\n<dd><p class=\"first last\">An array marking the inclusion mask.</p>\n</dd>\n<dt><strong>exclude_roi</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">boolean 3D array</span></dt>\n<dd><p class=\"first last\">An array marking the exclusion mask</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"reorder-voxels-affine\">\n<h3>reorder_voxels_affine<a class=\"headerlink\" href=\"#reorder-voxels-affine\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.reorder_voxels_affine\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">reorder_voxels_affine</code><span class=\"sig-paren\">(</span><em>input_ornt</em>, <em>output_ornt</em>, <em>shape</em>, <em>voxel_size</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.reorder_voxels_affine\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calculates a linear transformation equivalent to changing voxel order.</p>\n<p>Calculates a linear tranformation A such that [a, b, c, 1] = A[x, y, z, 1].\nwhere [x, y, z] is a point in the coordinate system defined by input_ornt\nand [a, b, c] is the same point in the coordinate system defined by\noutput_ornt.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>input_ornt</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (n, 2)</span></dt>\n<dd><p class=\"first last\">A description of the orientation of a point in n-space. See\n<code class=\"docutils literal notranslate\"><span class=\"pre\">nibabel.orientation</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">dipy.io.bvectxt</span></code> for more information.</p>\n</dd>\n<dt><strong>output_ornt</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (n, 2)</span></dt>\n<dd><p class=\"first last\">A description of the orientation of a point in n-space.</p>\n</dd>\n<dt><strong>shape</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">tuple of int</span></dt>\n<dd><p class=\"first last\">Shape of the image in the input orientation.\n<code class=\"docutils literal notranslate\"><span class=\"pre\">map</span> <span class=\"pre\">=</span> <span class=\"pre\">ornt_mapping(input_ornt,</span> <span class=\"pre\">output_ornt)</span></code></p>\n</dd>\n<dt><strong>voxel_size</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int</span></dt>\n<dd><p class=\"first last\">Voxel size of the image in the input orientation.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>A</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (n+1, n+1)</span></dt>\n<dd><p class=\"first last\">Affine matrix of the transformation between input_ornt and output_ornt.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">nibabel.orientation</span></code>, <a class=\"reference internal\" href=\"../dipy.io/#dipy.io.bvectxt.orientation_to_string\" title=\"dipy.io.bvectxt.orientation_to_string\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dipy.io.bvectxt.orientation_to_string</span></code></a>, <a class=\"reference internal\" href=\"../dipy.io/#dipy.io.bvectxt.orientation_from_string\" title=\"dipy.io.bvectxt.orientation_from_string\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dipy.io.bvectxt.orientation_from_string</span></code></a></p>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"seeds-from-mask\">\n<h3>seeds_from_mask<a class=\"headerlink\" href=\"#seeds-from-mask\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.seeds_from_mask\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">seeds_from_mask</code><span class=\"sig-paren\">(</span><em>mask, density=[1, 1, 1], voxel_size=None, affine=None</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.seeds_from_mask\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Creates seeds for fiber tracking from a binary mask.</p>\n<p>Seeds points are placed evenly distributed in all voxels of <code class=\"docutils literal notranslate\"><span class=\"pre\">mask</span></code> which\nare <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>mask</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">binary 3d array_like</span></dt>\n<dd><p class=\"first last\">A binary array specifying where to place the seeds for fiber tracking.</p>\n</dd>\n<dt><strong>density</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">int or array_like (3,)</span></dt>\n<dd><p class=\"first last\">Specifies the number of seeds to place along each dimension. A\n<code class=\"docutils literal notranslate\"><span class=\"pre\">density</span></code> of <cite>2</cite> is the same as <code class=\"docutils literal notranslate\"><span class=\"pre\">[2,</span> <span class=\"pre\">2,</span> <span class=\"pre\">2]</span></code> and will result in a\ntotal of 8 seeds per voxel.</p>\n</dd>\n<dt><strong>voxel_size :</strong></dt>\n<dd><p class=\"first last\">This argument is deprecated.</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, (4, 4)</span></dt>\n<dd><p class=\"first last\">The mapping between voxel indices and the point space for seeds. A\nseed point at the center the voxel <code class=\"docutils literal notranslate\"><span class=\"pre\">[i,</span> <span class=\"pre\">j,</span> <span class=\"pre\">k]</span></code> will be represented as\n<code class=\"docutils literal notranslate\"><span class=\"pre\">[x,</span> <span class=\"pre\">y,</span> <span class=\"pre\">z]</span></code> where <code class=\"docutils literal notranslate\"><span class=\"pre\">[x,</span> <span class=\"pre\">y,</span> <span class=\"pre\">z,</span> <span class=\"pre\">1]</span> <span class=\"pre\">==</span> <span class=\"pre\">np.dot(affine,</span> <span class=\"pre\">[i,</span> <span class=\"pre\">j,</span> <span class=\"pre\">k</span> <span class=\"pre\">,</span> <span class=\"pre\">1])</span></code>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Raises:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>ValueError</strong></dt>\n<dd><p class=\"first last\">When <code class=\"docutils literal notranslate\"><span class=\"pre\">mask</span></code> is not a three-dimensional array</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.tracking.utils.random_seeds_from_mask\" title=\"dipy.tracking.utils.random_seeds_from_mask\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">random_seeds_from_mask</span></code></a></p>\n</div>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mask</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">zeros</span><span class=\"p\">((</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">),</span> <span class=\"s1\">&#39;bool&#39;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mask</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">seeds_from_mask</span><span class=\"p\">(</span><span class=\"n\">mask</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"go\">array([[ 0.5,  0.5,  0.5]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">seeds_from_mask</span><span class=\"p\">(</span><span class=\"n\">mask</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"go\">array([[ 0.5       ,  0.25      ,  0.16666667],</span>\n<span class=\"go\">       [ 0.5       ,  0.75      ,  0.16666667],</span>\n<span class=\"go\">       [ 0.5       ,  0.25      ,  0.5       ],</span>\n<span class=\"go\">       [ 0.5       ,  0.75      ,  0.5       ],</span>\n<span class=\"go\">       [ 0.5       ,  0.25      ,  0.83333333],</span>\n<span class=\"go\">       [ 0.5       ,  0.75      ,  0.83333333]])</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">mask</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">seeds_from_mask</span><span class=\"p\">(</span><span class=\"n\">mask</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mf\">1.1</span><span class=\"p\">,</span><span class=\"mf\">1.1</span><span class=\"p\">,</span><span class=\"mf\">2.5</span><span class=\"p\">])</span>\n<span class=\"go\">array([[ 0.55 ,  0.55 ,  0.625],</span>\n<span class=\"go\">       [ 0.55 ,  0.55 ,  1.875],</span>\n<span class=\"go\">       [ 0.55 ,  1.65 ,  5.625],</span>\n<span class=\"go\">       [ 0.55 ,  1.65 ,  6.875]])</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id71\">\n<h3>streamline_near_roi<a class=\"headerlink\" href=\"#id71\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.streamline_near_roi\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">streamline_near_roi</code><span class=\"sig-paren\">(</span><em>streamline</em>, <em>roi_coords</em>, <em>tol</em>, <em>mode='any'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.streamline_near_roi\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Is a streamline near an ROI.</p>\n<p>Implements the inner loops of the <a class=\"reference internal\" href=\"#dipy.tracking.utils.near_roi\" title=\"dipy.tracking.utils.near_roi\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">near_roi()</span></code></a> function.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamline</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (N, 3)</span></dt>\n<dd><p class=\"first last\">A single streamline</p>\n</dd>\n<dt><strong>roi_coords</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array, shape (M, 3)</span></dt>\n<dd><p class=\"first last\">ROI coordinates transformed to the streamline coordinate frame.</p>\n</dd>\n<dt><strong>tol</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">Distance (in the units of the streamlines, usually mm). If any\ncoordinate in the streamline is within this distance from the center\nof any voxel in the ROI, this function returns True.</p>\n</dd>\n<dt><strong>mode</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">string</span></dt>\n<dd><p class=\"first\">One of {\u201cany\u201d, \u201call\u201d, \u201ceither_end\u201d, \u201cboth_end\u201d}, where return True\nif:</p>\n<p>\u201cany\u201d : any point is within tol from ROI.</p>\n<p>\u201call\u201d : all points are within tol from ROI.</p>\n<p>\u201ceither_end\u201d : either of the end-points is within tol from ROI</p>\n<p class=\"last\">\u201cboth_end\u201d : both end points are within tol from ROI.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>out</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">boolean</span></dt>\n<dd></dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"subsegment\">\n<h3>subsegment<a class=\"headerlink\" href=\"#subsegment\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.subsegment\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">subsegment</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>max_segment_length</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.subsegment\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Splits the segments of the streamlines into small segments.</p>\n<p>Replaces each segment of each of the streamlines with the smallest possible\nnumber of equally sized smaller segments such that no segment is longer\nthan max_segment_length. Among other things, this can useful for getting\nstreamline counts on a grid that is smaller than the length of the\nstreamline segments.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">sequence of ndarrays</span></dt>\n<dd><p class=\"first last\">The streamlines to be subsegmented.</p>\n</dd>\n<dt><strong>max_segment_length</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">float</span></dt>\n<dd><p class=\"first last\">The longest allowable segment length.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>output_streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">generator</span></dt>\n<dd><p class=\"first last\">A set of streamlines.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Notes</p>\n<p>Segments of 0 length are removed. If unchanged</p>\n<p class=\"rubric\">Examples</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">streamlines</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">],[</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">subsegment</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"mf\">3.</span><span class=\"p\">))</span>\n<span class=\"go\">[array([[ 0.,  0.,  0.],</span>\n<span class=\"go\">       [ 2.,  0.,  0.],</span>\n<span class=\"go\">       [ 5.,  0.,  0.]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">subsegment</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">))</span>\n<span class=\"go\">[array([[ 0.,  0.,  0.],</span>\n<span class=\"go\">       [ 1.,  0.,  0.],</span>\n<span class=\"go\">       [ 2.,  0.,  0.],</span>\n<span class=\"go\">       [ 3.,  0.,  0.],</span>\n<span class=\"go\">       [ 4.,  0.,  0.],</span>\n<span class=\"go\">       [ 5.,  0.,  0.]])]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">subsegment</span><span class=\"p\">(</span><span class=\"n\">streamlines</span><span class=\"p\">,</span> <span class=\"mf\">1.6</span><span class=\"p\">))</span>\n<span class=\"go\">[array([[ 0. ,  0. ,  0. ],</span>\n<span class=\"go\">       [ 1. ,  0. ,  0. ],</span>\n<span class=\"go\">       [ 2. ,  0. ,  0. ],</span>\n<span class=\"go\">       [ 3.5,  0. ,  0. ],</span>\n<span class=\"go\">       [ 5. ,  0. ,  0. ]])]</span>\n</pre></div>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"target\">\n<h3>target<a class=\"headerlink\" href=\"#target\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.target\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">target</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>target_mask</em>, <em>affine</em>, <em>include=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.target\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Filters streamlines based on whether or not they pass through an ROI.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">iterable</span></dt>\n<dd><p class=\"first last\">A sequence of streamlines. Each streamline should be a (N, 3) array,\nwhere N is the length of the streamline.</p>\n</dd>\n<dt><strong>target_mask</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like</span></dt>\n<dd><p class=\"first last\">A mask used as a target. Non-zero values are considered to be within\nthe target region.</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (4, 4)</span></dt>\n<dd><p class=\"first last\">The affine transform from voxel indices to streamline points.</p>\n</dd>\n<dt><strong>include</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, default True</span></dt>\n<dd><p class=\"first last\">If True, streamlines passing through <cite>target_mask</cite> are kept. If False,\nthe streamlines not passing through <cite>target_mask</cite> are kept.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">generator</span></dt>\n<dd><p class=\"first last\">A sequence of streamlines that pass through <cite>target_mask</cite>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-odd field\"><th class=\"field-name\">Raises:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>ValueError</strong></dt>\n<dd><p class=\"first last\">When the points of the streamlines lie outside of the <cite>target_mask</cite>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.tracking.utils.density_map\" title=\"dipy.tracking.utils.density_map\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">density_map</span></code></a></p>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"target-line-based\">\n<h3>target_line_based<a class=\"headerlink\" href=\"#target-line-based\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.target_line_based\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">target_line_based</code><span class=\"sig-paren\">(</span><em>streamlines</em>, <em>target_mask</em>, <em>affine=None</em>, <em>include=True</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.target_line_based\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Filters streamlines based on whether or not they pass through a ROI,\nusing a line-based algorithm. Mostly used as a replacement of <cite>target</cite>\nfor compressed streamlines.</p>\n<p>This function never returns single-point streamlines, whatever the\nvalue of <cite>include</cite>.</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">iterable</span></dt>\n<dd><p class=\"first last\">A sequence of streamlines. Each streamline should be a (N, 3) array,\nwhere N is the length of the streamline.</p>\n</dd>\n<dt><strong>target_mask</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array-like</span></dt>\n<dd><p class=\"first last\">A mask used as a target. Non-zero values are considered to be within\nthe target region.</p>\n</dd>\n<dt><strong>affine</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">array (4, 4)</span></dt>\n<dd><p class=\"first last\">The affine transform from voxel indices to streamline points.</p>\n</dd>\n<dt><strong>include</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">bool, default True</span></dt>\n<dd><p class=\"first last\">If True, streamlines passing through <cite>target_mask</cite> are kept. If False,\nthe streamlines not passing through <cite>target_mask</cite> are kept.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>streamlines</strong> <span class=\"classifier-delimiter\">:</span> <span class=\"classifier\">generator</span></dt>\n<dd><p class=\"first last\">A sequence of streamlines that pass through <cite>target_mask</cite>.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"#dipy.tracking.utils.density_map\" title=\"dipy.tracking.utils.density_map\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dipy.tracking.utils.density_map</span></code></a>, <a class=\"reference internal\" href=\"#dipy.tracking.streamline.compress_streamlines\" title=\"dipy.tracking.streamline.compress_streamlines\"><code class=\"xref py py-obj docutils literal notranslate\"><span class=\"pre\">dipy.tracking.streamline.compress_streamlines</span></code></a></p>\n</div>\n<p class=\"rubric\">References</p>\n<dl class=\"docutils\">\n<dt>[Bresenham5] Bresenham, Jack Elton. \u201cAlgorithm for computer control of a</dt>\n<dd>digital plotter\u201d, IBM Systems Journal, vol 4, no. 1, 1965.</dd>\n<dt>[Houde15] Houde et al. How to avoid biased streamlines-based metrics for</dt>\n<dd>streamlines with variable step sizes, ISMRM 2015.</dd>\n</dl>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id72\">\n<h3>unique_rows<a class=\"headerlink\" href=\"#id72\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.unique_rows\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">unique_rows</code><span class=\"sig-paren\">(</span><em>in_array</em>, <em>dtype='f4'</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.unique_rows\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>This (quickly) finds the unique rows in an array</p>\n<table class=\"docutils field-list\" frame=\"void\" rules=\"none\">\n<col class=\"field-name\" />\n<col class=\"field-body\" />\n<tbody valign=\"top\">\n<tr class=\"field-odd field\"><th class=\"field-name\">Parameters:</th><td class=\"field-body\"><dl class=\"first docutils\">\n<dt><strong>in_array: ndarray</strong></dt>\n<dd><p class=\"first last\">The array for which the unique rows should be found</p>\n</dd>\n<dt><strong>dtype: str, optional</strong></dt>\n<dd><p class=\"first last\">This determines the intermediate representation used for the\nvalues. Should at least preserve the values of the input array.</p>\n</dd>\n</dl>\n</td>\n</tr>\n<tr class=\"field-even field\"><th class=\"field-name\">Returns:</th><td class=\"field-body\"><dl class=\"first last docutils\">\n<dt><strong>u_return: ndarray</strong></dt>\n<dd><p class=\"first last\">Array with the unique rows of the original array.</p>\n</dd>\n</dl>\n</td>\n</tr>\n</tbody>\n</table>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"id73\">\n<h3>warn<a class=\"headerlink\" href=\"#id73\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.warn\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">warn</code><span class=\"sig-paren\">(</span><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.warn\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Issue a warning, or maybe ignore it or raise an exception.</p>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"wraps\">\n<h3>wraps<a class=\"headerlink\" href=\"#wraps\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"function\">\n<dt id=\"dipy.tracking.utils.wraps\">\n<code class=\"descclassname\">dipy.tracking.utils.</code><code class=\"descname\">wraps</code><span class=\"sig-paren\">(</span><em>wrapped</em>, <em>assigned=('__module__'</em>, <em>'__name__'</em>, <em>'__qualname__'</em>, <em>'__doc__'</em>, <em>'__annotations__')</em>, <em>updated=('__dict__'</em>, <em>)</em><span class=\"sig-paren\">)</span><a class=\"headerlink\" href=\"#dipy.tracking.utils.wraps\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Decorator factory to apply update_wrapper() to a wrapper function</p>\n<p>Returns a decorator that invokes update_wrapper() with the decorated\nfunction as the wrapper argument and the arguments to wraps() as the\nremaining arguments. Default arguments are as for update_wrapper().\nThis is a convenience function to simplify applying partial() to\nupdate_wrapper().</p>\n</dd></dl>\n\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"]], "sourcename": "reference/dipy.tracking.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"docutils literal notranslate\"><span class=\"pre\">tracking</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking._utils\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">tracking._utils</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.benchmarks\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">tracking.benchmarks</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.benchmarks.bench_streamline\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">tracking.benchmarks.bench_streamline</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.eudx\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">tracking.eudx</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.learning\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">tracking.learning</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.life\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">tracking.life</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.local\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">tracking.local</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.local.localtracking\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">tracking.local.localtracking</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.metrics\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">tracking.metrics</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.streamline\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">tracking.streamline</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#module-dipy.tracking.utils\">Module: <code class=\"docutils literal notranslate\"><span class=\"pre\">tracking.utils</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#important-note\">Important Note:</a></li>\n<li><a class=\"reference internal\" href=\"#streamlines\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Streamlines</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#bench\">bench</a></li>\n<li><a class=\"reference internal\" href=\"#test\">test</a></li>\n<li><a class=\"reference internal\" href=\"#warn\">warn</a></li>\n<li><a class=\"reference internal\" href=\"#id10\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Streamlines</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#assert-array-almost-equal\">assert_array_almost_equal</a></li>\n<li><a class=\"reference internal\" href=\"#assert-array-equal\">assert_array_equal</a></li>\n<li><a class=\"reference internal\" href=\"#bench-compress-streamlines\">bench_compress_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#bench-length\">bench_length</a></li>\n<li><a class=\"reference internal\" href=\"#bench-set-number-of-points\">bench_set_number_of_points</a></li>\n<li><a class=\"reference internal\" href=\"#compress-streamlines\">compress_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#compress-streamlines-python\">compress_streamlines_python</a></li>\n<li><a class=\"reference internal\" href=\"#generate-streamlines\">generate_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#get-fnames\">get_fnames</a></li>\n<li><a class=\"reference internal\" href=\"#length\">length</a></li>\n<li><a class=\"reference internal\" href=\"#length-python\">length_python</a></li>\n<li><a class=\"reference internal\" href=\"#measure\">measure</a></li>\n<li><a class=\"reference internal\" href=\"#set-number-of-points\">set_number_of_points</a></li>\n<li><a class=\"reference internal\" href=\"#set-number-of-points-python\">set_number_of_points_python</a></li>\n<li><a class=\"reference internal\" href=\"#setup\">setup</a></li>\n<li><a class=\"reference internal\" href=\"#eudx\"><code class=\"docutils literal notranslate\"><span class=\"pre\">EuDX</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#eudx-both-directions\">eudx_both_directions</a></li>\n<li><a class=\"reference internal\" href=\"#get-sphere\">get_sphere</a></li>\n<li><a class=\"reference internal\" href=\"#detect-corresponding-tracks\">detect_corresponding_tracks</a></li>\n<li><a class=\"reference internal\" href=\"#detect-corresponding-tracks-plus\">detect_corresponding_tracks_plus</a></li>\n<li><a class=\"reference internal\" href=\"#fiberfit\"><code class=\"docutils literal notranslate\"><span class=\"pre\">FiberFit</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#fibermodel\"><code class=\"docutils literal notranslate\"><span class=\"pre\">FiberModel</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#lifesignalmaker\"><code class=\"docutils literal notranslate\"><span class=\"pre\">LifeSignalMaker</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#reconstfit\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ReconstFit</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#reconstmodel\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ReconstModel</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#range\"><code class=\"docutils literal notranslate\"><span class=\"pre\">range</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#grad-tensor\">grad_tensor</a></li>\n<li><a class=\"reference internal\" href=\"#gradient\">gradient</a></li>\n<li><a class=\"reference internal\" href=\"#streamline-gradients\">streamline_gradients</a></li>\n<li><a class=\"reference internal\" href=\"#streamline-signal\">streamline_signal</a></li>\n<li><a class=\"reference internal\" href=\"#streamline-tensors\">streamline_tensors</a></li>\n<li><a class=\"reference internal\" href=\"#transform-streamlines\">transform_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#unique-rows\">unique_rows</a></li>\n<li><a class=\"reference internal\" href=\"#voxel2streamline\">voxel2streamline</a></li>\n<li><a class=\"reference internal\" href=\"#acttissueclassifier\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ActTissueClassifier</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#binarytissueclassifier\"><code class=\"docutils literal notranslate\"><span class=\"pre\">BinaryTissueClassifier</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#cmctissueclassifier\"><code class=\"docutils literal notranslate\"><span class=\"pre\">CmcTissueClassifier</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#constrainedtissueclassifier\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ConstrainedTissueClassifier</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#directiongetter\"><code class=\"docutils literal notranslate\"><span class=\"pre\">DirectionGetter</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#localtracking\"><code class=\"docutils literal notranslate\"><span class=\"pre\">LocalTracking</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#particlefilteringtracking\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ParticleFilteringTracking</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#thresholdtissueclassifier\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ThresholdTissueClassifier</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#tissueclassifier\"><code class=\"docutils literal notranslate\"><span class=\"pre\">TissueClassifier</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#bunch\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Bunch</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id35\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ConstrainedTissueClassifier</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id36\"><code class=\"docutils literal notranslate\"><span class=\"pre\">LocalTracking</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id37\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ParticleFilteringTracking</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#local-tracker\">local_tracker</a></li>\n<li><a class=\"reference internal\" href=\"#pft-tracker\">pft_tracker</a></li>\n<li><a class=\"reference internal\" href=\"#xrange\"><code class=\"docutils literal notranslate\"><span class=\"pre\">xrange</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#arbitrarypoint\">arbitrarypoint</a></li>\n<li><a class=\"reference internal\" href=\"#bytes\">bytes</a></li>\n<li><a class=\"reference internal\" href=\"#center-of-mass\">center_of_mass</a></li>\n<li><a class=\"reference internal\" href=\"#downsample\">downsample</a></li>\n<li><a class=\"reference internal\" href=\"#endpoint\">endpoint</a></li>\n<li><a class=\"reference internal\" href=\"#frenet-serret\">frenet_serret</a></li>\n<li><a class=\"reference internal\" href=\"#generate-combinations\">generate_combinations</a></li>\n<li><a class=\"reference internal\" href=\"#inside-sphere\">inside_sphere</a></li>\n<li><a class=\"reference internal\" href=\"#inside-sphere-points\">inside_sphere_points</a></li>\n<li><a class=\"reference internal\" href=\"#intersect-sphere\">intersect_sphere</a></li>\n<li><a class=\"reference internal\" href=\"#id40\">length</a></li>\n<li><a class=\"reference internal\" href=\"#longest-track-bundle\">longest_track_bundle</a></li>\n<li><a class=\"reference internal\" href=\"#magn\">magn</a></li>\n<li><a class=\"reference internal\" href=\"#mean-curvature\">mean_curvature</a></li>\n<li><a class=\"reference internal\" href=\"#mean-orientation\">mean_orientation</a></li>\n<li><a class=\"reference internal\" href=\"#midpoint\">midpoint</a></li>\n<li><a class=\"reference internal\" href=\"#midpoint2point\">midpoint2point</a></li>\n<li><a class=\"reference internal\" href=\"#principal-components\">principal_components</a></li>\n<li><a class=\"reference internal\" href=\"#splev\">splev</a></li>\n<li><a class=\"reference internal\" href=\"#spline\">spline</a></li>\n<li><a class=\"reference internal\" href=\"#splprep\">splprep</a></li>\n<li><a class=\"reference internal\" href=\"#startpoint\">startpoint</a></li>\n<li><a class=\"reference internal\" href=\"#winding\">winding</a></li>\n<li><a class=\"reference internal\" href=\"#looseversion\"><code class=\"docutils literal notranslate\"><span class=\"pre\">LooseVersion</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id47\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Streamlines</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#apply-affine\">apply_affine</a></li>\n<li><a class=\"reference internal\" href=\"#bundles-distances-mdf\">bundles_distances_mdf</a></li>\n<li><a class=\"reference internal\" href=\"#cdist\">cdist</a></li>\n<li><a class=\"reference internal\" href=\"#center-streamlines\">center_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#cluster-confidence\">cluster_confidence</a></li>\n<li><a class=\"reference internal\" href=\"#id48\">compress_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#deepcopy\">deepcopy</a></li>\n<li><a class=\"reference internal\" href=\"#deform-streamlines\">deform_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#dist-to-corner\">dist_to_corner</a></li>\n<li><a class=\"reference internal\" href=\"#id60\">length</a></li>\n<li><a class=\"reference internal\" href=\"#nbytes\">nbytes</a></li>\n<li><a class=\"reference internal\" href=\"#orient-by-rois\">orient_by_rois</a></li>\n<li><a class=\"reference internal\" href=\"#orient-by-streamline\">orient_by_streamline</a></li>\n<li><a class=\"reference internal\" href=\"#relist-streamlines\">relist_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#select-by-rois\">select_by_rois</a></li>\n<li><a class=\"reference internal\" href=\"#select-random-set-of-streamlines\">select_random_set_of_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#id61\">set_number_of_points</a></li>\n<li><a class=\"reference internal\" href=\"#streamline-near-roi\">streamline_near_roi</a></li>\n<li><a class=\"reference internal\" href=\"#id62\">transform_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#unlist-streamlines\">unlist_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#values-from-volume\">values_from_volume</a></li>\n<li><a class=\"reference internal\" href=\"#id63\">warn</a></li>\n<li><a class=\"reference internal\" href=\"#defaultdict\"><code class=\"docutils literal notranslate\"><span class=\"pre\">defaultdict</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#map\"><code class=\"docutils literal notranslate\"><span class=\"pre\">map</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#id66\"><code class=\"docutils literal notranslate\"><span class=\"pre\">xrange</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#affine-for-trackvis\">affine_for_trackvis</a></li>\n<li><a class=\"reference internal\" href=\"#affine-from-fsl-mat-file\">affine_from_fsl_mat_file</a></li>\n<li><a class=\"reference internal\" href=\"#id67\">apply_affine</a></li>\n<li><a class=\"reference internal\" href=\"#asarray\">asarray</a></li>\n<li><a class=\"reference internal\" href=\"#id68\">cdist</a></li>\n<li><a class=\"reference internal\" href=\"#connectivity-matrix\">connectivity_matrix</a></li>\n<li><a class=\"reference internal\" href=\"#density-map\">density_map</a></li>\n<li><a class=\"reference internal\" href=\"#id69\">dist_to_corner</a></li>\n<li><a class=\"reference internal\" href=\"#dot\">dot</a></li>\n<li><a class=\"reference internal\" href=\"#empty\">empty</a></li>\n<li><a class=\"reference internal\" href=\"#eye\">eye</a></li>\n<li><a class=\"reference internal\" href=\"#flexi-tvis-affine\">flexi_tvis_affine</a></li>\n<li><a class=\"reference internal\" href=\"#get-flexi-tvis-affine\">get_flexi_tvis_affine</a></li>\n<li><a class=\"reference internal\" href=\"#id70\">length</a></li>\n<li><a class=\"reference internal\" href=\"#minimum-at\">minimum_at</a></li>\n<li><a class=\"reference internal\" href=\"#move-streamlines\">move_streamlines</a></li>\n<li><a class=\"reference internal\" href=\"#ndbincount\">ndbincount</a></li>\n<li><a class=\"reference internal\" href=\"#near-roi\">near_roi</a></li>\n<li><a class=\"reference internal\" href=\"#orientation-from-string\">orientation_from_string</a></li>\n<li><a class=\"reference internal\" href=\"#ornt-mapping\">ornt_mapping</a></li>\n<li><a class=\"reference internal\" href=\"#path-length\">path_length</a></li>\n<li><a class=\"reference internal\" href=\"#random-seeds-from-mask\">random_seeds_from_mask</a></li>\n<li><a class=\"reference internal\" href=\"#ravel-multi-index\">ravel_multi_index</a></li>\n<li><a class=\"reference internal\" href=\"#reduce-labels\">reduce_labels</a></li>\n<li><a class=\"reference internal\" href=\"#reduce-rois\">reduce_rois</a></li>\n<li><a class=\"reference internal\" href=\"#reorder-voxels-affine\">reorder_voxels_affine</a></li>\n<li><a class=\"reference internal\" href=\"#seeds-from-mask\">seeds_from_mask</a></li>\n<li><a class=\"reference internal\" href=\"#id71\">streamline_near_roi</a></li>\n<li><a class=\"reference internal\" href=\"#subsegment\">subsegment</a></li>\n<li><a class=\"reference internal\" href=\"#target\">target</a></li>\n<li><a class=\"reference internal\" href=\"#target-line-based\">target_line_based</a></li>\n<li><a class=\"reference internal\" href=\"#id72\">unique_rows</a></li>\n<li><a class=\"reference internal\" href=\"#id73\">warn</a></li>\n<li><a class=\"reference internal\" href=\"#wraps\">wraps</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "reference/dipy.tracking", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.11"}