{"parents": [], "prev": null, "next": null, "title": "User Interfaces", "meta": {}, "body": "<div class=\"section\" id=\"user-interfaces\">\n<span id=\"example-viz-ui\"></span><h1>User Interfaces<a class=\"headerlink\" href=\"#user-interfaces\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>This example shows how to use the UI API. We will demonstrate how to create\nseveral DIPY UI elements, then use a list box to toggle which element is shown.</p>\n<p>First, a bunch of imports.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">dipy.viz</span> <span class=\"k\">import</span> <span class=\"n\">read_viz_icons</span><span class=\"p\">,</span> <span class=\"n\">fetch_viz_icons</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">dipy.viz</span> <span class=\"k\">import</span> <span class=\"n\">ui</span><span class=\"p\">,</span> <span class=\"n\">window</span>\n</pre></div>\n</div>\n<div class=\"section\" id=\"shapes\">\n<h2>Shapes<a class=\"headerlink\" href=\"#shapes\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Let\u2019s start by drawing some simple shapes. First, a rectangle.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">rect</span> <span class=\"o\">=</span> <span class=\"n\">ui</span><span class=\"o\">.</span><span class=\"n\">Rectangle2D</span><span class=\"p\">(</span><span class=\"n\">size</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">,</span> <span class=\"mi\">200</span><span class=\"p\">),</span> <span class=\"n\">position</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">400</span><span class=\"p\">,</span> <span class=\"mi\">300</span><span class=\"p\">),</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n<p>Then we can draw a solid circle, or disk.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">disk</span> <span class=\"o\">=</span> <span class=\"n\">ui</span><span class=\"o\">.</span><span class=\"n\">Disk2D</span><span class=\"p\">(</span><span class=\"n\">outer_radius</span><span class=\"o\">=</span><span class=\"mi\">50</span><span class=\"p\">,</span> <span class=\"n\">center</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">,</span> <span class=\"mi\">500</span><span class=\"p\">),</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n<p>Add an inner radius to make a ring.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">ring</span> <span class=\"o\">=</span> <span class=\"n\">ui</span><span class=\"o\">.</span><span class=\"n\">Disk2D</span><span class=\"p\">(</span><span class=\"n\">outer_radius</span><span class=\"o\">=</span><span class=\"mi\">50</span><span class=\"p\">,</span> <span class=\"n\">inner_radius</span><span class=\"o\">=</span><span class=\"mi\">45</span><span class=\"p\">,</span> <span class=\"n\">center</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">,</span> <span class=\"mi\">300</span><span class=\"p\">),</span>\n                 <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"image\">\n<h2>Image<a class=\"headerlink\" href=\"#image\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Now let\u2019s display an image. First we need to fetch some icons that are included\nin DIPY.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">fetch_viz_icons</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>Now we can create an image container.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">img</span> <span class=\"o\">=</span> <span class=\"n\">ui</span><span class=\"o\">.</span><span class=\"n\">ImageContainer2D</span><span class=\"p\">(</span><span class=\"n\">img_path</span><span class=\"o\">=</span><span class=\"n\">read_viz_icons</span><span class=\"p\">(</span><span class=\"n\">fname</span><span class=\"o\">=</span><span class=\"s1\">&#39;home3.png&#39;</span><span class=\"p\">),</span>\n                          <span class=\"n\">position</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">450</span><span class=\"p\">,</span> <span class=\"mi\">350</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"panel-with-buttons-and-text\">\n<h2>Panel with buttons and text<a class=\"headerlink\" href=\"#panel-with-buttons-and-text\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Let\u2019s create some buttons and text and put them in a panel. First we\u2019ll\nmake the panel.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">panel</span> <span class=\"o\">=</span> <span class=\"n\">ui</span><span class=\"o\">.</span><span class=\"n\">Panel2D</span><span class=\"p\">(</span><span class=\"n\">size</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">300</span><span class=\"p\">,</span> <span class=\"mi\">150</span><span class=\"p\">),</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span> <span class=\"n\">align</span><span class=\"o\">=</span><span class=\"s2\">&quot;right&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">panel</span><span class=\"o\">.</span><span class=\"n\">center</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">,</span> <span class=\"mi\">400</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Then we\u2019ll make two text labels and place them on the panel.\nNote that we specifiy the position with integer numbers of pixels.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">text</span> <span class=\"o\">=</span> <span class=\"n\">ui</span><span class=\"o\">.</span><span class=\"n\">TextBlock2D</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"o\">=</span><span class=\"s1\">&#39;Click me&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">text2</span> <span class=\"o\">=</span> <span class=\"n\">ui</span><span class=\"o\">.</span><span class=\"n\">TextBlock2D</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"o\">=</span><span class=\"s1\">&#39;Me too&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">panel</span><span class=\"o\">.</span><span class=\"n\">add_element</span><span class=\"p\">(</span><span class=\"n\">text</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mi\">50</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">))</span>\n<span class=\"n\">panel</span><span class=\"o\">.</span><span class=\"n\">add_element</span><span class=\"p\">(</span><span class=\"n\">text2</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mi\">180</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n<p>Then we\u2019ll create two buttons and add them to the panel.</p>\n<p>Note that here we specify the positions with floats. In this case, these are\npercentages of the panel size.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">button_example</span> <span class=\"o\">=</span> <span class=\"n\">ui</span><span class=\"o\">.</span><span class=\"n\">Button2D</span><span class=\"p\">(</span>\n    <span class=\"n\">icon_fnames</span><span class=\"o\">=</span><span class=\"p\">[(</span><span class=\"s1\">&#39;square&#39;</span><span class=\"p\">,</span> <span class=\"n\">read_viz_icons</span><span class=\"p\">(</span><span class=\"n\">fname</span><span class=\"o\">=</span><span class=\"s1\">&#39;stop2.png&#39;</span><span class=\"p\">))])</span>\n\n<span class=\"n\">icon_files</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"n\">icon_files</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">((</span><span class=\"s1\">&#39;down&#39;</span><span class=\"p\">,</span> <span class=\"n\">read_viz_icons</span><span class=\"p\">(</span><span class=\"n\">fname</span><span class=\"o\">=</span><span class=\"s1\">&#39;circle-down.png&#39;</span><span class=\"p\">)))</span>\n<span class=\"n\">icon_files</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">((</span><span class=\"s1\">&#39;left&#39;</span><span class=\"p\">,</span> <span class=\"n\">read_viz_icons</span><span class=\"p\">(</span><span class=\"n\">fname</span><span class=\"o\">=</span><span class=\"s1\">&#39;circle-left.png&#39;</span><span class=\"p\">)))</span>\n<span class=\"n\">icon_files</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">((</span><span class=\"s1\">&#39;up&#39;</span><span class=\"p\">,</span> <span class=\"n\">read_viz_icons</span><span class=\"p\">(</span><span class=\"n\">fname</span><span class=\"o\">=</span><span class=\"s1\">&#39;circle-up.png&#39;</span><span class=\"p\">)))</span>\n<span class=\"n\">icon_files</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">((</span><span class=\"s1\">&#39;right&#39;</span><span class=\"p\">,</span> <span class=\"n\">read_viz_icons</span><span class=\"p\">(</span><span class=\"n\">fname</span><span class=\"o\">=</span><span class=\"s1\">&#39;circle-right.png&#39;</span><span class=\"p\">)))</span>\n\n<span class=\"n\">second_button_example</span> <span class=\"o\">=</span> <span class=\"n\">ui</span><span class=\"o\">.</span><span class=\"n\">Button2D</span><span class=\"p\">(</span><span class=\"n\">icon_fnames</span><span class=\"o\">=</span><span class=\"n\">icon_files</span><span class=\"p\">)</span>\n\n<span class=\"n\">panel</span><span class=\"o\">.</span><span class=\"n\">add_element</span><span class=\"p\">(</span><span class=\"n\">button_example</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mf\">0.25</span><span class=\"p\">,</span> <span class=\"mf\">0.33</span><span class=\"p\">))</span>\n<span class=\"n\">panel</span><span class=\"o\">.</span><span class=\"n\">add_element</span><span class=\"p\">(</span><span class=\"n\">second_button_example</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mf\">0.66</span><span class=\"p\">,</span> <span class=\"mf\">0.33</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n<p>We can add a callback to each button to perform some action.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">change_text_callback</span><span class=\"p\">(</span><span class=\"n\">i_ren</span><span class=\"p\">,</span> <span class=\"n\">obj</span><span class=\"p\">,</span> <span class=\"n\">button</span><span class=\"p\">):</span>\n    <span class=\"n\">text</span><span class=\"o\">.</span><span class=\"n\">message</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;Clicked!&#39;</span>\n    <span class=\"n\">i_ren</span><span class=\"o\">.</span><span class=\"n\">force_render</span><span class=\"p\">()</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">change_icon_callback</span><span class=\"p\">(</span><span class=\"n\">i_ren</span><span class=\"p\">,</span> <span class=\"n\">obj</span><span class=\"p\">,</span> <span class=\"n\">button</span><span class=\"p\">):</span>\n    <span class=\"n\">button</span><span class=\"o\">.</span><span class=\"n\">next_icon</span><span class=\"p\">()</span>\n    <span class=\"n\">i_ren</span><span class=\"o\">.</span><span class=\"n\">force_render</span><span class=\"p\">()</span>\n\n\n<span class=\"n\">button_example</span><span class=\"o\">.</span><span class=\"n\">on_left_mouse_button_clicked</span> <span class=\"o\">=</span> <span class=\"n\">change_text_callback</span>\n<span class=\"n\">second_button_example</span><span class=\"o\">.</span><span class=\"n\">on_left_mouse_button_pressed</span> <span class=\"o\">=</span> <span class=\"n\">change_icon_callback</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"cube-and-sliders\">\n<h2>Cube and sliders<a class=\"headerlink\" href=\"#cube-and-sliders\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Let\u2019s add a cube to the scene and control it with sliders.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">cube_maker</span><span class=\"p\">(</span><span class=\"n\">color</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mf\">0.2</span><span class=\"p\">,</span> <span class=\"mf\">0.2</span><span class=\"p\">,</span> <span class=\"mf\">0.2</span><span class=\"p\">),</span> <span class=\"n\">center</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)):</span>\n    <span class=\"n\">cube</span> <span class=\"o\">=</span> <span class=\"n\">window</span><span class=\"o\">.</span><span class=\"n\">vtk</span><span class=\"o\">.</span><span class=\"n\">vtkCubeSource</span><span class=\"p\">()</span>\n    <span class=\"n\">cube</span><span class=\"o\">.</span><span class=\"n\">SetXLength</span><span class=\"p\">(</span><span class=\"n\">size</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n    <span class=\"n\">cube</span><span class=\"o\">.</span><span class=\"n\">SetYLength</span><span class=\"p\">(</span><span class=\"n\">size</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n    <span class=\"n\">cube</span><span class=\"o\">.</span><span class=\"n\">SetZLength</span><span class=\"p\">(</span><span class=\"n\">size</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">])</span>\n    <span class=\"k\">if</span> <span class=\"n\">center</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">cube</span><span class=\"o\">.</span><span class=\"n\">SetCenter</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">center</span><span class=\"p\">)</span>\n    <span class=\"n\">cube_mapper</span> <span class=\"o\">=</span> <span class=\"n\">window</span><span class=\"o\">.</span><span class=\"n\">vtk</span><span class=\"o\">.</span><span class=\"n\">vtkPolyDataMapper</span><span class=\"p\">()</span>\n    <span class=\"n\">cube_mapper</span><span class=\"o\">.</span><span class=\"n\">SetInputConnection</span><span class=\"p\">(</span><span class=\"n\">cube</span><span class=\"o\">.</span><span class=\"n\">GetOutputPort</span><span class=\"p\">())</span>\n    <span class=\"n\">cube_actor</span> <span class=\"o\">=</span> <span class=\"n\">window</span><span class=\"o\">.</span><span class=\"n\">vtk</span><span class=\"o\">.</span><span class=\"n\">vtkActor</span><span class=\"p\">()</span>\n    <span class=\"n\">cube_actor</span><span class=\"o\">.</span><span class=\"n\">SetMapper</span><span class=\"p\">(</span><span class=\"n\">cube_mapper</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">color</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n        <span class=\"n\">cube_actor</span><span class=\"o\">.</span><span class=\"n\">GetProperty</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">SetColor</span><span class=\"p\">(</span><span class=\"n\">color</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">cube_actor</span>\n\n\n<span class=\"n\">cube</span> <span class=\"o\">=</span> <span class=\"n\">cube_maker</span><span class=\"p\">(</span><span class=\"n\">color</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">20</span><span class=\"p\">,</span> <span class=\"mi\">20</span><span class=\"p\">,</span> <span class=\"mi\">20</span><span class=\"p\">),</span> <span class=\"n\">center</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">15</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n<p>Now we\u2019ll add two sliders: one circular and one linear.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">ring_slider</span> <span class=\"o\">=</span> <span class=\"n\">ui</span><span class=\"o\">.</span><span class=\"n\">RingSlider2D</span><span class=\"p\">(</span><span class=\"n\">center</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">740</span><span class=\"p\">,</span> <span class=\"mi\">400</span><span class=\"p\">),</span> <span class=\"n\">initial_value</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span>\n                              <span class=\"n\">text_template</span><span class=\"o\">=</span><span class=\"s2\">&quot;</span><span class=\"si\">{angle:5.1f}</span><span class=\"s2\">\u00b0&quot;</span><span class=\"p\">)</span>\n\n<span class=\"n\">line_slider</span> <span class=\"o\">=</span> <span class=\"n\">ui</span><span class=\"o\">.</span><span class=\"n\">LineSlider2D</span><span class=\"p\">(</span><span class=\"n\">center</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">,</span> <span class=\"mi\">250</span><span class=\"p\">),</span> <span class=\"n\">initial_value</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span>\n                              <span class=\"n\">min_value</span><span class=\"o\">=-</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">max_value</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>We can use a callback to rotate the cube with the ring slider.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">rotate_cube</span><span class=\"p\">(</span><span class=\"n\">slider</span><span class=\"p\">):</span>\n    <span class=\"n\">angle</span> <span class=\"o\">=</span> <span class=\"n\">slider</span><span class=\"o\">.</span><span class=\"n\">value</span>\n    <span class=\"n\">previous_angle</span> <span class=\"o\">=</span> <span class=\"n\">slider</span><span class=\"o\">.</span><span class=\"n\">previous_value</span>\n    <span class=\"n\">rotation_angle</span> <span class=\"o\">=</span> <span class=\"n\">angle</span> <span class=\"o\">-</span> <span class=\"n\">previous_angle</span>\n    <span class=\"n\">cube</span><span class=\"o\">.</span><span class=\"n\">RotateX</span><span class=\"p\">(</span><span class=\"n\">rotation_angle</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">ring_slider</span><span class=\"o\">.</span><span class=\"n\">on_change</span> <span class=\"o\">=</span> <span class=\"n\">rotate_cube</span>\n</pre></div>\n</div>\n<p>Similarly, we can translate the cube with the line slider.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">translate_cube</span><span class=\"p\">(</span><span class=\"n\">slider</span><span class=\"p\">):</span>\n    <span class=\"n\">value</span> <span class=\"o\">=</span> <span class=\"n\">slider</span><span class=\"o\">.</span><span class=\"n\">value</span>\n    <span class=\"n\">cube</span><span class=\"o\">.</span><span class=\"n\">SetPosition</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">line_slider</span><span class=\"o\">.</span><span class=\"n\">on_change</span> <span class=\"o\">=</span> <span class=\"n\">translate_cube</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"range-slider\">\n<h2>Range Slider<a class=\"headerlink\" href=\"#range-slider\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Finally, we can add a range slider. This element is composed of two sliders.\nThe first slider has two handles which let you set the range of the second.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">range_slider</span> <span class=\"o\">=</span> <span class=\"n\">ui</span><span class=\"o\">.</span><span class=\"n\">RangeSlider</span><span class=\"p\">(</span>\n    <span class=\"n\">line_width</span><span class=\"o\">=</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"n\">handle_side</span><span class=\"o\">=</span><span class=\"mi\">25</span><span class=\"p\">,</span> <span class=\"n\">range_slider_center</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">550</span><span class=\"p\">,</span> <span class=\"mi\">450</span><span class=\"p\">),</span>\n    <span class=\"n\">value_slider_center</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">550</span><span class=\"p\">,</span> <span class=\"mi\">350</span><span class=\"p\">),</span> <span class=\"n\">length</span><span class=\"o\">=</span><span class=\"mi\">250</span><span class=\"p\">,</span> <span class=\"n\">min_value</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span>\n    <span class=\"n\">max_value</span><span class=\"o\">=</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">font_size</span><span class=\"o\">=</span><span class=\"mi\">18</span><span class=\"p\">,</span> <span class=\"n\">range_precision</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">value_precision</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">,</span>\n    <span class=\"n\">shape</span><span class=\"o\">=</span><span class=\"s2\">&quot;square&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"select-menu\">\n<h2>Select menu<a class=\"headerlink\" href=\"#select-menu\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>We just added many examples. If we showed them all at once, they would fill the\nscreen. Let\u2019s make a simple menu to choose which example is shown.</p>\n<p>We\u2019ll first make a list of the examples.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">examples</span> <span class=\"o\">=</span> <span class=\"p\">[[</span><span class=\"n\">rect</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"n\">disk</span><span class=\"p\">,</span> <span class=\"n\">ring</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"n\">img</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"n\">panel</span><span class=\"p\">],</span>\n            <span class=\"p\">[</span><span class=\"n\">ring_slider</span><span class=\"p\">,</span> <span class=\"n\">line_slider</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"n\">range_slider</span><span class=\"p\">]]</span>\n</pre></div>\n</div>\n<p>Now we\u2019ll make a function to hide all the examples. Then we\u2019ll call it so that\nnone are shown initially.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">hide_all_examples</span><span class=\"p\">():</span>\n    <span class=\"k\">for</span> <span class=\"n\">example</span> <span class=\"ow\">in</span> <span class=\"n\">examples</span><span class=\"p\">:</span>\n        <span class=\"k\">for</span> <span class=\"n\">element</span> <span class=\"ow\">in</span> <span class=\"n\">example</span><span class=\"p\">:</span>\n            <span class=\"n\">element</span><span class=\"o\">.</span><span class=\"n\">set_visibility</span><span class=\"p\">(</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n    <span class=\"n\">cube</span><span class=\"o\">.</span><span class=\"n\">SetVisibility</span><span class=\"p\">(</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">hide_all_examples</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>To make the menu, we\u2019ll first need to create a list of labels which correspond\nwith the examples.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">values</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">&#39;Rectangle&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Disks&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Image&#39;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Button Panel&quot;</span><span class=\"p\">,</span>\n          <span class=\"s2\">&quot;Line and Ring Slider&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;Range Slider&quot;</span><span class=\"p\">]</span>\n</pre></div>\n</div>\n<p>Now we can create the menu.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">listbox</span> <span class=\"o\">=</span> <span class=\"n\">ui</span><span class=\"o\">.</span><span class=\"n\">ListBox2D</span><span class=\"p\">(</span><span class=\"n\">values</span><span class=\"o\">=</span><span class=\"n\">values</span><span class=\"p\">,</span> <span class=\"n\">position</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">300</span><span class=\"p\">),</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">300</span><span class=\"p\">,</span> <span class=\"mi\">200</span><span class=\"p\">),</span>\n                       <span class=\"n\">multiselection</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Then we will use a callback to show the correct example when a label is\nclicked.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">display_element</span><span class=\"p\">():</span>\n    <span class=\"n\">hide_all_examples</span><span class=\"p\">()</span>\n    <span class=\"n\">example</span> <span class=\"o\">=</span> <span class=\"n\">examples</span><span class=\"p\">[</span><span class=\"n\">values</span><span class=\"o\">.</span><span class=\"n\">index</span><span class=\"p\">(</span><span class=\"n\">listbox</span><span class=\"o\">.</span><span class=\"n\">selected</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])]</span>\n    <span class=\"k\">for</span> <span class=\"n\">element</span> <span class=\"ow\">in</span> <span class=\"n\">example</span><span class=\"p\">:</span>\n        <span class=\"n\">element</span><span class=\"o\">.</span><span class=\"n\">set_visibility</span><span class=\"p\">(</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">values</span><span class=\"o\">.</span><span class=\"n\">index</span><span class=\"p\">(</span><span class=\"n\">listbox</span><span class=\"o\">.</span><span class=\"n\">selected</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span> <span class=\"o\">==</span> <span class=\"mi\">4</span><span class=\"p\">:</span>\n        <span class=\"n\">cube</span><span class=\"o\">.</span><span class=\"n\">SetVisibility</span><span class=\"p\">(</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">listbox</span><span class=\"o\">.</span><span class=\"n\">on_change</span> <span class=\"o\">=</span> <span class=\"n\">display_element</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"show-manager\">\n<h2>Show Manager<a class=\"headerlink\" href=\"#show-manager\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Now that all the elements have been initialised, we add them to the show\nmanager.</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">current_size</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mi\">800</span><span class=\"p\">,</span> <span class=\"mi\">800</span><span class=\"p\">)</span>\n<span class=\"n\">renderer</span> <span class=\"o\">=</span> <span class=\"n\">window</span><span class=\"o\">.</span><span class=\"n\">Renderer</span><span class=\"p\">()</span>\n<span class=\"n\">show_manager</span> <span class=\"o\">=</span> <span class=\"n\">window</span><span class=\"o\">.</span><span class=\"n\">ShowManager</span><span class=\"p\">(</span><span class=\"n\">renderer</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"n\">current_size</span><span class=\"p\">,</span>\n                                  <span class=\"n\">title</span><span class=\"o\">=</span><span class=\"s2\">&quot;DIPY UI Example&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">show_manager</span><span class=\"o\">.</span><span class=\"n\">initialize</span><span class=\"p\">()</span>\n\n<span class=\"n\">renderer</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">listbox</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">example</span> <span class=\"ow\">in</span> <span class=\"n\">examples</span><span class=\"p\">:</span>\n    <span class=\"k\">for</span> <span class=\"n\">element</span> <span class=\"ow\">in</span> <span class=\"n\">example</span><span class=\"p\">:</span>\n        <span class=\"n\">renderer</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">element</span><span class=\"p\">)</span>\n<span class=\"n\">renderer</span><span class=\"o\">.</span><span class=\"n\">add</span><span class=\"p\">(</span><span class=\"n\">cube</span><span class=\"p\">)</span>\n<span class=\"n\">renderer</span><span class=\"o\">.</span><span class=\"n\">reset_camera</span><span class=\"p\">()</span>\n<span class=\"n\">renderer</span><span class=\"o\">.</span><span class=\"n\">set_camera</span><span class=\"p\">(</span><span class=\"n\">position</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">200</span><span class=\"p\">))</span>\n<span class=\"n\">renderer</span><span class=\"o\">.</span><span class=\"n\">reset_clipping_range</span><span class=\"p\">()</span>\n<span class=\"n\">renderer</span><span class=\"o\">.</span><span class=\"n\">azimuth</span><span class=\"p\">(</span><span class=\"mi\">30</span><span class=\"p\">)</span>\n\n<span class=\"n\">interactive</span> <span class=\"o\">=</span> <span class=\"kc\">False</span>\n\n<span class=\"k\">if</span> <span class=\"n\">interactive</span><span class=\"p\">:</span>\n    <span class=\"n\">show_manager</span><span class=\"o\">.</span><span class=\"n\">start</span><span class=\"p\">()</span>\n\n<span class=\"k\">else</span><span class=\"p\">:</span>\n    <span class=\"n\">window</span><span class=\"o\">.</span><span class=\"n\">record</span><span class=\"p\">(</span><span class=\"n\">renderer</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"n\">current_size</span><span class=\"p\">,</span> <span class=\"n\">out_path</span><span class=\"o\">=</span><span class=\"s2\">&quot;viz_ui.png&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"figure align-center\" id=\"id1\">\n<img alt=\"../../_images/viz_ui.png\" src=\"../../_images/viz_ui.png\" />\n<p class=\"caption\"><span class=\"caption-text\"><strong>User interface example</strong>.</span></p>\n</div>\n<div class=\"admonition-example-source-code admonition\">\n<p class=\"first admonition-title\">Example source code</p>\n<p class=\"last\">You can download <a class=\"reference download internal\" href=\"../../_downloads/viz_ui.py\" download=\"\"><code class=\"xref download docutils literal notranslate\"><span class=\"pre\">the</span> <span class=\"pre\">full</span> <span class=\"pre\">source</span> <span class=\"pre\">code</span> <span class=\"pre\">of</span> <span class=\"pre\">this</span> <span class=\"pre\">example</span></code></a>. This same script is also included in the dipy source distribution under the <code class=\"file docutils literal notranslate\"><span class=\"pre\">doc/examples/</span></code> directory.</p>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"]], "sourcename": "examples_built/viz_ui.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">User Interfaces</a><ul>\n<li><a class=\"reference internal\" href=\"#shapes\">Shapes</a></li>\n<li><a class=\"reference internal\" href=\"#image\">Image</a></li>\n<li><a class=\"reference internal\" href=\"#panel-with-buttons-and-text\">Panel with buttons and text</a></li>\n<li><a class=\"reference internal\" href=\"#cube-and-sliders\">Cube and sliders</a></li>\n<li><a class=\"reference internal\" href=\"#range-slider\">Range Slider</a></li>\n<li><a class=\"reference internal\" href=\"#select-menu\">Select menu</a></li>\n<li><a class=\"reference internal\" href=\"#show-manager\">Show Manager</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "examples_built/viz_ui", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "alabaster_version": "0.7.11"}